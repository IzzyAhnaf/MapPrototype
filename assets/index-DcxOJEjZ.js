var _1=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var fM=_1((_M,Yl)=>{function Ev(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in t)){const a=Object.getOwnPropertyDescriptor(i,o);a&&Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var g1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function df(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Cv={exports:{}},Vu={},Sv={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pa=Symbol.for("react.element"),v1=Symbol.for("react.portal"),y1=Symbol.for("react.fragment"),w1=Symbol.for("react.strict_mode"),E1=Symbol.for("react.profiler"),C1=Symbol.for("react.provider"),S1=Symbol.for("react.context"),x1=Symbol.for("react.forward_ref"),T1=Symbol.for("react.suspense"),P1=Symbol.for("react.memo"),I1=Symbol.for("react.lazy"),zm=Symbol.iterator;function k1(t){return t===null||typeof t!="object"?null:(t=zm&&t[zm]||t["@@iterator"],typeof t=="function"?t:null)}var xv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tv=Object.assign,Pv={};function Bo(t,e,n){this.props=t,this.context=e,this.refs=Pv,this.updater=n||xv}Bo.prototype.isReactComponent={};Bo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Bo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Iv(){}Iv.prototype=Bo.prototype;function ff(t,e,n){this.props=t,this.context=e,this.refs=Pv,this.updater=n||xv}var pf=ff.prototype=new Iv;pf.constructor=ff;Tv(pf,Bo.prototype);pf.isPureReactComponent=!0;var Fm=Array.isArray,kv=Object.prototype.hasOwnProperty,mf={current:null},Lv={key:!0,ref:!0,__self:!0,__source:!0};function Rv(t,e,n){var i,o={},a=null,l=null;if(e!=null)for(i in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(a=""+e.key),e)kv.call(e,i)&&!Lv.hasOwnProperty(i)&&(o[i]=e[i]);var c=arguments.length-2;if(c===1)o.children=n;else if(1<c){for(var h=Array(c),f=0;f<c;f++)h[f]=arguments[f+2];o.children=h}if(t&&t.defaultProps)for(i in c=t.defaultProps,c)o[i]===void 0&&(o[i]=c[i]);return{$$typeof:Pa,type:t,key:a,ref:l,props:o,_owner:mf.current}}function L1(t,e){return{$$typeof:Pa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function _f(t){return typeof t=="object"&&t!==null&&t.$$typeof===Pa}function R1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Bm=/\/+/g;function oh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?R1(""+t.key):e.toString(36)}function Ol(t,e,n,i,o){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Pa:case v1:l=!0}}if(l)return l=t,o=o(l),t=i===""?"."+oh(l,0):i,Fm(o)?(n="",t!=null&&(n=t.replace(Bm,"$&/")+"/"),Ol(o,e,n,"",function(f){return f})):o!=null&&(_f(o)&&(o=L1(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(Bm,"$&/")+"/")+t)),e.push(o)),1;if(l=0,i=i===""?".":i+":",Fm(t))for(var c=0;c<t.length;c++){a=t[c];var h=i+oh(a,c);l+=Ol(a,e,n,h,o)}else if(h=k1(t),typeof h=="function")for(t=h.call(t),c=0;!(a=t.next()).done;)a=a.value,h=i+oh(a,c++),l+=Ol(a,e,n,h,o);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function pl(t,e,n){if(t==null)return t;var i=[],o=0;return Ol(t,i,"","",function(a){return e.call(n,a,o++)}),i}function N1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dt={current:null},Dl={transition:null},b1={ReactCurrentDispatcher:Dt,ReactCurrentBatchConfig:Dl,ReactCurrentOwner:mf};function Nv(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:pl,forEach:function(t,e,n){pl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return pl(t,function(){e++}),e},toArray:function(t){return pl(t,function(e){return e})||[]},only:function(t){if(!_f(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ee.Component=Bo;Ee.Fragment=y1;Ee.Profiler=E1;Ee.PureComponent=ff;Ee.StrictMode=w1;Ee.Suspense=T1;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b1;Ee.act=Nv;Ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=Tv({},t.props),o=t.key,a=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,l=mf.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(h in e)kv.call(e,h)&&!Lv.hasOwnProperty(h)&&(i[h]=e[h]===void 0&&c!==void 0?c[h]:e[h])}var h=arguments.length-2;if(h===1)i.children=n;else if(1<h){c=Array(h);for(var f=0;f<h;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:Pa,type:t.type,key:o,ref:a,props:i,_owner:l}};Ee.createContext=function(t){return t={$$typeof:S1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:C1,_context:t},t.Consumer=t};Ee.createElement=Rv;Ee.createFactory=function(t){var e=Rv.bind(null,t);return e.type=t,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(t){return{$$typeof:x1,render:t}};Ee.isValidElement=_f;Ee.lazy=function(t){return{$$typeof:I1,_payload:{_status:-1,_result:t},_init:N1}};Ee.memo=function(t,e){return{$$typeof:P1,type:t,compare:e===void 0?null:e}};Ee.startTransition=function(t){var e=Dl.transition;Dl.transition={};try{t()}finally{Dl.transition=e}};Ee.unstable_act=Nv;Ee.useCallback=function(t,e){return Dt.current.useCallback(t,e)};Ee.useContext=function(t){return Dt.current.useContext(t)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(t){return Dt.current.useDeferredValue(t)};Ee.useEffect=function(t,e){return Dt.current.useEffect(t,e)};Ee.useId=function(){return Dt.current.useId()};Ee.useImperativeHandle=function(t,e,n){return Dt.current.useImperativeHandle(t,e,n)};Ee.useInsertionEffect=function(t,e){return Dt.current.useInsertionEffect(t,e)};Ee.useLayoutEffect=function(t,e){return Dt.current.useLayoutEffect(t,e)};Ee.useMemo=function(t,e){return Dt.current.useMemo(t,e)};Ee.useReducer=function(t,e,n){return Dt.current.useReducer(t,e,n)};Ee.useRef=function(t){return Dt.current.useRef(t)};Ee.useState=function(t){return Dt.current.useState(t)};Ee.useSyncExternalStore=function(t,e,n){return Dt.current.useSyncExternalStore(t,e,n)};Ee.useTransition=function(){return Dt.current.useTransition()};Ee.version="18.3.1";Sv.exports=Ee;var A=Sv.exports;const dn=df(A),M1=Ev({__proto__:null,default:dn},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A1=A,O1=Symbol.for("react.element"),D1=Symbol.for("react.fragment"),z1=Object.prototype.hasOwnProperty,F1=A1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,B1={key:!0,ref:!0,__self:!0,__source:!0};function bv(t,e,n){var i,o={},a=null,l=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(l=e.ref);for(i in e)z1.call(e,i)&&!B1.hasOwnProperty(i)&&(o[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)o[i]===void 0&&(o[i]=e[i]);return{$$typeof:O1,type:t,key:a,ref:l,props:o,_owner:F1.current}}Vu.Fragment=D1;Vu.jsx=bv;Vu.jsxs=bv;Cv.exports=Vu;var $=Cv.exports,Kh={},Mv={exports:{}},tn={},Av={exports:{}},Ov={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,se){var H=D.length;D.push(se);e:for(;0<H;){var ne=H-1>>>1,pe=D[ne];if(0<o(pe,se))D[ne]=se,D[H]=pe,H=ne;else break e}}function n(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var se=D[0],H=D.pop();if(H!==se){D[0]=H;e:for(var ne=0,pe=D.length,He=pe>>>1;ne<He;){var ge=2*(ne+1)-1,me=D[ge],ae=ge+1,Tt=D[ae];if(0>o(me,H))ae<pe&&0>o(Tt,me)?(D[ne]=Tt,D[ae]=H,ne=ae):(D[ne]=me,D[ge]=H,ne=ge);else if(ae<pe&&0>o(Tt,H))D[ne]=Tt,D[ae]=H,ne=ae;else break e}}return se}function o(D,se){var H=D.sortIndex-se.sortIndex;return H!==0?H:D.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var h=[],f=[],g=1,m=null,_=3,E=!1,T=!1,P=!1,z=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(D){for(var se=n(f);se!==null;){if(se.callback===null)i(f);else if(se.startTime<=D)i(f),se.sortIndex=se.expirationTime,e(h,se);else break;se=n(f)}}function O(D){if(P=!1,S(D),!T)if(n(h)!==null)T=!0,Je(j);else{var se=n(f);se!==null&&Me(O,se.startTime-D)}}function j(D,se){T=!1,P&&(P=!1,C(Z),Z=-1),E=!0;var H=_;try{for(S(se),m=n(h);m!==null&&(!(m.expirationTime>se)||D&&!re());){var ne=m.callback;if(typeof ne=="function"){m.callback=null,_=m.priorityLevel;var pe=ne(m.expirationTime<=se);se=t.unstable_now(),typeof pe=="function"?m.callback=pe:m===n(h)&&i(h),S(se)}else i(h);m=n(h)}if(m!==null)var He=!0;else{var ge=n(f);ge!==null&&Me(O,ge.startTime-se),He=!1}return He}finally{m=null,_=H,E=!1}}var I=!1,B=null,Z=-1,Y=5,te=-1;function re(){return!(t.unstable_now()-te<Y)}function Se(){if(B!==null){var D=t.unstable_now();te=D;var se=!0;try{se=B(!0,D)}finally{se?ke():(I=!1,B=null)}}else I=!1}var ke;if(typeof y=="function")ke=function(){y(Se)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,Mn=be.port2;be.port1.onmessage=Se,ke=function(){Mn.postMessage(null)}}else ke=function(){z(Se,0)};function Je(D){B=D,I||(I=!0,ke())}function Me(D,se){Z=z(function(){D(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){T||E||(T=!0,Je(j))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(D){switch(_){case 1:case 2:case 3:var se=3;break;default:se=_}var H=_;_=se;try{return D()}finally{_=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,se){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var H=_;_=D;try{return se()}finally{_=H}},t.unstable_scheduleCallback=function(D,se,H){var ne=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ne+H:ne):H=ne,D){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=H+pe,D={id:g++,callback:se,priorityLevel:D,startTime:H,expirationTime:pe,sortIndex:-1},H>ne?(D.sortIndex=H,e(f,D),n(h)===null&&D===n(f)&&(P?(C(Z),Z=-1):P=!0,Me(O,H-ne))):(D.sortIndex=pe,e(h,D),T||E||(T=!0,Je(j))),D},t.unstable_shouldYield=re,t.unstable_wrapCallback=function(D){var se=_;return function(){var H=_;_=se;try{return D.apply(this,arguments)}finally{_=H}}}})(Ov);Av.exports=Ov;var j1=Av.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U1=A,en=j1;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dv=new Set,Ks={};function zr(t,e){Io(t,e),Io(t+"Capture",e)}function Io(t,e){for(Ks[t]=e,t=0;t<e.length;t++)Dv.add(e[t])}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yh=Object.prototype.hasOwnProperty,H1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jm={},Um={};function W1(t){return Yh.call(Um,t)?!0:Yh.call(jm,t)?!1:H1.test(t)?Um[t]=!0:(jm[t]=!0,!1)}function V1(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Z1(t,e,n,i){if(e===null||typeof e>"u"||V1(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function zt(t,e,n,i,o,a,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=l}var xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xt[t]=new zt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xt[e]=new zt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xt[t]=new zt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xt[t]=new zt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xt[t]=new zt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xt[t]=new zt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xt[t]=new zt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xt[t]=new zt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xt[t]=new zt(t,5,!1,t.toLowerCase(),null,!1,!1)});var gf=/[\-:]([a-z])/g;function vf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gf,vf);xt[e]=new zt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gf,vf);xt[e]=new zt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gf,vf);xt[e]=new zt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xt[t]=new zt(t,1,!1,t.toLowerCase(),null,!1,!1)});xt.xlinkHref=new zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xt[t]=new zt(t,1,!1,t.toLowerCase(),null,!0,!0)});function yf(t,e,n,i){var o=xt.hasOwnProperty(e)?xt[e]:null;(o!==null?o.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Z1(e,n,o,i)&&(n=null),i||o===null?W1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,i=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var ci=U1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ml=Symbol.for("react.element"),oo=Symbol.for("react.portal"),so=Symbol.for("react.fragment"),wf=Symbol.for("react.strict_mode"),Qh=Symbol.for("react.profiler"),zv=Symbol.for("react.provider"),Fv=Symbol.for("react.context"),Ef=Symbol.for("react.forward_ref"),Xh=Symbol.for("react.suspense"),Jh=Symbol.for("react.suspense_list"),Cf=Symbol.for("react.memo"),Ti=Symbol.for("react.lazy"),Bv=Symbol.for("react.offscreen"),Hm=Symbol.iterator;function fs(t){return t===null||typeof t!="object"?null:(t=Hm&&t[Hm]||t["@@iterator"],typeof t=="function"?t:null)}var Xe=Object.assign,sh;function ks(t){if(sh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);sh=e&&e[1]||""}return`
`+sh+t}var ah=!1;function lh(t,e){if(!t||ah)return"";ah=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var i=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){i=f}t.call(e.prototype)}else{try{throw Error()}catch(f){i=f}t()}}catch(f){if(f&&i&&typeof f.stack=="string"){for(var o=f.stack.split(`
`),a=i.stack.split(`
`),l=o.length-1,c=a.length-1;1<=l&&0<=c&&o[l]!==a[c];)c--;for(;1<=l&&0<=c;l--,c--)if(o[l]!==a[c]){if(l!==1||c!==1)do if(l--,c--,0>c||o[l]!==a[c]){var h=`
`+o[l].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=l&&0<=c);break}}}finally{ah=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ks(t):""}function $1(t){switch(t.tag){case 5:return ks(t.type);case 16:return ks("Lazy");case 13:return ks("Suspense");case 19:return ks("SuspenseList");case 0:case 2:case 15:return t=lh(t.type,!1),t;case 11:return t=lh(t.type.render,!1),t;case 1:return t=lh(t.type,!0),t;default:return""}}function ed(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case so:return"Fragment";case oo:return"Portal";case Qh:return"Profiler";case wf:return"StrictMode";case Xh:return"Suspense";case Jh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Fv:return(t.displayName||"Context")+".Consumer";case zv:return(t._context.displayName||"Context")+".Provider";case Ef:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cf:return e=t.displayName||null,e!==null?e:ed(t.type)||"Memo";case Ti:e=t._payload,t=t._init;try{return ed(t(e))}catch{}}return null}function G1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ed(e);case 8:return e===wf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function q1(t){var e=jv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(l){i=""+l,a.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(l){i=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _l(t){t._valueTracker||(t._valueTracker=q1(t))}function Uv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=jv(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Ql(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function td(t,e){var n=e.checked;return Xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Wm(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Vi(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Hv(t,e){e=e.checked,e!=null&&yf(t,"checked",e,!1)}function nd(t,e){Hv(t,e);var n=Vi(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?id(t,e.type,n):e.hasOwnProperty("defaultValue")&&id(t,e.type,Vi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Vm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function id(t,e,n){(e!=="number"||Ql(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ls=Array.isArray;function yo(t,e,n,i){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Vi(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,i&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function rd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Zm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(Ls(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Vi(n)}}function Wv(t,e){var n=Vi(e.value),i=Vi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function $m(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Vv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function od(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Vv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var gl,Zv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(gl=gl||document.createElement("div"),gl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=gl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ys(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ms={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},K1=["Webkit","ms","Moz","O"];Object.keys(Ms).forEach(function(t){K1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ms[e]=Ms[t]})});function $v(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ms.hasOwnProperty(t)&&Ms[t]?(""+e).trim():e+"px"}function Gv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,o=$v(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,o):t[n]=o}}var Y1=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sd(t,e){if(e){if(Y1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function ad(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ld=null;function Sf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ud=null,wo=null,Eo=null;function Gm(t){if(t=La(t)){if(typeof ud!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Ku(e),ud(t.stateNode,t.type,e))}}function qv(t){wo?Eo?Eo.push(t):Eo=[t]:wo=t}function Kv(){if(wo){var t=wo,e=Eo;if(Eo=wo=null,Gm(t),e)for(t=0;t<e.length;t++)Gm(e[t])}}function Yv(t,e){return t(e)}function Qv(){}var uh=!1;function Xv(t,e,n){if(uh)return t(e,n);uh=!0;try{return Yv(t,e,n)}finally{uh=!1,(wo!==null||Eo!==null)&&(Qv(),Kv())}}function Qs(t,e){var n=t.stateNode;if(n===null)return null;var i=Ku(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var cd=!1;if(ri)try{var ps={};Object.defineProperty(ps,"passive",{get:function(){cd=!0}}),window.addEventListener("test",ps,ps),window.removeEventListener("test",ps,ps)}catch{cd=!1}function Q1(t,e,n,i,o,a,l,c,h){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(g){this.onError(g)}}var As=!1,Xl=null,Jl=!1,hd=null,X1={onError:function(t){As=!0,Xl=t}};function J1(t,e,n,i,o,a,l,c,h){As=!1,Xl=null,Q1.apply(X1,arguments)}function eS(t,e,n,i,o,a,l,c,h){if(J1.apply(this,arguments),As){if(As){var f=Xl;As=!1,Xl=null}else throw Error(U(198));Jl||(Jl=!0,hd=f)}}function Fr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Jv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function qm(t){if(Fr(t)!==t)throw Error(U(188))}function tS(t){var e=t.alternate;if(!e){if(e=Fr(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,i=e;;){var o=n.return;if(o===null)break;var a=o.alternate;if(a===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return qm(o),t;if(a===i)return qm(o),e;a=a.sibling}throw Error(U(188))}if(n.return!==i.return)n=o,i=a;else{for(var l=!1,c=o.child;c;){if(c===n){l=!0,n=o,i=a;break}if(c===i){l=!0,i=o,n=a;break}c=c.sibling}if(!l){for(c=a.child;c;){if(c===n){l=!0,n=a,i=o;break}if(c===i){l=!0,i=a,n=o;break}c=c.sibling}if(!l)throw Error(U(189))}}if(n.alternate!==i)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function ey(t){return t=tS(t),t!==null?ty(t):null}function ty(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ty(t);if(e!==null)return e;t=t.sibling}return null}var ny=en.unstable_scheduleCallback,Km=en.unstable_cancelCallback,nS=en.unstable_shouldYield,iS=en.unstable_requestPaint,ot=en.unstable_now,rS=en.unstable_getCurrentPriorityLevel,xf=en.unstable_ImmediatePriority,iy=en.unstable_UserBlockingPriority,eu=en.unstable_NormalPriority,oS=en.unstable_LowPriority,ry=en.unstable_IdlePriority,Zu=null,Wn=null;function sS(t){if(Wn&&typeof Wn.onCommitFiberRoot=="function")try{Wn.onCommitFiberRoot(Zu,t,void 0,(t.current.flags&128)===128)}catch{}}var Ln=Math.clz32?Math.clz32:uS,aS=Math.log,lS=Math.LN2;function uS(t){return t>>>=0,t===0?32:31-(aS(t)/lS|0)|0}var vl=64,yl=4194304;function Rs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function tu(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,o=t.suspendedLanes,a=t.pingedLanes,l=n&268435455;if(l!==0){var c=l&~o;c!==0?i=Rs(c):(a&=l,a!==0&&(i=Rs(a)))}else l=n&~o,l!==0?i=Rs(l):a!==0&&(i=Rs(a));if(i===0)return 0;if(e!==0&&e!==i&&!(e&o)&&(o=i&-i,a=e&-e,o>=a||o===16&&(a&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Ln(e),o=1<<n,i|=t[n],e&=~o;return i}function cS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hS(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,a=t.pendingLanes;0<a;){var l=31-Ln(a),c=1<<l,h=o[l];h===-1?(!(c&n)||c&i)&&(o[l]=cS(c,e)):h<=e&&(t.expiredLanes|=c),a&=~c}}function dd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function oy(){var t=vl;return vl<<=1,!(vl&4194240)&&(vl=64),t}function ch(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ia(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ln(e),t[e]=n}function dS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-Ln(n),a=1<<o;e[o]=0,i[o]=-1,t[o]=-1,n&=~a}}function Tf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Ln(n),o=1<<i;o&e|t[i]&e&&(t[i]|=e),n&=~o}}var Oe=0;function sy(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ay,Pf,ly,uy,cy,fd=!1,wl=[],Ni=null,bi=null,Mi=null,Xs=new Map,Js=new Map,Ii=[],fS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ym(t,e){switch(t){case"focusin":case"focusout":Ni=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":Xs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Js.delete(e.pointerId)}}function ms(t,e,n,i,o,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[o]},e!==null&&(e=La(e),e!==null&&Pf(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function pS(t,e,n,i,o){switch(e){case"focusin":return Ni=ms(Ni,t,e,n,i,o),!0;case"dragenter":return bi=ms(bi,t,e,n,i,o),!0;case"mouseover":return Mi=ms(Mi,t,e,n,i,o),!0;case"pointerover":var a=o.pointerId;return Xs.set(a,ms(Xs.get(a)||null,t,e,n,i,o)),!0;case"gotpointercapture":return a=o.pointerId,Js.set(a,ms(Js.get(a)||null,t,e,n,i,o)),!0}return!1}function hy(t){var e=_r(t.target);if(e!==null){var n=Fr(e);if(n!==null){if(e=n.tag,e===13){if(e=Jv(n),e!==null){t.blockedOn=e,cy(t.priority,function(){ly(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=pd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);ld=i,n.target.dispatchEvent(i),ld=null}else return e=La(n),e!==null&&Pf(e),t.blockedOn=n,!1;e.shift()}return!0}function Qm(t,e,n){zl(t)&&n.delete(e)}function mS(){fd=!1,Ni!==null&&zl(Ni)&&(Ni=null),bi!==null&&zl(bi)&&(bi=null),Mi!==null&&zl(Mi)&&(Mi=null),Xs.forEach(Qm),Js.forEach(Qm)}function _s(t,e){t.blockedOn===e&&(t.blockedOn=null,fd||(fd=!0,en.unstable_scheduleCallback(en.unstable_NormalPriority,mS)))}function ea(t){function e(o){return _s(o,t)}if(0<wl.length){_s(wl[0],t);for(var n=1;n<wl.length;n++){var i=wl[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Ni!==null&&_s(Ni,t),bi!==null&&_s(bi,t),Mi!==null&&_s(Mi,t),Xs.forEach(e),Js.forEach(e),n=0;n<Ii.length;n++)i=Ii[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Ii.length&&(n=Ii[0],n.blockedOn===null);)hy(n),n.blockedOn===null&&Ii.shift()}var Co=ci.ReactCurrentBatchConfig,nu=!0;function _S(t,e,n,i){var o=Oe,a=Co.transition;Co.transition=null;try{Oe=1,If(t,e,n,i)}finally{Oe=o,Co.transition=a}}function gS(t,e,n,i){var o=Oe,a=Co.transition;Co.transition=null;try{Oe=4,If(t,e,n,i)}finally{Oe=o,Co.transition=a}}function If(t,e,n,i){if(nu){var o=pd(t,e,n,i);if(o===null)wh(t,e,i,iu,n),Ym(t,i);else if(pS(o,t,e,n,i))i.stopPropagation();else if(Ym(t,i),e&4&&-1<fS.indexOf(t)){for(;o!==null;){var a=La(o);if(a!==null&&ay(a),a=pd(t,e,n,i),a===null&&wh(t,e,i,iu,n),a===o)break;o=a}o!==null&&i.stopPropagation()}else wh(t,e,i,null,n)}}var iu=null;function pd(t,e,n,i){if(iu=null,t=Sf(i),t=_r(t),t!==null)if(e=Fr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Jv(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return iu=t,null}function dy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rS()){case xf:return 1;case iy:return 4;case eu:case oS:return 16;case ry:return 536870912;default:return 16}default:return 16}}var Li=null,kf=null,Fl=null;function fy(){if(Fl)return Fl;var t,e=kf,n=e.length,i,o="value"in Li?Li.value:Li.textContent,a=o.length;for(t=0;t<n&&e[t]===o[t];t++);var l=n-t;for(i=1;i<=l&&e[n-i]===o[a-i];i++);return Fl=o.slice(t,1<i?1-i:void 0)}function Bl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function El(){return!0}function Xm(){return!1}function nn(t){function e(n,i,o,a,l){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?El:Xm,this.isPropagationStopped=Xm,this}return Xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=El)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=El)},persist:function(){},isPersistent:El}),e}var jo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lf=nn(jo),ka=Xe({},jo,{view:0,detail:0}),vS=nn(ka),hh,dh,gs,$u=Xe({},ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gs&&(gs&&t.type==="mousemove"?(hh=t.screenX-gs.screenX,dh=t.screenY-gs.screenY):dh=hh=0,gs=t),hh)},movementY:function(t){return"movementY"in t?t.movementY:dh}}),Jm=nn($u),yS=Xe({},$u,{dataTransfer:0}),wS=nn(yS),ES=Xe({},ka,{relatedTarget:0}),fh=nn(ES),CS=Xe({},jo,{animationName:0,elapsedTime:0,pseudoElement:0}),SS=nn(CS),xS=Xe({},jo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),TS=nn(xS),PS=Xe({},jo,{data:0}),e_=nn(PS),IS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=LS[t])?!!e[t]:!1}function Rf(){return RS}var NS=Xe({},ka,{key:function(t){if(t.key){var e=IS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rf,charCode:function(t){return t.type==="keypress"?Bl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bS=nn(NS),MS=Xe({},$u,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),t_=nn(MS),AS=Xe({},ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rf}),OS=nn(AS),DS=Xe({},jo,{propertyName:0,elapsedTime:0,pseudoElement:0}),zS=nn(DS),FS=Xe({},$u,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),BS=nn(FS),jS=[9,13,27,32],Nf=ri&&"CompositionEvent"in window,Os=null;ri&&"documentMode"in document&&(Os=document.documentMode);var US=ri&&"TextEvent"in window&&!Os,py=ri&&(!Nf||Os&&8<Os&&11>=Os),n_=" ",i_=!1;function my(t,e){switch(t){case"keyup":return jS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _y(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ao=!1;function HS(t,e){switch(t){case"compositionend":return _y(e);case"keypress":return e.which!==32?null:(i_=!0,n_);case"textInput":return t=e.data,t===n_&&i_?null:t;default:return null}}function WS(t,e){if(ao)return t==="compositionend"||!Nf&&my(t,e)?(t=fy(),Fl=kf=Li=null,ao=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return py&&e.locale!=="ko"?null:e.data;default:return null}}var VS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!VS[t.type]:e==="textarea"}function gy(t,e,n,i){qv(i),e=ru(e,"onChange"),0<e.length&&(n=new Lf("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Ds=null,ta=null;function ZS(t){ky(t,0)}function Gu(t){var e=co(t);if(Uv(e))return t}function $S(t,e){if(t==="change")return e}var vy=!1;if(ri){var ph;if(ri){var mh="oninput"in document;if(!mh){var o_=document.createElement("div");o_.setAttribute("oninput","return;"),mh=typeof o_.oninput=="function"}ph=mh}else ph=!1;vy=ph&&(!document.documentMode||9<document.documentMode)}function s_(){Ds&&(Ds.detachEvent("onpropertychange",yy),ta=Ds=null)}function yy(t){if(t.propertyName==="value"&&Gu(ta)){var e=[];gy(e,ta,t,Sf(t)),Xv(ZS,e)}}function GS(t,e,n){t==="focusin"?(s_(),Ds=e,ta=n,Ds.attachEvent("onpropertychange",yy)):t==="focusout"&&s_()}function qS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gu(ta)}function KS(t,e){if(t==="click")return Gu(e)}function YS(t,e){if(t==="input"||t==="change")return Gu(e)}function QS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bn=typeof Object.is=="function"?Object.is:QS;function na(t,e){if(bn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!Yh.call(e,o)||!bn(t[o],e[o]))return!1}return!0}function a_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function l_(t,e){var n=a_(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=a_(n)}}function wy(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?wy(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ey(){for(var t=window,e=Ql();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ql(t.document)}return e}function bf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function XS(t){var e=Ey(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&wy(n.ownerDocument.documentElement,n)){if(i!==null&&bf(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,a=Math.min(i.start,o);i=i.end===void 0?a:Math.min(i.end,o),!t.extend&&a>i&&(o=i,i=a,a=o),o=l_(n,a);var l=l_(n,i);o&&l&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),a>i?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var JS=ri&&"documentMode"in document&&11>=document.documentMode,lo=null,md=null,zs=null,_d=!1;function u_(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_d||lo==null||lo!==Ql(i)||(i=lo,"selectionStart"in i&&bf(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),zs&&na(zs,i)||(zs=i,i=ru(md,"onSelect"),0<i.length&&(e=new Lf("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=lo)))}function Cl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var uo={animationend:Cl("Animation","AnimationEnd"),animationiteration:Cl("Animation","AnimationIteration"),animationstart:Cl("Animation","AnimationStart"),transitionend:Cl("Transition","TransitionEnd")},_h={},Cy={};ri&&(Cy=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function qu(t){if(_h[t])return _h[t];if(!uo[t])return t;var e=uo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Cy)return _h[t]=e[n];return t}var Sy=qu("animationend"),xy=qu("animationiteration"),Ty=qu("animationstart"),Py=qu("transitionend"),Iy=new Map,c_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yi(t,e){Iy.set(t,e),zr(e,[t])}for(var gh=0;gh<c_.length;gh++){var vh=c_[gh],ex=vh.toLowerCase(),tx=vh[0].toUpperCase()+vh.slice(1);Yi(ex,"on"+tx)}Yi(Sy,"onAnimationEnd");Yi(xy,"onAnimationIteration");Yi(Ty,"onAnimationStart");Yi("dblclick","onDoubleClick");Yi("focusin","onFocus");Yi("focusout","onBlur");Yi(Py,"onTransitionEnd");Io("onMouseEnter",["mouseout","mouseover"]);Io("onMouseLeave",["mouseout","mouseover"]);Io("onPointerEnter",["pointerout","pointerover"]);Io("onPointerLeave",["pointerout","pointerover"]);zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zr("onBeforeInput",["compositionend","keypress","textInput","paste"]);zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ns));function h_(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,eS(i,e,void 0,t),t.currentTarget=null}function ky(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],o=i.event;i=i.listeners;e:{var a=void 0;if(e)for(var l=i.length-1;0<=l;l--){var c=i[l],h=c.instance,f=c.currentTarget;if(c=c.listener,h!==a&&o.isPropagationStopped())break e;h_(o,c,f),a=h}else for(l=0;l<i.length;l++){if(c=i[l],h=c.instance,f=c.currentTarget,c=c.listener,h!==a&&o.isPropagationStopped())break e;h_(o,c,f),a=h}}}if(Jl)throw t=hd,Jl=!1,hd=null,t}function Ve(t,e){var n=e[Ed];n===void 0&&(n=e[Ed]=new Set);var i=t+"__bubble";n.has(i)||(Ly(e,t,2,!1),n.add(i))}function yh(t,e,n){var i=0;e&&(i|=4),Ly(n,t,i,e)}var Sl="_reactListening"+Math.random().toString(36).slice(2);function ia(t){if(!t[Sl]){t[Sl]=!0,Dv.forEach(function(n){n!=="selectionchange"&&(nx.has(n)||yh(n,!1,t),yh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Sl]||(e[Sl]=!0,yh("selectionchange",!1,e))}}function Ly(t,e,n,i){switch(dy(e)){case 1:var o=_S;break;case 4:o=gS;break;default:o=If}n=o.bind(null,e,n,t),o=void 0,!cd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),i?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function wh(t,e,n,i,o){var a=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var l=i.tag;if(l===3||l===4){var c=i.stateNode.containerInfo;if(c===o||c.nodeType===8&&c.parentNode===o)break;if(l===4)for(l=i.return;l!==null;){var h=l.tag;if((h===3||h===4)&&(h=l.stateNode.containerInfo,h===o||h.nodeType===8&&h.parentNode===o))return;l=l.return}for(;c!==null;){if(l=_r(c),l===null)return;if(h=l.tag,h===5||h===6){i=a=l;continue e}c=c.parentNode}}i=i.return}Xv(function(){var f=a,g=Sf(n),m=[];e:{var _=Iy.get(t);if(_!==void 0){var E=Lf,T=t;switch(t){case"keypress":if(Bl(n)===0)break e;case"keydown":case"keyup":E=bS;break;case"focusin":T="focus",E=fh;break;case"focusout":T="blur",E=fh;break;case"beforeblur":case"afterblur":E=fh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Jm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=wS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=OS;break;case Sy:case xy:case Ty:E=SS;break;case Py:E=zS;break;case"scroll":E=vS;break;case"wheel":E=BS;break;case"copy":case"cut":case"paste":E=TS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=t_}var P=(e&4)!==0,z=!P&&t==="scroll",C=P?_!==null?_+"Capture":null:_;P=[];for(var y=f,S;y!==null;){S=y;var O=S.stateNode;if(S.tag===5&&O!==null&&(S=O,C!==null&&(O=Qs(y,C),O!=null&&P.push(ra(y,O,S)))),z)break;y=y.return}0<P.length&&(_=new E(_,T,null,n,g),m.push({event:_,listeners:P}))}}if(!(e&7)){e:{if(_=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",_&&n!==ld&&(T=n.relatedTarget||n.fromElement)&&(_r(T)||T[oi]))break e;if((E||_)&&(_=g.window===g?g:(_=g.ownerDocument)?_.defaultView||_.parentWindow:window,E?(T=n.relatedTarget||n.toElement,E=f,T=T?_r(T):null,T!==null&&(z=Fr(T),T!==z||T.tag!==5&&T.tag!==6)&&(T=null)):(E=null,T=f),E!==T)){if(P=Jm,O="onMouseLeave",C="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(P=t_,O="onPointerLeave",C="onPointerEnter",y="pointer"),z=E==null?_:co(E),S=T==null?_:co(T),_=new P(O,y+"leave",E,n,g),_.target=z,_.relatedTarget=S,O=null,_r(g)===f&&(P=new P(C,y+"enter",T,n,g),P.target=S,P.relatedTarget=z,O=P),z=O,E&&T)t:{for(P=E,C=T,y=0,S=P;S;S=no(S))y++;for(S=0,O=C;O;O=no(O))S++;for(;0<y-S;)P=no(P),y--;for(;0<S-y;)C=no(C),S--;for(;y--;){if(P===C||C!==null&&P===C.alternate)break t;P=no(P),C=no(C)}P=null}else P=null;E!==null&&d_(m,_,E,P,!1),T!==null&&z!==null&&d_(m,z,T,P,!0)}}e:{if(_=f?co(f):window,E=_.nodeName&&_.nodeName.toLowerCase(),E==="select"||E==="input"&&_.type==="file")var j=$S;else if(r_(_))if(vy)j=YS;else{j=qS;var I=GS}else(E=_.nodeName)&&E.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(j=KS);if(j&&(j=j(t,f))){gy(m,j,n,g);break e}I&&I(t,_,f),t==="focusout"&&(I=_._wrapperState)&&I.controlled&&_.type==="number"&&id(_,"number",_.value)}switch(I=f?co(f):window,t){case"focusin":(r_(I)||I.contentEditable==="true")&&(lo=I,md=f,zs=null);break;case"focusout":zs=md=lo=null;break;case"mousedown":_d=!0;break;case"contextmenu":case"mouseup":case"dragend":_d=!1,u_(m,n,g);break;case"selectionchange":if(JS)break;case"keydown":case"keyup":u_(m,n,g)}var B;if(Nf)e:{switch(t){case"compositionstart":var Z="onCompositionStart";break e;case"compositionend":Z="onCompositionEnd";break e;case"compositionupdate":Z="onCompositionUpdate";break e}Z=void 0}else ao?my(t,n)&&(Z="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(Z="onCompositionStart");Z&&(py&&n.locale!=="ko"&&(ao||Z!=="onCompositionStart"?Z==="onCompositionEnd"&&ao&&(B=fy()):(Li=g,kf="value"in Li?Li.value:Li.textContent,ao=!0)),I=ru(f,Z),0<I.length&&(Z=new e_(Z,t,null,n,g),m.push({event:Z,listeners:I}),B?Z.data=B:(B=_y(n),B!==null&&(Z.data=B)))),(B=US?HS(t,n):WS(t,n))&&(f=ru(f,"onBeforeInput"),0<f.length&&(g=new e_("onBeforeInput","beforeinput",null,n,g),m.push({event:g,listeners:f}),g.data=B))}ky(m,e)})}function ra(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ru(t,e){for(var n=e+"Capture",i=[];t!==null;){var o=t,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=Qs(t,n),a!=null&&i.unshift(ra(t,a,o)),a=Qs(t,e),a!=null&&i.push(ra(t,a,o))),t=t.return}return i}function no(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function d_(t,e,n,i,o){for(var a=e._reactName,l=[];n!==null&&n!==i;){var c=n,h=c.alternate,f=c.stateNode;if(h!==null&&h===i)break;c.tag===5&&f!==null&&(c=f,o?(h=Qs(n,a),h!=null&&l.unshift(ra(n,h,c))):o||(h=Qs(n,a),h!=null&&l.push(ra(n,h,c)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var ix=/\r\n?/g,rx=/\u0000|\uFFFD/g;function f_(t){return(typeof t=="string"?t:""+t).replace(ix,`
`).replace(rx,"")}function xl(t,e,n){if(e=f_(e),f_(t)!==e&&n)throw Error(U(425))}function ou(){}var gd=null,vd=null;function yd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wd=typeof setTimeout=="function"?setTimeout:void 0,ox=typeof clearTimeout=="function"?clearTimeout:void 0,p_=typeof Promise=="function"?Promise:void 0,sx=typeof queueMicrotask=="function"?queueMicrotask:typeof p_<"u"?function(t){return p_.resolve(null).then(t).catch(ax)}:wd;function ax(t){setTimeout(function(){throw t})}function Eh(t,e){var n=e,i=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(i===0){t.removeChild(o),ea(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=o}while(n);ea(e)}function Ai(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function m_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Uo=Math.random().toString(36).slice(2),Hn="__reactFiber$"+Uo,oa="__reactProps$"+Uo,oi="__reactContainer$"+Uo,Ed="__reactEvents$"+Uo,lx="__reactListeners$"+Uo,ux="__reactHandles$"+Uo;function _r(t){var e=t[Hn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[oi]||n[Hn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=m_(t);t!==null;){if(n=t[Hn])return n;t=m_(t)}return e}t=n,n=t.parentNode}return null}function La(t){return t=t[Hn]||t[oi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function co(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Ku(t){return t[oa]||null}var Cd=[],ho=-1;function Qi(t){return{current:t}}function $e(t){0>ho||(t.current=Cd[ho],Cd[ho]=null,ho--)}function Ue(t,e){ho++,Cd[ho]=t.current,t.current=e}var Zi={},Rt=Qi(Zi),Ht=Qi(!1),Pr=Zi;function ko(t,e){var n=t.type.contextTypes;if(!n)return Zi;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in n)o[a]=e[a];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Wt(t){return t=t.childContextTypes,t!=null}function su(){$e(Ht),$e(Rt)}function __(t,e,n){if(Rt.current!==Zi)throw Error(U(168));Ue(Rt,e),Ue(Ht,n)}function Ry(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var o in i)if(!(o in e))throw Error(U(108,G1(t)||"Unknown",o));return Xe({},n,i)}function au(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zi,Pr=Rt.current,Ue(Rt,t),Ue(Ht,Ht.current),!0}function g_(t,e,n){var i=t.stateNode;if(!i)throw Error(U(169));n?(t=Ry(t,e,Pr),i.__reactInternalMemoizedMergedChildContext=t,$e(Ht),$e(Rt),Ue(Rt,t)):$e(Ht),Ue(Ht,n)}var Xn=null,Yu=!1,Ch=!1;function Ny(t){Xn===null?Xn=[t]:Xn.push(t)}function cx(t){Yu=!0,Ny(t)}function Xi(){if(!Ch&&Xn!==null){Ch=!0;var t=0,e=Oe;try{var n=Xn;for(Oe=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Xn=null,Yu=!1}catch(o){throw Xn!==null&&(Xn=Xn.slice(t+1)),ny(xf,Xi),o}finally{Oe=e,Ch=!1}}return null}var fo=[],po=0,lu=null,uu=0,un=[],cn=0,Ir=null,Jn=1,ei="";function hr(t,e){fo[po++]=uu,fo[po++]=lu,lu=t,uu=e}function by(t,e,n){un[cn++]=Jn,un[cn++]=ei,un[cn++]=Ir,Ir=t;var i=Jn;t=ei;var o=32-Ln(i)-1;i&=~(1<<o),n+=1;var a=32-Ln(e)+o;if(30<a){var l=o-o%5;a=(i&(1<<l)-1).toString(32),i>>=l,o-=l,Jn=1<<32-Ln(e)+o|n<<o|i,ei=a+t}else Jn=1<<a|n<<o|i,ei=t}function Mf(t){t.return!==null&&(hr(t,1),by(t,1,0))}function Af(t){for(;t===lu;)lu=fo[--po],fo[po]=null,uu=fo[--po],fo[po]=null;for(;t===Ir;)Ir=un[--cn],un[cn]=null,ei=un[--cn],un[cn]=null,Jn=un[--cn],un[cn]=null}var Xt=null,Qt=null,Ge=!1,Tn=null;function My(t,e){var n=hn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function v_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xt=t,Qt=Ai(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xt=t,Qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ir!==null?{id:Jn,overflow:ei}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=hn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Xt=t,Qt=null,!0):!1;default:return!1}}function Sd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xd(t){if(Ge){var e=Qt;if(e){var n=e;if(!v_(t,e)){if(Sd(t))throw Error(U(418));e=Ai(n.nextSibling);var i=Xt;e&&v_(t,e)?My(i,n):(t.flags=t.flags&-4097|2,Ge=!1,Xt=t)}}else{if(Sd(t))throw Error(U(418));t.flags=t.flags&-4097|2,Ge=!1,Xt=t}}}function y_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xt=t}function Tl(t){if(t!==Xt)return!1;if(!Ge)return y_(t),Ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yd(t.type,t.memoizedProps)),e&&(e=Qt)){if(Sd(t))throw Ay(),Error(U(418));for(;e;)My(t,e),e=Ai(e.nextSibling)}if(y_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Qt=Ai(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Qt=null}}else Qt=Xt?Ai(t.stateNode.nextSibling):null;return!0}function Ay(){for(var t=Qt;t;)t=Ai(t.nextSibling)}function Lo(){Qt=Xt=null,Ge=!1}function Of(t){Tn===null?Tn=[t]:Tn.push(t)}var hx=ci.ReactCurrentBatchConfig;function vs(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var i=n.stateNode}if(!i)throw Error(U(147,t));var o=i,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(l){var c=o.refs;l===null?delete c[a]:c[a]=l},e._stringRef=a,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Pl(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function w_(t){var e=t._init;return e(t._payload)}function Oy(t){function e(C,y){if(t){var S=C.deletions;S===null?(C.deletions=[y],C.flags|=16):S.push(y)}}function n(C,y){if(!t)return null;for(;y!==null;)e(C,y),y=y.sibling;return null}function i(C,y){for(C=new Map;y!==null;)y.key!==null?C.set(y.key,y):C.set(y.index,y),y=y.sibling;return C}function o(C,y){return C=Fi(C,y),C.index=0,C.sibling=null,C}function a(C,y,S){return C.index=S,t?(S=C.alternate,S!==null?(S=S.index,S<y?(C.flags|=2,y):S):(C.flags|=2,y)):(C.flags|=1048576,y)}function l(C){return t&&C.alternate===null&&(C.flags|=2),C}function c(C,y,S,O){return y===null||y.tag!==6?(y=Lh(S,C.mode,O),y.return=C,y):(y=o(y,S),y.return=C,y)}function h(C,y,S,O){var j=S.type;return j===so?g(C,y,S.props.children,O,S.key):y!==null&&(y.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ti&&w_(j)===y.type)?(O=o(y,S.props),O.ref=vs(C,y,S),O.return=C,O):(O=$l(S.type,S.key,S.props,null,C.mode,O),O.ref=vs(C,y,S),O.return=C,O)}function f(C,y,S,O){return y===null||y.tag!==4||y.stateNode.containerInfo!==S.containerInfo||y.stateNode.implementation!==S.implementation?(y=Rh(S,C.mode,O),y.return=C,y):(y=o(y,S.children||[]),y.return=C,y)}function g(C,y,S,O,j){return y===null||y.tag!==7?(y=Tr(S,C.mode,O,j),y.return=C,y):(y=o(y,S),y.return=C,y)}function m(C,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Lh(""+y,C.mode,S),y.return=C,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ml:return S=$l(y.type,y.key,y.props,null,C.mode,S),S.ref=vs(C,null,y),S.return=C,S;case oo:return y=Rh(y,C.mode,S),y.return=C,y;case Ti:var O=y._init;return m(C,O(y._payload),S)}if(Ls(y)||fs(y))return y=Tr(y,C.mode,S,null),y.return=C,y;Pl(C,y)}return null}function _(C,y,S,O){var j=y!==null?y.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return j!==null?null:c(C,y,""+S,O);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ml:return S.key===j?h(C,y,S,O):null;case oo:return S.key===j?f(C,y,S,O):null;case Ti:return j=S._init,_(C,y,j(S._payload),O)}if(Ls(S)||fs(S))return j!==null?null:g(C,y,S,O,null);Pl(C,S)}return null}function E(C,y,S,O,j){if(typeof O=="string"&&O!==""||typeof O=="number")return C=C.get(S)||null,c(y,C,""+O,j);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case ml:return C=C.get(O.key===null?S:O.key)||null,h(y,C,O,j);case oo:return C=C.get(O.key===null?S:O.key)||null,f(y,C,O,j);case Ti:var I=O._init;return E(C,y,S,I(O._payload),j)}if(Ls(O)||fs(O))return C=C.get(S)||null,g(y,C,O,j,null);Pl(y,O)}return null}function T(C,y,S,O){for(var j=null,I=null,B=y,Z=y=0,Y=null;B!==null&&Z<S.length;Z++){B.index>Z?(Y=B,B=null):Y=B.sibling;var te=_(C,B,S[Z],O);if(te===null){B===null&&(B=Y);break}t&&B&&te.alternate===null&&e(C,B),y=a(te,y,Z),I===null?j=te:I.sibling=te,I=te,B=Y}if(Z===S.length)return n(C,B),Ge&&hr(C,Z),j;if(B===null){for(;Z<S.length;Z++)B=m(C,S[Z],O),B!==null&&(y=a(B,y,Z),I===null?j=B:I.sibling=B,I=B);return Ge&&hr(C,Z),j}for(B=i(C,B);Z<S.length;Z++)Y=E(B,C,Z,S[Z],O),Y!==null&&(t&&Y.alternate!==null&&B.delete(Y.key===null?Z:Y.key),y=a(Y,y,Z),I===null?j=Y:I.sibling=Y,I=Y);return t&&B.forEach(function(re){return e(C,re)}),Ge&&hr(C,Z),j}function P(C,y,S,O){var j=fs(S);if(typeof j!="function")throw Error(U(150));if(S=j.call(S),S==null)throw Error(U(151));for(var I=j=null,B=y,Z=y=0,Y=null,te=S.next();B!==null&&!te.done;Z++,te=S.next()){B.index>Z?(Y=B,B=null):Y=B.sibling;var re=_(C,B,te.value,O);if(re===null){B===null&&(B=Y);break}t&&B&&re.alternate===null&&e(C,B),y=a(re,y,Z),I===null?j=re:I.sibling=re,I=re,B=Y}if(te.done)return n(C,B),Ge&&hr(C,Z),j;if(B===null){for(;!te.done;Z++,te=S.next())te=m(C,te.value,O),te!==null&&(y=a(te,y,Z),I===null?j=te:I.sibling=te,I=te);return Ge&&hr(C,Z),j}for(B=i(C,B);!te.done;Z++,te=S.next())te=E(B,C,Z,te.value,O),te!==null&&(t&&te.alternate!==null&&B.delete(te.key===null?Z:te.key),y=a(te,y,Z),I===null?j=te:I.sibling=te,I=te);return t&&B.forEach(function(Se){return e(C,Se)}),Ge&&hr(C,Z),j}function z(C,y,S,O){if(typeof S=="object"&&S!==null&&S.type===so&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case ml:e:{for(var j=S.key,I=y;I!==null;){if(I.key===j){if(j=S.type,j===so){if(I.tag===7){n(C,I.sibling),y=o(I,S.props.children),y.return=C,C=y;break e}}else if(I.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ti&&w_(j)===I.type){n(C,I.sibling),y=o(I,S.props),y.ref=vs(C,I,S),y.return=C,C=y;break e}n(C,I);break}else e(C,I);I=I.sibling}S.type===so?(y=Tr(S.props.children,C.mode,O,S.key),y.return=C,C=y):(O=$l(S.type,S.key,S.props,null,C.mode,O),O.ref=vs(C,y,S),O.return=C,C=O)}return l(C);case oo:e:{for(I=S.key;y!==null;){if(y.key===I)if(y.tag===4&&y.stateNode.containerInfo===S.containerInfo&&y.stateNode.implementation===S.implementation){n(C,y.sibling),y=o(y,S.children||[]),y.return=C,C=y;break e}else{n(C,y);break}else e(C,y);y=y.sibling}y=Rh(S,C.mode,O),y.return=C,C=y}return l(C);case Ti:return I=S._init,z(C,y,I(S._payload),O)}if(Ls(S))return T(C,y,S,O);if(fs(S))return P(C,y,S,O);Pl(C,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,y!==null&&y.tag===6?(n(C,y.sibling),y=o(y,S),y.return=C,C=y):(n(C,y),y=Lh(S,C.mode,O),y.return=C,C=y),l(C)):n(C,y)}return z}var Ro=Oy(!0),Dy=Oy(!1),cu=Qi(null),hu=null,mo=null,Df=null;function zf(){Df=mo=hu=null}function Ff(t){var e=cu.current;$e(cu),t._currentValue=e}function Td(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function So(t,e){hu=t,Df=mo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(jt=!0),t.firstContext=null)}function pn(t){var e=t._currentValue;if(Df!==t)if(t={context:t,memoizedValue:e,next:null},mo===null){if(hu===null)throw Error(U(308));mo=t,hu.dependencies={lanes:0,firstContext:t}}else mo=mo.next=t;return e}var gr=null;function Bf(t){gr===null?gr=[t]:gr.push(t)}function zy(t,e,n,i){var o=e.interleaved;return o===null?(n.next=n,Bf(e)):(n.next=o.next,o.next=n),e.interleaved=n,si(t,i)}function si(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Pi=!1;function jf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ni(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Oi(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,Ie&2){var o=i.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),i.pending=e,si(t,n)}return o=i.interleaved,o===null?(e.next=e,Bf(i)):(e.next=o.next,o.next=e),i.interleaved=e,si(t,n)}function jl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Tf(t,n)}}function E_(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?o=a=l:a=a.next=l,n=n.next}while(n!==null);a===null?o=a=e:a=a.next=e}else o=a=e;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function du(t,e,n,i){var o=t.updateQueue;Pi=!1;var a=o.firstBaseUpdate,l=o.lastBaseUpdate,c=o.shared.pending;if(c!==null){o.shared.pending=null;var h=c,f=h.next;h.next=null,l===null?a=f:l.next=f,l=h;var g=t.alternate;g!==null&&(g=g.updateQueue,c=g.lastBaseUpdate,c!==l&&(c===null?g.firstBaseUpdate=f:c.next=f,g.lastBaseUpdate=h))}if(a!==null){var m=o.baseState;l=0,g=f=h=null,c=a;do{var _=c.lane,E=c.eventTime;if((i&_)===_){g!==null&&(g=g.next={eventTime:E,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var T=t,P=c;switch(_=e,E=n,P.tag){case 1:if(T=P.payload,typeof T=="function"){m=T.call(E,m,_);break e}m=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=P.payload,_=typeof T=="function"?T.call(E,m,_):T,_==null)break e;m=Xe({},m,_);break e;case 2:Pi=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,_=o.effects,_===null?o.effects=[c]:_.push(c))}else E={eventTime:E,lane:_,tag:c.tag,payload:c.payload,callback:c.callback,next:null},g===null?(f=g=E,h=m):g=g.next=E,l|=_;if(c=c.next,c===null){if(c=o.shared.pending,c===null)break;_=c,c=_.next,_.next=null,o.lastBaseUpdate=_,o.shared.pending=null}}while(!0);if(g===null&&(h=m),o.baseState=h,o.firstBaseUpdate=f,o.lastBaseUpdate=g,e=o.shared.interleaved,e!==null){o=e;do l|=o.lane,o=o.next;while(o!==e)}else a===null&&(o.shared.lanes=0);Lr|=l,t.lanes=l,t.memoizedState=m}}function C_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],o=i.callback;if(o!==null){if(i.callback=null,i=n,typeof o!="function")throw Error(U(191,o));o.call(i)}}}var Ra={},Vn=Qi(Ra),sa=Qi(Ra),aa=Qi(Ra);function vr(t){if(t===Ra)throw Error(U(174));return t}function Uf(t,e){switch(Ue(aa,e),Ue(sa,t),Ue(Vn,Ra),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:od(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=od(e,t)}$e(Vn),Ue(Vn,e)}function No(){$e(Vn),$e(sa),$e(aa)}function By(t){vr(aa.current);var e=vr(Vn.current),n=od(e,t.type);e!==n&&(Ue(sa,t),Ue(Vn,n))}function Hf(t){sa.current===t&&($e(Vn),$e(sa))}var Ye=Qi(0);function fu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Sh=[];function Wf(){for(var t=0;t<Sh.length;t++)Sh[t]._workInProgressVersionPrimary=null;Sh.length=0}var Ul=ci.ReactCurrentDispatcher,xh=ci.ReactCurrentBatchConfig,kr=0,Qe=null,ht=null,gt=null,pu=!1,Fs=!1,la=0,dx=0;function Pt(){throw Error(U(321))}function Vf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bn(t[n],e[n]))return!1;return!0}function Zf(t,e,n,i,o,a){if(kr=a,Qe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ul.current=t===null||t.memoizedState===null?_x:gx,t=n(i,o),Fs){a=0;do{if(Fs=!1,la=0,25<=a)throw Error(U(301));a+=1,gt=ht=null,e.updateQueue=null,Ul.current=vx,t=n(i,o)}while(Fs)}if(Ul.current=mu,e=ht!==null&&ht.next!==null,kr=0,gt=ht=Qe=null,pu=!1,e)throw Error(U(300));return t}function $f(){var t=la!==0;return la=0,t}function Un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Qe.memoizedState=gt=t:gt=gt.next=t,gt}function mn(){if(ht===null){var t=Qe.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var e=gt===null?Qe.memoizedState:gt.next;if(e!==null)gt=e,ht=t;else{if(t===null)throw Error(U(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},gt===null?Qe.memoizedState=gt=t:gt=gt.next=t}return gt}function ua(t,e){return typeof e=="function"?e(t):e}function Th(t){var e=mn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var i=ht,o=i.baseQueue,a=n.pending;if(a!==null){if(o!==null){var l=o.next;o.next=a.next,a.next=l}i.baseQueue=o=a,n.pending=null}if(o!==null){a=o.next,i=i.baseState;var c=l=null,h=null,f=a;do{var g=f.lane;if((kr&g)===g)h!==null&&(h=h.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),i=f.hasEagerState?f.eagerState:t(i,f.action);else{var m={lane:g,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};h===null?(c=h=m,l=i):h=h.next=m,Qe.lanes|=g,Lr|=g}f=f.next}while(f!==null&&f!==a);h===null?l=i:h.next=c,bn(i,e.memoizedState)||(jt=!0),e.memoizedState=i,e.baseState=l,e.baseQueue=h,n.lastRenderedState=i}if(t=n.interleaved,t!==null){o=t;do a=o.lane,Qe.lanes|=a,Lr|=a,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ph(t){var e=mn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var i=n.dispatch,o=n.pending,a=e.memoizedState;if(o!==null){n.pending=null;var l=o=o.next;do a=t(a,l.action),l=l.next;while(l!==o);bn(a,e.memoizedState)||(jt=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,i]}function jy(){}function Uy(t,e){var n=Qe,i=mn(),o=e(),a=!bn(i.memoizedState,o);if(a&&(i.memoizedState=o,jt=!0),i=i.queue,Gf(Vy.bind(null,n,i,t),[t]),i.getSnapshot!==e||a||gt!==null&&gt.memoizedState.tag&1){if(n.flags|=2048,ca(9,Wy.bind(null,n,i,o,e),void 0,null),wt===null)throw Error(U(349));kr&30||Hy(n,e,o)}return o}function Hy(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Wy(t,e,n,i){e.value=n,e.getSnapshot=i,Zy(e)&&$y(t)}function Vy(t,e,n){return n(function(){Zy(e)&&$y(t)})}function Zy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bn(t,n)}catch{return!0}}function $y(t){var e=si(t,1);e!==null&&Rn(e,t,1,-1)}function S_(t){var e=Un();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:t},e.queue=t,t=t.dispatch=mx.bind(null,Qe,t),[e.memoizedState,t]}function ca(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Qe.updateQueue,e===null?(e={lastEffect:null,stores:null},Qe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function Gy(){return mn().memoizedState}function Hl(t,e,n,i){var o=Un();Qe.flags|=t,o.memoizedState=ca(1|e,n,void 0,i===void 0?null:i)}function Qu(t,e,n,i){var o=mn();i=i===void 0?null:i;var a=void 0;if(ht!==null){var l=ht.memoizedState;if(a=l.destroy,i!==null&&Vf(i,l.deps)){o.memoizedState=ca(e,n,a,i);return}}Qe.flags|=t,o.memoizedState=ca(1|e,n,a,i)}function x_(t,e){return Hl(8390656,8,t,e)}function Gf(t,e){return Qu(2048,8,t,e)}function qy(t,e){return Qu(4,2,t,e)}function Ky(t,e){return Qu(4,4,t,e)}function Yy(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Qy(t,e,n){return n=n!=null?n.concat([t]):null,Qu(4,4,Yy.bind(null,e,t),n)}function qf(){}function Xy(t,e){var n=mn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Vf(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Jy(t,e){var n=mn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Vf(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function ew(t,e,n){return kr&21?(bn(n,e)||(n=oy(),Qe.lanes|=n,Lr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,jt=!0),t.memoizedState=n)}function fx(t,e){var n=Oe;Oe=n!==0&&4>n?n:4,t(!0);var i=xh.transition;xh.transition={};try{t(!1),e()}finally{Oe=n,xh.transition=i}}function tw(){return mn().memoizedState}function px(t,e,n){var i=zi(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},nw(t))iw(e,n);else if(n=zy(t,e,n,i),n!==null){var o=Ot();Rn(n,t,i,o),rw(n,e,i)}}function mx(t,e,n){var i=zi(t),o={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(nw(t))iw(e,o);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var l=e.lastRenderedState,c=a(l,n);if(o.hasEagerState=!0,o.eagerState=c,bn(c,l)){var h=e.interleaved;h===null?(o.next=o,Bf(e)):(o.next=h.next,h.next=o),e.interleaved=o;return}}catch{}finally{}n=zy(t,e,o,i),n!==null&&(o=Ot(),Rn(n,t,i,o),rw(n,e,i))}}function nw(t){var e=t.alternate;return t===Qe||e!==null&&e===Qe}function iw(t,e){Fs=pu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function rw(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Tf(t,n)}}var mu={readContext:pn,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useInsertionEffect:Pt,useLayoutEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useMutableSource:Pt,useSyncExternalStore:Pt,useId:Pt,unstable_isNewReconciler:!1},_x={readContext:pn,useCallback:function(t,e){return Un().memoizedState=[t,e===void 0?null:e],t},useContext:pn,useEffect:x_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Hl(4194308,4,Yy.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hl(4,2,t,e)},useMemo:function(t,e){var n=Un();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Un();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=px.bind(null,Qe,t),[i.memoizedState,t]},useRef:function(t){var e=Un();return t={current:t},e.memoizedState=t},useState:S_,useDebugValue:qf,useDeferredValue:function(t){return Un().memoizedState=t},useTransition:function(){var t=S_(!1),e=t[0];return t=fx.bind(null,t[1]),Un().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Qe,o=Un();if(Ge){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),wt===null)throw Error(U(349));kr&30||Hy(i,e,n)}o.memoizedState=n;var a={value:n,getSnapshot:e};return o.queue=a,x_(Vy.bind(null,i,a,t),[t]),i.flags|=2048,ca(9,Wy.bind(null,i,a,n,e),void 0,null),n},useId:function(){var t=Un(),e=wt.identifierPrefix;if(Ge){var n=ei,i=Jn;n=(i&~(1<<32-Ln(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=la++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=dx++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},gx={readContext:pn,useCallback:Xy,useContext:pn,useEffect:Gf,useImperativeHandle:Qy,useInsertionEffect:qy,useLayoutEffect:Ky,useMemo:Jy,useReducer:Th,useRef:Gy,useState:function(){return Th(ua)},useDebugValue:qf,useDeferredValue:function(t){var e=mn();return ew(e,ht.memoizedState,t)},useTransition:function(){var t=Th(ua)[0],e=mn().memoizedState;return[t,e]},useMutableSource:jy,useSyncExternalStore:Uy,useId:tw,unstable_isNewReconciler:!1},vx={readContext:pn,useCallback:Xy,useContext:pn,useEffect:Gf,useImperativeHandle:Qy,useInsertionEffect:qy,useLayoutEffect:Ky,useMemo:Jy,useReducer:Ph,useRef:Gy,useState:function(){return Ph(ua)},useDebugValue:qf,useDeferredValue:function(t){var e=mn();return ht===null?e.memoizedState=t:ew(e,ht.memoizedState,t)},useTransition:function(){var t=Ph(ua)[0],e=mn().memoizedState;return[t,e]},useMutableSource:jy,useSyncExternalStore:Uy,useId:tw,unstable_isNewReconciler:!1};function Cn(t,e){if(t&&t.defaultProps){e=Xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Pd(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Xu={isMounted:function(t){return(t=t._reactInternals)?Fr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Ot(),o=zi(t),a=ni(i,o);a.payload=e,n!=null&&(a.callback=n),e=Oi(t,a,o),e!==null&&(Rn(e,t,o,i),jl(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Ot(),o=zi(t),a=ni(i,o);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Oi(t,a,o),e!==null&&(Rn(e,t,o,i),jl(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ot(),i=zi(t),o=ni(n,i);o.tag=2,e!=null&&(o.callback=e),e=Oi(t,o,i),e!==null&&(Rn(e,t,i,n),jl(e,t,i))}};function T_(t,e,n,i,o,a,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,a,l):e.prototype&&e.prototype.isPureReactComponent?!na(n,i)||!na(o,a):!0}function ow(t,e,n){var i=!1,o=Zi,a=e.contextType;return typeof a=="object"&&a!==null?a=pn(a):(o=Wt(e)?Pr:Rt.current,i=e.contextTypes,a=(i=i!=null)?ko(t,o):Zi),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Xu,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=a),e}function P_(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Xu.enqueueReplaceState(e,e.state,null)}function Id(t,e,n,i){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs={},jf(t);var a=e.contextType;typeof a=="object"&&a!==null?o.context=pn(a):(a=Wt(e)?Pr:Rt.current,o.context=ko(t,a)),o.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Pd(t,e,a,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&Xu.enqueueReplaceState(o,o.state,null),du(t,n,o,i),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function bo(t,e){try{var n="",i=e;do n+=$1(i),i=i.return;while(i);var o=n}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:o,digest:null}}function Ih(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function kd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var yx=typeof WeakMap=="function"?WeakMap:Map;function sw(t,e,n){n=ni(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){gu||(gu=!0,Fd=i),kd(t,e)},n}function aw(t,e,n){n=ni(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var o=e.value;n.payload=function(){return i(o)},n.callback=function(){kd(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){kd(t,e),typeof i!="function"&&(Di===null?Di=new Set([this]):Di.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function I_(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new yx;var o=new Set;i.set(e,o)}else o=i.get(e),o===void 0&&(o=new Set,i.set(e,o));o.has(n)||(o.add(n),t=Mx.bind(null,t,e,n),e.then(t,t))}function k_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function L_(t,e,n,i,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ni(-1,1),e.tag=2,Oi(n,e,1))),n.lanes|=1),t)}var wx=ci.ReactCurrentOwner,jt=!1;function Mt(t,e,n,i){e.child=t===null?Dy(e,null,n,i):Ro(e,t.child,n,i)}function R_(t,e,n,i,o){n=n.render;var a=e.ref;return So(e,o),i=Zf(t,e,n,i,a,o),n=$f(),t!==null&&!jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,ai(t,e,o)):(Ge&&n&&Mf(e),e.flags|=1,Mt(t,e,i,o),e.child)}function N_(t,e,n,i,o){if(t===null){var a=n.type;return typeof a=="function"&&!np(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,lw(t,e,a,i,o)):(t=$l(n.type,null,i,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&o)){var l=a.memoizedProps;if(n=n.compare,n=n!==null?n:na,n(l,i)&&t.ref===e.ref)return ai(t,e,o)}return e.flags|=1,t=Fi(a,i),t.ref=e.ref,t.return=e,e.child=t}function lw(t,e,n,i,o){if(t!==null){var a=t.memoizedProps;if(na(a,i)&&t.ref===e.ref)if(jt=!1,e.pendingProps=i=a,(t.lanes&o)!==0)t.flags&131072&&(jt=!0);else return e.lanes=t.lanes,ai(t,e,o)}return Ld(t,e,n,i,o)}function uw(t,e,n){var i=e.pendingProps,o=i.children,a=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(go,Kt),Kt|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ue(go,Kt),Kt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=a!==null?a.baseLanes:n,Ue(go,Kt),Kt|=i}else a!==null?(i=a.baseLanes|n,e.memoizedState=null):i=n,Ue(go,Kt),Kt|=i;return Mt(t,e,o,n),e.child}function cw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ld(t,e,n,i,o){var a=Wt(n)?Pr:Rt.current;return a=ko(e,a),So(e,o),n=Zf(t,e,n,i,a,o),i=$f(),t!==null&&!jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,ai(t,e,o)):(Ge&&i&&Mf(e),e.flags|=1,Mt(t,e,n,o),e.child)}function b_(t,e,n,i,o){if(Wt(n)){var a=!0;au(e)}else a=!1;if(So(e,o),e.stateNode===null)Wl(t,e),ow(e,n,i),Id(e,n,i,o),i=!0;else if(t===null){var l=e.stateNode,c=e.memoizedProps;l.props=c;var h=l.context,f=n.contextType;typeof f=="object"&&f!==null?f=pn(f):(f=Wt(n)?Pr:Rt.current,f=ko(e,f));var g=n.getDerivedStateFromProps,m=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==i||h!==f)&&P_(e,l,i,f),Pi=!1;var _=e.memoizedState;l.state=_,du(e,i,l,o),h=e.memoizedState,c!==i||_!==h||Ht.current||Pi?(typeof g=="function"&&(Pd(e,n,g,i),h=e.memoizedState),(c=Pi||T_(e,n,c,i,_,h,f))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=h),l.props=i,l.state=h,l.context=f,i=c):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{l=e.stateNode,Fy(t,e),c=e.memoizedProps,f=e.type===e.elementType?c:Cn(e.type,c),l.props=f,m=e.pendingProps,_=l.context,h=n.contextType,typeof h=="object"&&h!==null?h=pn(h):(h=Wt(n)?Pr:Rt.current,h=ko(e,h));var E=n.getDerivedStateFromProps;(g=typeof E=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==m||_!==h)&&P_(e,l,i,h),Pi=!1,_=e.memoizedState,l.state=_,du(e,i,l,o);var T=e.memoizedState;c!==m||_!==T||Ht.current||Pi?(typeof E=="function"&&(Pd(e,n,E,i),T=e.memoizedState),(f=Pi||T_(e,n,f,i,_,T,h)||!1)?(g||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(i,T,h),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(i,T,h)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=T),l.props=i,l.state=T,l.context=h,i=f):(typeof l.componentDidUpdate!="function"||c===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),i=!1)}return Rd(t,e,n,i,a,o)}function Rd(t,e,n,i,o,a){cw(t,e);var l=(e.flags&128)!==0;if(!i&&!l)return o&&g_(e,n,!1),ai(t,e,a);i=e.stateNode,wx.current=e;var c=l&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&l?(e.child=Ro(e,t.child,null,a),e.child=Ro(e,null,c,a)):Mt(t,e,c,a),e.memoizedState=i.state,o&&g_(e,n,!0),e.child}function hw(t){var e=t.stateNode;e.pendingContext?__(t,e.pendingContext,e.pendingContext!==e.context):e.context&&__(t,e.context,!1),Uf(t,e.containerInfo)}function M_(t,e,n,i,o){return Lo(),Of(o),e.flags|=256,Mt(t,e,n,i),e.child}var Nd={dehydrated:null,treeContext:null,retryLane:0};function bd(t){return{baseLanes:t,cachePool:null,transitions:null}}function dw(t,e,n){var i=e.pendingProps,o=Ye.current,a=!1,l=(e.flags&128)!==0,c;if((c=l)||(c=t!==null&&t.memoizedState===null?!1:(o&2)!==0),c?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),Ue(Ye,o&1),t===null)return xd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=i.children,t=i.fallback,a?(i=e.mode,a=e.child,l={mode:"hidden",children:l},!(i&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=tc(l,i,0,null),t=Tr(t,i,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=bd(n),e.memoizedState=Nd,t):Kf(e,l));if(o=t.memoizedState,o!==null&&(c=o.dehydrated,c!==null))return Ex(t,e,l,i,c,o,n);if(a){a=i.fallback,l=e.mode,o=t.child,c=o.sibling;var h={mode:"hidden",children:i.children};return!(l&1)&&e.child!==o?(i=e.child,i.childLanes=0,i.pendingProps=h,e.deletions=null):(i=Fi(o,h),i.subtreeFlags=o.subtreeFlags&14680064),c!==null?a=Fi(c,a):(a=Tr(a,l,n,null),a.flags|=2),a.return=e,i.return=e,i.sibling=a,e.child=i,i=a,a=e.child,l=t.child.memoizedState,l=l===null?bd(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=t.childLanes&~n,e.memoizedState=Nd,i}return a=t.child,t=a.sibling,i=Fi(a,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Kf(t,e){return e=tc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Il(t,e,n,i){return i!==null&&Of(i),Ro(e,t.child,null,n),t=Kf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ex(t,e,n,i,o,a,l){if(n)return e.flags&256?(e.flags&=-257,i=Ih(Error(U(422))),Il(t,e,l,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=i.fallback,o=e.mode,i=tc({mode:"visible",children:i.children},o,0,null),a=Tr(a,o,l,null),a.flags|=2,i.return=e,a.return=e,i.sibling=a,e.child=i,e.mode&1&&Ro(e,t.child,null,l),e.child.memoizedState=bd(l),e.memoizedState=Nd,a);if(!(e.mode&1))return Il(t,e,l,null);if(o.data==="$!"){if(i=o.nextSibling&&o.nextSibling.dataset,i)var c=i.dgst;return i=c,a=Error(U(419)),i=Ih(a,i,void 0),Il(t,e,l,i)}if(c=(l&t.childLanes)!==0,jt||c){if(i=wt,i!==null){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(i.suspendedLanes|l)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,si(t,o),Rn(i,t,o,-1))}return tp(),i=Ih(Error(U(421))),Il(t,e,l,i)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=Ax.bind(null,t),o._reactRetry=e,null):(t=a.treeContext,Qt=Ai(o.nextSibling),Xt=e,Ge=!0,Tn=null,t!==null&&(un[cn++]=Jn,un[cn++]=ei,un[cn++]=Ir,Jn=t.id,ei=t.overflow,Ir=e),e=Kf(e,i.children),e.flags|=4096,e)}function A_(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Td(t.return,e,n)}function kh(t,e,n,i,o){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=o)}function fw(t,e,n){var i=e.pendingProps,o=i.revealOrder,a=i.tail;if(Mt(t,e,i.children,n),i=Ye.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&A_(t,n,e);else if(t.tag===19)A_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Ue(Ye,i),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&fu(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),kh(e,!1,o,n,a);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&fu(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}kh(e,!0,n,null,a);break;case"together":kh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ai(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Lr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Fi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Fi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Cx(t,e,n){switch(e.tag){case 3:hw(e),Lo();break;case 5:By(e);break;case 1:Wt(e.type)&&au(e);break;case 4:Uf(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,o=e.memoizedProps.value;Ue(cu,i._currentValue),i._currentValue=o;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Ue(Ye,Ye.current&1),e.flags|=128,null):n&e.child.childLanes?dw(t,e,n):(Ue(Ye,Ye.current&1),t=ai(t,e,n),t!==null?t.sibling:null);Ue(Ye,Ye.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return fw(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ue(Ye,Ye.current),i)break;return null;case 22:case 23:return e.lanes=0,uw(t,e,n)}return ai(t,e,n)}var pw,Md,mw,_w;pw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Md=function(){};mw=function(t,e,n,i){var o=t.memoizedProps;if(o!==i){t=e.stateNode,vr(Vn.current);var a=null;switch(n){case"input":o=td(t,o),i=td(t,i),a=[];break;case"select":o=Xe({},o,{value:void 0}),i=Xe({},i,{value:void 0}),a=[];break;case"textarea":o=rd(t,o),i=rd(t,i),a=[];break;default:typeof o.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=ou)}sd(n,i);var l;n=null;for(f in o)if(!i.hasOwnProperty(f)&&o.hasOwnProperty(f)&&o[f]!=null)if(f==="style"){var c=o[f];for(l in c)c.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Ks.hasOwnProperty(f)?a||(a=[]):(a=a||[]).push(f,null));for(f in i){var h=i[f];if(c=o!=null?o[f]:void 0,i.hasOwnProperty(f)&&h!==c&&(h!=null||c!=null))if(f==="style")if(c){for(l in c)!c.hasOwnProperty(l)||h&&h.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in h)h.hasOwnProperty(l)&&c[l]!==h[l]&&(n||(n={}),n[l]=h[l])}else n||(a||(a=[]),a.push(f,n)),n=h;else f==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,c=c?c.__html:void 0,h!=null&&c!==h&&(a=a||[]).push(f,h)):f==="children"?typeof h!="string"&&typeof h!="number"||(a=a||[]).push(f,""+h):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Ks.hasOwnProperty(f)?(h!=null&&f==="onScroll"&&Ve("scroll",t),a||c===h||(a=[])):(a=a||[]).push(f,h))}n&&(a=a||[]).push("style",n);var f=a;(e.updateQueue=f)&&(e.flags|=4)}};_w=function(t,e,n,i){n!==i&&(e.flags|=4)};function ys(t,e){if(!Ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function It(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&14680064,i|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Sx(t,e,n){var i=e.pendingProps;switch(Af(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(e),null;case 1:return Wt(e.type)&&su(),It(e),null;case 3:return i=e.stateNode,No(),$e(Ht),$e(Rt),Wf(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(Tl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Tn!==null&&(Ud(Tn),Tn=null))),Md(t,e),It(e),null;case 5:Hf(e);var o=vr(aa.current);if(n=e.type,t!==null&&e.stateNode!=null)mw(t,e,n,i,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(U(166));return It(e),null}if(t=vr(Vn.current),Tl(e)){i=e.stateNode,n=e.type;var a=e.memoizedProps;switch(i[Hn]=e,i[oa]=a,t=(e.mode&1)!==0,n){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(o=0;o<Ns.length;o++)Ve(Ns[o],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Wm(i,a),Ve("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Ve("invalid",i);break;case"textarea":Zm(i,a),Ve("invalid",i)}sd(n,a),o=null;for(var l in a)if(a.hasOwnProperty(l)){var c=a[l];l==="children"?typeof c=="string"?i.textContent!==c&&(a.suppressHydrationWarning!==!0&&xl(i.textContent,c,t),o=["children",c]):typeof c=="number"&&i.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&xl(i.textContent,c,t),o=["children",""+c]):Ks.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&Ve("scroll",i)}switch(n){case"input":_l(i),Vm(i,a,!0);break;case"textarea":_l(i),$m(i);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(i.onclick=ou)}i=o,e.updateQueue=i,i!==null&&(e.flags|=4)}else{l=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Vv(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=l.createElement(n,{is:i.is}):(t=l.createElement(n),n==="select"&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,n),t[Hn]=e,t[oa]=i,pw(t,e,!1,!1),e.stateNode=t;e:{switch(l=ad(n,i),n){case"dialog":Ve("cancel",t),Ve("close",t),o=i;break;case"iframe":case"object":case"embed":Ve("load",t),o=i;break;case"video":case"audio":for(o=0;o<Ns.length;o++)Ve(Ns[o],t);o=i;break;case"source":Ve("error",t),o=i;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),o=i;break;case"details":Ve("toggle",t),o=i;break;case"input":Wm(t,i),o=td(t,i),Ve("invalid",t);break;case"option":o=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},o=Xe({},i,{value:void 0}),Ve("invalid",t);break;case"textarea":Zm(t,i),o=rd(t,i),Ve("invalid",t);break;default:o=i}sd(n,o),c=o;for(a in c)if(c.hasOwnProperty(a)){var h=c[a];a==="style"?Gv(t,h):a==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&Zv(t,h)):a==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&Ys(t,h):typeof h=="number"&&Ys(t,""+h):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ks.hasOwnProperty(a)?h!=null&&a==="onScroll"&&Ve("scroll",t):h!=null&&yf(t,a,h,l))}switch(n){case"input":_l(t),Vm(t,i,!1);break;case"textarea":_l(t),$m(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Vi(i.value));break;case"select":t.multiple=!!i.multiple,a=i.value,a!=null?yo(t,!!i.multiple,a,!1):i.defaultValue!=null&&yo(t,!!i.multiple,i.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=ou)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return It(e),null;case 6:if(t&&e.stateNode!=null)_w(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(U(166));if(n=vr(aa.current),vr(Vn.current),Tl(e)){if(i=e.stateNode,n=e.memoizedProps,i[Hn]=e,(a=i.nodeValue!==n)&&(t=Xt,t!==null))switch(t.tag){case 3:xl(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xl(i.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Hn]=e,e.stateNode=i}return It(e),null;case 13:if($e(Ye),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&Qt!==null&&e.mode&1&&!(e.flags&128))Ay(),Lo(),e.flags|=98560,a=!1;else if(a=Tl(e),i!==null&&i.dehydrated!==null){if(t===null){if(!a)throw Error(U(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(U(317));a[Hn]=e}else Lo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;It(e),a=!1}else Tn!==null&&(Ud(Tn),Tn=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Ye.current&1?pt===0&&(pt=3):tp())),e.updateQueue!==null&&(e.flags|=4),It(e),null);case 4:return No(),Md(t,e),t===null&&ia(e.stateNode.containerInfo),It(e),null;case 10:return Ff(e.type._context),It(e),null;case 17:return Wt(e.type)&&su(),It(e),null;case 19:if($e(Ye),a=e.memoizedState,a===null)return It(e),null;if(i=(e.flags&128)!==0,l=a.rendering,l===null)if(i)ys(a,!1);else{if(pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=fu(t),l!==null){for(e.flags|=128,ys(a,!1),i=l.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)a=n,t=i,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,t=l.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ue(Ye,Ye.current&1|2),e.child}t=t.sibling}a.tail!==null&&ot()>Mo&&(e.flags|=128,i=!0,ys(a,!1),e.lanes=4194304)}else{if(!i)if(t=fu(l),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ys(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!Ge)return It(e),null}else 2*ot()-a.renderingStartTime>Mo&&n!==1073741824&&(e.flags|=128,i=!0,ys(a,!1),e.lanes=4194304);a.isBackwards?(l.sibling=e.child,e.child=l):(n=a.last,n!==null?n.sibling=l:e.child=l,a.last=l)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=ot(),e.sibling=null,n=Ye.current,Ue(Ye,i?n&1|2:n&1),e):(It(e),null);case 22:case 23:return ep(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Kt&1073741824&&(It(e),e.subtreeFlags&6&&(e.flags|=8192)):It(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function xx(t,e){switch(Af(e),e.tag){case 1:return Wt(e.type)&&su(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return No(),$e(Ht),$e(Rt),Wf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Hf(e),null;case 13:if($e(Ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Lo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return $e(Ye),null;case 4:return No(),null;case 10:return Ff(e.type._context),null;case 22:case 23:return ep(),null;case 24:return null;default:return null}}var kl=!1,kt=!1,Tx=typeof WeakSet=="function"?WeakSet:Set,Q=null;function _o(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){et(t,e,i)}else n.current=null}function Ad(t,e,n){try{n()}catch(i){et(t,e,i)}}var O_=!1;function Px(t,e){if(gd=nu,t=Ey(),bf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var l=0,c=-1,h=-1,f=0,g=0,m=t,_=null;t:for(;;){for(var E;m!==n||o!==0&&m.nodeType!==3||(c=l+o),m!==a||i!==0&&m.nodeType!==3||(h=l+i),m.nodeType===3&&(l+=m.nodeValue.length),(E=m.firstChild)!==null;)_=m,m=E;for(;;){if(m===t)break t;if(_===n&&++f===o&&(c=l),_===a&&++g===i&&(h=l),(E=m.nextSibling)!==null)break;m=_,_=m.parentNode}m=E}n=c===-1||h===-1?null:{start:c,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(vd={focusedElem:t,selectionRange:n},nu=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var P=T.memoizedProps,z=T.memoizedState,C=e.stateNode,y=C.getSnapshotBeforeUpdate(e.elementType===e.type?P:Cn(e.type,P),z);C.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(O){et(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return T=O_,O_=!1,T}function Bs(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&t)===t){var a=o.destroy;o.destroy=void 0,a!==void 0&&Ad(e,n,a)}o=o.next}while(o!==i)}}function Ju(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Od(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function gw(t){var e=t.alternate;e!==null&&(t.alternate=null,gw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Hn],delete e[oa],delete e[Ed],delete e[lx],delete e[ux])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vw(t){return t.tag===5||t.tag===3||t.tag===4}function D_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dd(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ou));else if(i!==4&&(t=t.child,t!==null))for(Dd(t,e,n),t=t.sibling;t!==null;)Dd(t,e,n),t=t.sibling}function zd(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(zd(t,e,n),t=t.sibling;t!==null;)zd(t,e,n),t=t.sibling}var Ct=null,Sn=!1;function Si(t,e,n){for(n=n.child;n!==null;)yw(t,e,n),n=n.sibling}function yw(t,e,n){if(Wn&&typeof Wn.onCommitFiberUnmount=="function")try{Wn.onCommitFiberUnmount(Zu,n)}catch{}switch(n.tag){case 5:kt||_o(n,e);case 6:var i=Ct,o=Sn;Ct=null,Si(t,e,n),Ct=i,Sn=o,Ct!==null&&(Sn?(t=Ct,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ct.removeChild(n.stateNode));break;case 18:Ct!==null&&(Sn?(t=Ct,n=n.stateNode,t.nodeType===8?Eh(t.parentNode,n):t.nodeType===1&&Eh(t,n),ea(t)):Eh(Ct,n.stateNode));break;case 4:i=Ct,o=Sn,Ct=n.stateNode.containerInfo,Sn=!0,Si(t,e,n),Ct=i,Sn=o;break;case 0:case 11:case 14:case 15:if(!kt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){o=i=i.next;do{var a=o,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&Ad(n,e,l),o=o.next}while(o!==i)}Si(t,e,n);break;case 1:if(!kt&&(_o(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(c){et(n,e,c)}Si(t,e,n);break;case 21:Si(t,e,n);break;case 22:n.mode&1?(kt=(i=kt)||n.memoizedState!==null,Si(t,e,n),kt=i):Si(t,e,n);break;default:Si(t,e,n)}}function z_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Tx),e.forEach(function(i){var o=Ox.bind(null,t,i);n.has(i)||(n.add(i),i.then(o,o))})}}function En(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];try{var a=t,l=e,c=l;e:for(;c!==null;){switch(c.tag){case 5:Ct=c.stateNode,Sn=!1;break e;case 3:Ct=c.stateNode.containerInfo,Sn=!0;break e;case 4:Ct=c.stateNode.containerInfo,Sn=!0;break e}c=c.return}if(Ct===null)throw Error(U(160));yw(a,l,o),Ct=null,Sn=!1;var h=o.alternate;h!==null&&(h.return=null),o.return=null}catch(f){et(o,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ww(e,t),e=e.sibling}function ww(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(En(e,t),jn(t),i&4){try{Bs(3,t,t.return),Ju(3,t)}catch(P){et(t,t.return,P)}try{Bs(5,t,t.return)}catch(P){et(t,t.return,P)}}break;case 1:En(e,t),jn(t),i&512&&n!==null&&_o(n,n.return);break;case 5:if(En(e,t),jn(t),i&512&&n!==null&&_o(n,n.return),t.flags&32){var o=t.stateNode;try{Ys(o,"")}catch(P){et(t,t.return,P)}}if(i&4&&(o=t.stateNode,o!=null)){var a=t.memoizedProps,l=n!==null?n.memoizedProps:a,c=t.type,h=t.updateQueue;if(t.updateQueue=null,h!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&Hv(o,a),ad(c,l);var f=ad(c,a);for(l=0;l<h.length;l+=2){var g=h[l],m=h[l+1];g==="style"?Gv(o,m):g==="dangerouslySetInnerHTML"?Zv(o,m):g==="children"?Ys(o,m):yf(o,g,m,f)}switch(c){case"input":nd(o,a);break;case"textarea":Wv(o,a);break;case"select":var _=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var E=a.value;E!=null?yo(o,!!a.multiple,E,!1):_!==!!a.multiple&&(a.defaultValue!=null?yo(o,!!a.multiple,a.defaultValue,!0):yo(o,!!a.multiple,a.multiple?[]:"",!1))}o[oa]=a}catch(P){et(t,t.return,P)}}break;case 6:if(En(e,t),jn(t),i&4){if(t.stateNode===null)throw Error(U(162));o=t.stateNode,a=t.memoizedProps;try{o.nodeValue=a}catch(P){et(t,t.return,P)}}break;case 3:if(En(e,t),jn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ea(e.containerInfo)}catch(P){et(t,t.return,P)}break;case 4:En(e,t),jn(t);break;case 13:En(e,t),jn(t),o=t.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(Xf=ot())),i&4&&z_(t);break;case 22:if(g=n!==null&&n.memoizedState!==null,t.mode&1?(kt=(f=kt)||g,En(e,t),kt=f):En(e,t),jn(t),i&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!g&&t.mode&1)for(Q=t,g=t.child;g!==null;){for(m=Q=g;Q!==null;){switch(_=Q,E=_.child,_.tag){case 0:case 11:case 14:case 15:Bs(4,_,_.return);break;case 1:_o(_,_.return);var T=_.stateNode;if(typeof T.componentWillUnmount=="function"){i=_,n=_.return;try{e=i,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(P){et(i,n,P)}}break;case 5:_o(_,_.return);break;case 22:if(_.memoizedState!==null){B_(m);continue}}E!==null?(E.return=_,Q=E):B_(m)}g=g.sibling}e:for(g=null,m=t;;){if(m.tag===5){if(g===null){g=m;try{o=m.stateNode,f?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=m.stateNode,h=m.memoizedProps.style,l=h!=null&&h.hasOwnProperty("display")?h.display:null,c.style.display=$v("display",l))}catch(P){et(t,t.return,P)}}}else if(m.tag===6){if(g===null)try{m.stateNode.nodeValue=f?"":m.memoizedProps}catch(P){et(t,t.return,P)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;g===m&&(g=null),m=m.return}g===m&&(g=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:En(e,t),jn(t),i&4&&z_(t);break;case 21:break;default:En(e,t),jn(t)}}function jn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(vw(n)){var i=n;break e}n=n.return}throw Error(U(160))}switch(i.tag){case 5:var o=i.stateNode;i.flags&32&&(Ys(o,""),i.flags&=-33);var a=D_(t);zd(t,a,o);break;case 3:case 4:var l=i.stateNode.containerInfo,c=D_(t);Dd(t,c,l);break;default:throw Error(U(161))}}catch(h){et(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Ix(t,e,n){Q=t,Ew(t)}function Ew(t,e,n){for(var i=(t.mode&1)!==0;Q!==null;){var o=Q,a=o.child;if(o.tag===22&&i){var l=o.memoizedState!==null||kl;if(!l){var c=o.alternate,h=c!==null&&c.memoizedState!==null||kt;c=kl;var f=kt;if(kl=l,(kt=h)&&!f)for(Q=o;Q!==null;)l=Q,h=l.child,l.tag===22&&l.memoizedState!==null?j_(o):h!==null?(h.return=l,Q=h):j_(o);for(;a!==null;)Q=a,Ew(a),a=a.sibling;Q=o,kl=c,kt=f}F_(t)}else o.subtreeFlags&8772&&a!==null?(a.return=o,Q=a):F_(t)}}function F_(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:kt||Ju(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!kt)if(n===null)i.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:Cn(e.type,n.memoizedProps);i.componentDidUpdate(o,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&C_(e,a,i);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}C_(e,l,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var g=f.memoizedState;if(g!==null){var m=g.dehydrated;m!==null&&ea(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}kt||e.flags&512&&Od(e)}catch(_){et(e,e.return,_)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function B_(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function j_(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ju(4,e)}catch(h){et(e,n,h)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var o=e.return;try{i.componentDidMount()}catch(h){et(e,o,h)}}var a=e.return;try{Od(e)}catch(h){et(e,a,h)}break;case 5:var l=e.return;try{Od(e)}catch(h){et(e,l,h)}}}catch(h){et(e,e.return,h)}if(e===t){Q=null;break}var c=e.sibling;if(c!==null){c.return=e.return,Q=c;break}Q=e.return}}var kx=Math.ceil,_u=ci.ReactCurrentDispatcher,Yf=ci.ReactCurrentOwner,fn=ci.ReactCurrentBatchConfig,Ie=0,wt=null,lt=null,St=0,Kt=0,go=Qi(0),pt=0,ha=null,Lr=0,ec=0,Qf=0,js=null,Bt=null,Xf=0,Mo=1/0,Qn=null,gu=!1,Fd=null,Di=null,Ll=!1,Ri=null,vu=0,Us=0,Bd=null,Vl=-1,Zl=0;function Ot(){return Ie&6?ot():Vl!==-1?Vl:Vl=ot()}function zi(t){return t.mode&1?Ie&2&&St!==0?St&-St:hx.transition!==null?(Zl===0&&(Zl=oy()),Zl):(t=Oe,t!==0||(t=window.event,t=t===void 0?16:dy(t.type)),t):1}function Rn(t,e,n,i){if(50<Us)throw Us=0,Bd=null,Error(U(185));Ia(t,n,i),(!(Ie&2)||t!==wt)&&(t===wt&&(!(Ie&2)&&(ec|=n),pt===4&&ki(t,St)),Vt(t,i),n===1&&Ie===0&&!(e.mode&1)&&(Mo=ot()+500,Yu&&Xi()))}function Vt(t,e){var n=t.callbackNode;hS(t,e);var i=tu(t,t===wt?St:0);if(i===0)n!==null&&Km(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&Km(n),e===1)t.tag===0?cx(U_.bind(null,t)):Ny(U_.bind(null,t)),sx(function(){!(Ie&6)&&Xi()}),n=null;else{switch(sy(i)){case 1:n=xf;break;case 4:n=iy;break;case 16:n=eu;break;case 536870912:n=ry;break;default:n=eu}n=Lw(n,Cw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Cw(t,e){if(Vl=-1,Zl=0,Ie&6)throw Error(U(327));var n=t.callbackNode;if(xo()&&t.callbackNode!==n)return null;var i=tu(t,t===wt?St:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=yu(t,i);else{e=i;var o=Ie;Ie|=2;var a=xw();(wt!==t||St!==e)&&(Qn=null,Mo=ot()+500,xr(t,e));do try{Nx();break}catch(c){Sw(t,c)}while(!0);zf(),_u.current=a,Ie=o,lt!==null?e=0:(wt=null,St=0,e=pt)}if(e!==0){if(e===2&&(o=dd(t),o!==0&&(i=o,e=jd(t,o))),e===1)throw n=ha,xr(t,0),ki(t,i),Vt(t,ot()),n;if(e===6)ki(t,i);else{if(o=t.current.alternate,!(i&30)&&!Lx(o)&&(e=yu(t,i),e===2&&(a=dd(t),a!==0&&(i=a,e=jd(t,a))),e===1))throw n=ha,xr(t,0),ki(t,i),Vt(t,ot()),n;switch(t.finishedWork=o,t.finishedLanes=i,e){case 0:case 1:throw Error(U(345));case 2:dr(t,Bt,Qn);break;case 3:if(ki(t,i),(i&130023424)===i&&(e=Xf+500-ot(),10<e)){if(tu(t,0)!==0)break;if(o=t.suspendedLanes,(o&i)!==i){Ot(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=wd(dr.bind(null,t,Bt,Qn),e);break}dr(t,Bt,Qn);break;case 4:if(ki(t,i),(i&4194240)===i)break;for(e=t.eventTimes,o=-1;0<i;){var l=31-Ln(i);a=1<<l,l=e[l],l>o&&(o=l),i&=~a}if(i=o,i=ot()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*kx(i/1960))-i,10<i){t.timeoutHandle=wd(dr.bind(null,t,Bt,Qn),i);break}dr(t,Bt,Qn);break;case 5:dr(t,Bt,Qn);break;default:throw Error(U(329))}}}return Vt(t,ot()),t.callbackNode===n?Cw.bind(null,t):null}function jd(t,e){var n=js;return t.current.memoizedState.isDehydrated&&(xr(t,e).flags|=256),t=yu(t,e),t!==2&&(e=Bt,Bt=n,e!==null&&Ud(e)),t}function Ud(t){Bt===null?Bt=t:Bt.push.apply(Bt,t)}function Lx(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var o=n[i],a=o.getSnapshot;o=o.value;try{if(!bn(a(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ki(t,e){for(e&=~Qf,e&=~ec,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ln(e),i=1<<n;t[n]=-1,e&=~i}}function U_(t){if(Ie&6)throw Error(U(327));xo();var e=tu(t,0);if(!(e&1))return Vt(t,ot()),null;var n=yu(t,e);if(t.tag!==0&&n===2){var i=dd(t);i!==0&&(e=i,n=jd(t,i))}if(n===1)throw n=ha,xr(t,0),ki(t,e),Vt(t,ot()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,dr(t,Bt,Qn),Vt(t,ot()),null}function Jf(t,e){var n=Ie;Ie|=1;try{return t(e)}finally{Ie=n,Ie===0&&(Mo=ot()+500,Yu&&Xi())}}function Rr(t){Ri!==null&&Ri.tag===0&&!(Ie&6)&&xo();var e=Ie;Ie|=1;var n=fn.transition,i=Oe;try{if(fn.transition=null,Oe=1,t)return t()}finally{Oe=i,fn.transition=n,Ie=e,!(Ie&6)&&Xi()}}function ep(){Kt=go.current,$e(go)}function xr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ox(n)),lt!==null)for(n=lt.return;n!==null;){var i=n;switch(Af(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&su();break;case 3:No(),$e(Ht),$e(Rt),Wf();break;case 5:Hf(i);break;case 4:No();break;case 13:$e(Ye);break;case 19:$e(Ye);break;case 10:Ff(i.type._context);break;case 22:case 23:ep()}n=n.return}if(wt=t,lt=t=Fi(t.current,null),St=Kt=e,pt=0,ha=null,Qf=ec=Lr=0,Bt=js=null,gr!==null){for(e=0;e<gr.length;e++)if(n=gr[e],i=n.interleaved,i!==null){n.interleaved=null;var o=i.next,a=n.pending;if(a!==null){var l=a.next;a.next=o,i.next=l}n.pending=i}gr=null}return t}function Sw(t,e){do{var n=lt;try{if(zf(),Ul.current=mu,pu){for(var i=Qe.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}pu=!1}if(kr=0,gt=ht=Qe=null,Fs=!1,la=0,Yf.current=null,n===null||n.return===null){pt=1,ha=e,lt=null;break}e:{var a=t,l=n.return,c=n,h=e;if(e=St,c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var f=h,g=c,m=g.tag;if(!(g.mode&1)&&(m===0||m===11||m===15)){var _=g.alternate;_?(g.updateQueue=_.updateQueue,g.memoizedState=_.memoizedState,g.lanes=_.lanes):(g.updateQueue=null,g.memoizedState=null)}var E=k_(l);if(E!==null){E.flags&=-257,L_(E,l,c,a,e),E.mode&1&&I_(a,f,e),e=E,h=f;var T=e.updateQueue;if(T===null){var P=new Set;P.add(h),e.updateQueue=P}else T.add(h);break e}else{if(!(e&1)){I_(a,f,e),tp();break e}h=Error(U(426))}}else if(Ge&&c.mode&1){var z=k_(l);if(z!==null){!(z.flags&65536)&&(z.flags|=256),L_(z,l,c,a,e),Of(bo(h,c));break e}}a=h=bo(h,c),pt!==4&&(pt=2),js===null?js=[a]:js.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var C=sw(a,h,e);E_(a,C);break e;case 1:c=h;var y=a.type,S=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Di===null||!Di.has(S)))){a.flags|=65536,e&=-e,a.lanes|=e;var O=aw(a,c,e);E_(a,O);break e}}a=a.return}while(a!==null)}Pw(n)}catch(j){e=j,lt===n&&n!==null&&(lt=n=n.return);continue}break}while(!0)}function xw(){var t=_u.current;return _u.current=mu,t===null?mu:t}function tp(){(pt===0||pt===3||pt===2)&&(pt=4),wt===null||!(Lr&268435455)&&!(ec&268435455)||ki(wt,St)}function yu(t,e){var n=Ie;Ie|=2;var i=xw();(wt!==t||St!==e)&&(Qn=null,xr(t,e));do try{Rx();break}catch(o){Sw(t,o)}while(!0);if(zf(),Ie=n,_u.current=i,lt!==null)throw Error(U(261));return wt=null,St=0,pt}function Rx(){for(;lt!==null;)Tw(lt)}function Nx(){for(;lt!==null&&!nS();)Tw(lt)}function Tw(t){var e=kw(t.alternate,t,Kt);t.memoizedProps=t.pendingProps,e===null?Pw(t):lt=e,Yf.current=null}function Pw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=xx(n,e),n!==null){n.flags&=32767,lt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{pt=6,lt=null;return}}else if(n=Sx(n,e,Kt),n!==null){lt=n;return}if(e=e.sibling,e!==null){lt=e;return}lt=e=t}while(e!==null);pt===0&&(pt=5)}function dr(t,e,n){var i=Oe,o=fn.transition;try{fn.transition=null,Oe=1,bx(t,e,n,i)}finally{fn.transition=o,Oe=i}return null}function bx(t,e,n,i){do xo();while(Ri!==null);if(Ie&6)throw Error(U(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(dS(t,a),t===wt&&(lt=wt=null,St=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ll||(Ll=!0,Lw(eu,function(){return xo(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=fn.transition,fn.transition=null;var l=Oe;Oe=1;var c=Ie;Ie|=4,Yf.current=null,Px(t,n),ww(n,t),XS(vd),nu=!!gd,vd=gd=null,t.current=n,Ix(n),iS(),Ie=c,Oe=l,fn.transition=a}else t.current=n;if(Ll&&(Ll=!1,Ri=t,vu=o),a=t.pendingLanes,a===0&&(Di=null),sS(n.stateNode),Vt(t,ot()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],i(o.value,{componentStack:o.stack,digest:o.digest});if(gu)throw gu=!1,t=Fd,Fd=null,t;return vu&1&&t.tag!==0&&xo(),a=t.pendingLanes,a&1?t===Bd?Us++:(Us=0,Bd=t):Us=0,Xi(),null}function xo(){if(Ri!==null){var t=sy(vu),e=fn.transition,n=Oe;try{if(fn.transition=null,Oe=16>t?16:t,Ri===null)var i=!1;else{if(t=Ri,Ri=null,vu=0,Ie&6)throw Error(U(331));var o=Ie;for(Ie|=4,Q=t.current;Q!==null;){var a=Q,l=a.child;if(Q.flags&16){var c=a.deletions;if(c!==null){for(var h=0;h<c.length;h++){var f=c[h];for(Q=f;Q!==null;){var g=Q;switch(g.tag){case 0:case 11:case 15:Bs(8,g,a)}var m=g.child;if(m!==null)m.return=g,Q=m;else for(;Q!==null;){g=Q;var _=g.sibling,E=g.return;if(gw(g),g===f){Q=null;break}if(_!==null){_.return=E,Q=_;break}Q=E}}}var T=a.alternate;if(T!==null){var P=T.child;if(P!==null){T.child=null;do{var z=P.sibling;P.sibling=null,P=z}while(P!==null)}}Q=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,Q=l;else e:for(;Q!==null;){if(a=Q,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Bs(9,a,a.return)}var C=a.sibling;if(C!==null){C.return=a.return,Q=C;break e}Q=a.return}}var y=t.current;for(Q=y;Q!==null;){l=Q;var S=l.child;if(l.subtreeFlags&2064&&S!==null)S.return=l,Q=S;else e:for(l=y;Q!==null;){if(c=Q,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Ju(9,c)}}catch(j){et(c,c.return,j)}if(c===l){Q=null;break e}var O=c.sibling;if(O!==null){O.return=c.return,Q=O;break e}Q=c.return}}if(Ie=o,Xi(),Wn&&typeof Wn.onPostCommitFiberRoot=="function")try{Wn.onPostCommitFiberRoot(Zu,t)}catch{}i=!0}return i}finally{Oe=n,fn.transition=e}}return!1}function H_(t,e,n){e=bo(n,e),e=sw(t,e,1),t=Oi(t,e,1),e=Ot(),t!==null&&(Ia(t,1,e),Vt(t,e))}function et(t,e,n){if(t.tag===3)H_(t,t,n);else for(;e!==null;){if(e.tag===3){H_(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Di===null||!Di.has(i))){t=bo(n,t),t=aw(e,t,1),e=Oi(e,t,1),t=Ot(),e!==null&&(Ia(e,1,t),Vt(e,t));break}}e=e.return}}function Mx(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Ot(),t.pingedLanes|=t.suspendedLanes&n,wt===t&&(St&n)===n&&(pt===4||pt===3&&(St&130023424)===St&&500>ot()-Xf?xr(t,0):Qf|=n),Vt(t,e)}function Iw(t,e){e===0&&(t.mode&1?(e=yl,yl<<=1,!(yl&130023424)&&(yl=4194304)):e=1);var n=Ot();t=si(t,e),t!==null&&(Ia(t,e,n),Vt(t,n))}function Ax(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Iw(t,n)}function Ox(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(U(314))}i!==null&&i.delete(e),Iw(t,n)}var kw;kw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ht.current)jt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return jt=!1,Cx(t,e,n);jt=!!(t.flags&131072)}else jt=!1,Ge&&e.flags&1048576&&by(e,uu,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Wl(t,e),t=e.pendingProps;var o=ko(e,Rt.current);So(e,n),o=Zf(null,e,i,t,o,n);var a=$f();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Wt(i)?(a=!0,au(e)):a=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,jf(e),o.updater=Xu,e.stateNode=o,o._reactInternals=e,Id(e,i,t,n),e=Rd(null,e,i,!0,a,n)):(e.tag=0,Ge&&a&&Mf(e),Mt(null,e,o,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Wl(t,e),t=e.pendingProps,o=i._init,i=o(i._payload),e.type=i,o=e.tag=zx(i),t=Cn(i,t),o){case 0:e=Ld(null,e,i,t,n);break e;case 1:e=b_(null,e,i,t,n);break e;case 11:e=R_(null,e,i,t,n);break e;case 14:e=N_(null,e,i,Cn(i.type,t),n);break e}throw Error(U(306,i,""))}return e;case 0:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:Cn(i,o),Ld(t,e,i,o,n);case 1:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:Cn(i,o),b_(t,e,i,o,n);case 3:e:{if(hw(e),t===null)throw Error(U(387));i=e.pendingProps,a=e.memoizedState,o=a.element,Fy(t,e),du(e,i,null,n);var l=e.memoizedState;if(i=l.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){o=bo(Error(U(423)),e),e=M_(t,e,i,n,o);break e}else if(i!==o){o=bo(Error(U(424)),e),e=M_(t,e,i,n,o);break e}else for(Qt=Ai(e.stateNode.containerInfo.firstChild),Xt=e,Ge=!0,Tn=null,n=Dy(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Lo(),i===o){e=ai(t,e,n);break e}Mt(t,e,i,n)}e=e.child}return e;case 5:return By(e),t===null&&xd(e),i=e.type,o=e.pendingProps,a=t!==null?t.memoizedProps:null,l=o.children,yd(i,o)?l=null:a!==null&&yd(i,a)&&(e.flags|=32),cw(t,e),Mt(t,e,l,n),e.child;case 6:return t===null&&xd(e),null;case 13:return dw(t,e,n);case 4:return Uf(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Ro(e,null,i,n):Mt(t,e,i,n),e.child;case 11:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:Cn(i,o),R_(t,e,i,o,n);case 7:return Mt(t,e,e.pendingProps,n),e.child;case 8:return Mt(t,e,e.pendingProps.children,n),e.child;case 12:return Mt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,o=e.pendingProps,a=e.memoizedProps,l=o.value,Ue(cu,i._currentValue),i._currentValue=l,a!==null)if(bn(a.value,l)){if(a.children===o.children&&!Ht.current){e=ai(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var c=a.dependencies;if(c!==null){l=a.child;for(var h=c.firstContext;h!==null;){if(h.context===i){if(a.tag===1){h=ni(-1,n&-n),h.tag=2;var f=a.updateQueue;if(f!==null){f=f.shared;var g=f.pending;g===null?h.next=h:(h.next=g.next,g.next=h),f.pending=h}}a.lanes|=n,h=a.alternate,h!==null&&(h.lanes|=n),Td(a.return,n,e),c.lanes|=n;break}h=h.next}}else if(a.tag===10)l=a.type===e.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(U(341));l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),Td(l,n,e),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===e){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}Mt(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,i=e.pendingProps.children,So(e,n),o=pn(o),i=i(o),e.flags|=1,Mt(t,e,i,n),e.child;case 14:return i=e.type,o=Cn(i,e.pendingProps),o=Cn(i.type,o),N_(t,e,i,o,n);case 15:return lw(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:Cn(i,o),Wl(t,e),e.tag=1,Wt(i)?(t=!0,au(e)):t=!1,So(e,n),ow(e,i,o),Id(e,i,o,n),Rd(null,e,i,!0,t,n);case 19:return fw(t,e,n);case 22:return uw(t,e,n)}throw Error(U(156,e.tag))};function Lw(t,e){return ny(t,e)}function Dx(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,e,n,i){return new Dx(t,e,n,i)}function np(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zx(t){if(typeof t=="function")return np(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ef)return 11;if(t===Cf)return 14}return 2}function Fi(t,e){var n=t.alternate;return n===null?(n=hn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function $l(t,e,n,i,o,a){var l=2;if(i=t,typeof t=="function")np(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case so:return Tr(n.children,o,a,e);case wf:l=8,o|=8;break;case Qh:return t=hn(12,n,e,o|2),t.elementType=Qh,t.lanes=a,t;case Xh:return t=hn(13,n,e,o),t.elementType=Xh,t.lanes=a,t;case Jh:return t=hn(19,n,e,o),t.elementType=Jh,t.lanes=a,t;case Bv:return tc(n,o,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case zv:l=10;break e;case Fv:l=9;break e;case Ef:l=11;break e;case Cf:l=14;break e;case Ti:l=16,i=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=hn(l,n,e,o),e.elementType=t,e.type=i,e.lanes=a,e}function Tr(t,e,n,i){return t=hn(7,t,i,e),t.lanes=n,t}function tc(t,e,n,i){return t=hn(22,t,i,e),t.elementType=Bv,t.lanes=n,t.stateNode={isHidden:!1},t}function Lh(t,e,n){return t=hn(6,t,null,e),t.lanes=n,t}function Rh(t,e,n){return e=hn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Fx(t,e,n,i,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ch(0),this.expirationTimes=ch(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ch(0),this.identifierPrefix=i,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function ip(t,e,n,i,o,a,l,c,h){return t=new Fx(t,e,n,c,h),e===1?(e=1,a===!0&&(e|=8)):e=0,a=hn(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jf(a),t}function Bx(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oo,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function Rw(t){if(!t)return Zi;t=t._reactInternals;e:{if(Fr(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Wt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(Wt(n))return Ry(t,n,e)}return e}function Nw(t,e,n,i,o,a,l,c,h){return t=ip(n,i,!0,t,o,a,l,c,h),t.context=Rw(null),n=t.current,i=Ot(),o=zi(n),a=ni(i,o),a.callback=e??null,Oi(n,a,o),t.current.lanes=o,Ia(t,o,i),Vt(t,i),t}function nc(t,e,n,i){var o=e.current,a=Ot(),l=zi(o);return n=Rw(n),e.context===null?e.context=n:e.pendingContext=n,e=ni(a,l),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Oi(o,e,l),t!==null&&(Rn(t,o,l,a),jl(t,o,l)),l}function wu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function W_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function rp(t,e){W_(t,e),(t=t.alternate)&&W_(t,e)}function jx(){return null}var bw=typeof reportError=="function"?reportError:function(t){console.error(t)};function op(t){this._internalRoot=t}ic.prototype.render=op.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));nc(t,e,null,null)};ic.prototype.unmount=op.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Rr(function(){nc(null,t,null,null)}),e[oi]=null}};function ic(t){this._internalRoot=t}ic.prototype.unstable_scheduleHydration=function(t){if(t){var e=uy();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ii.length&&e!==0&&e<Ii[n].priority;n++);Ii.splice(n,0,t),n===0&&hy(t)}};function sp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function rc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function V_(){}function Ux(t,e,n,i,o){if(o){if(typeof i=="function"){var a=i;i=function(){var f=wu(l);a.call(f)}}var l=Nw(e,i,t,0,null,!1,!1,"",V_);return t._reactRootContainer=l,t[oi]=l.current,ia(t.nodeType===8?t.parentNode:t),Rr(),l}for(;o=t.lastChild;)t.removeChild(o);if(typeof i=="function"){var c=i;i=function(){var f=wu(h);c.call(f)}}var h=ip(t,0,!1,null,null,!1,!1,"",V_);return t._reactRootContainer=h,t[oi]=h.current,ia(t.nodeType===8?t.parentNode:t),Rr(function(){nc(e,h,n,i)}),h}function oc(t,e,n,i,o){var a=n._reactRootContainer;if(a){var l=a;if(typeof o=="function"){var c=o;o=function(){var h=wu(l);c.call(h)}}nc(e,l,t,o)}else l=Ux(n,e,t,o,i);return wu(l)}ay=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Rs(e.pendingLanes);n!==0&&(Tf(e,n|1),Vt(e,ot()),!(Ie&6)&&(Mo=ot()+500,Xi()))}break;case 13:Rr(function(){var i=si(t,1);if(i!==null){var o=Ot();Rn(i,t,1,o)}}),rp(t,1)}};Pf=function(t){if(t.tag===13){var e=si(t,134217728);if(e!==null){var n=Ot();Rn(e,t,134217728,n)}rp(t,134217728)}};ly=function(t){if(t.tag===13){var e=zi(t),n=si(t,e);if(n!==null){var i=Ot();Rn(n,t,e,i)}rp(t,e)}};uy=function(){return Oe};cy=function(t,e){var n=Oe;try{return Oe=t,e()}finally{Oe=n}};ud=function(t,e,n){switch(e){case"input":if(nd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var o=Ku(i);if(!o)throw Error(U(90));Uv(i),nd(i,o)}}}break;case"textarea":Wv(t,n);break;case"select":e=n.value,e!=null&&yo(t,!!n.multiple,e,!1)}};Yv=Jf;Qv=Rr;var Hx={usingClientEntryPoint:!1,Events:[La,co,Ku,qv,Kv,Jf]},ws={findFiberByHostInstance:_r,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Wx={bundleType:ws.bundleType,version:ws.version,rendererPackageName:ws.rendererPackageName,rendererConfig:ws.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ci.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ey(t),t===null?null:t.stateNode},findFiberByHostInstance:ws.findFiberByHostInstance||jx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rl.isDisabled&&Rl.supportsFiber)try{Zu=Rl.inject(Wx),Wn=Rl}catch{}}tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hx;tn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sp(e))throw Error(U(200));return Bx(t,e,null,n)};tn.createRoot=function(t,e){if(!sp(t))throw Error(U(299));var n=!1,i="",o=bw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=ip(t,1,!1,null,null,n,!1,i,o),t[oi]=e.current,ia(t.nodeType===8?t.parentNode:t),new op(e)};tn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=ey(e),t=t===null?null:t.stateNode,t};tn.flushSync=function(t){return Rr(t)};tn.hydrate=function(t,e,n){if(!rc(e))throw Error(U(200));return oc(null,t,e,!0,n)};tn.hydrateRoot=function(t,e,n){if(!sp(t))throw Error(U(405));var i=n!=null&&n.hydratedSources||null,o=!1,a="",l=bw;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=Nw(e,null,t,1,n??null,o,!1,a,l),t[oi]=e.current,ia(t),i)for(t=0;t<i.length;t++)n=i[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new ic(e)};tn.render=function(t,e,n){if(!rc(e))throw Error(U(200));return oc(null,t,e,!1,n)};tn.unmountComponentAtNode=function(t){if(!rc(t))throw Error(U(40));return t._reactRootContainer?(Rr(function(){oc(null,null,t,!1,function(){t._reactRootContainer=null,t[oi]=null})}),!0):!1};tn.unstable_batchedUpdates=Jf;tn.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!rc(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return oc(t,e,n,!1,i)};tn.version="18.3.1-next-f1338f8080-20240426";function Mw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mw)}catch(t){console.error(t)}}Mw(),Mv.exports=tn;var sc=Mv.exports;const Vx=df(sc),Zx=Ev({__proto__:null,default:Vx},[sc]);var Z_=sc;Kh.createRoot=Z_.createRoot,Kh.hydrateRoot=Z_.hydrateRoot;/**
 * @remix-run/router v1.17.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ke(){return Ke=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ke.apply(this,arguments)}var rt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(rt||(rt={}));const $_="popstate";function $x(t){t===void 0&&(t={});function e(i,o){let{pathname:a,search:l,hash:c}=i.location;return da("",{pathname:a,search:l,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:Na(o)}return qx(e,n,null,t)}function fe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ao(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Gx(){return Math.random().toString(36).substr(2,8)}function G_(t,e){return{usr:t.state,key:t.key,idx:e}}function da(t,e,n,i){return n===void 0&&(n=null),Ke({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?hi(e):e,{state:n,key:e&&e.key||i||Gx()})}function Na(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function hi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function qx(t,e,n,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:a=!1}=i,l=o.history,c=rt.Pop,h=null,f=g();f==null&&(f=0,l.replaceState(Ke({},l.state,{idx:f}),""));function g(){return(l.state||{idx:null}).idx}function m(){c=rt.Pop;let z=g(),C=z==null?null:z-f;f=z,h&&h({action:c,location:P.location,delta:C})}function _(z,C){c=rt.Push;let y=da(P.location,z,C);f=g()+1;let S=G_(y,f),O=P.createHref(y);try{l.pushState(S,"",O)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;o.location.assign(O)}a&&h&&h({action:c,location:P.location,delta:1})}function E(z,C){c=rt.Replace;let y=da(P.location,z,C);f=g();let S=G_(y,f),O=P.createHref(y);l.replaceState(S,"",O),a&&h&&h({action:c,location:P.location,delta:0})}function T(z){let C=o.location.origin!=="null"?o.location.origin:o.location.href,y=typeof z=="string"?z:Na(z);return y=y.replace(/ $/,"%20"),fe(C,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,C)}let P={get action(){return c},get location(){return t(o,l)},listen(z){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener($_,m),h=z,()=>{o.removeEventListener($_,m),h=null}},createHref(z){return e(o,z)},createURL:T,encodeLocation(z){let C=T(z);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:_,replace:E,go(z){return l.go(z)}};return P}var Be;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Be||(Be={}));const Kx=new Set(["lazy","caseSensitive","path","id","index","children"]);function Yx(t){return t.index===!0}function fa(t,e,n,i){return n===void 0&&(n=[]),i===void 0&&(i={}),t.map((o,a)=>{let l=[...n,String(a)],c=typeof o.id=="string"?o.id:l.join("-");if(fe(o.index!==!0||!o.children,"Cannot specify children on an index route"),fe(!i[c],'Found a route id collision on id "'+c+`".  Route id's must be globally unique within Data Router usages`),Yx(o)){let h=Ke({},o,e(o),{id:c});return i[c]=h,h}else{let h=Ke({},o,e(o),{id:c,children:void 0});return i[c]=h,o.children&&(h.children=fa(o.children,e,l,i)),h}})}function mr(t,e,n){return n===void 0&&(n="/"),Gl(t,e,n,!1)}function Gl(t,e,n,i){let o=typeof e=="string"?hi(e):e,a=ba(o.pathname||"/",n);if(a==null)return null;let l=Aw(t);Xx(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let f=uT(a);c=aT(l[h],f,i)}return c}function Qx(t,e){let{route:n,pathname:i,params:o}=t;return{id:n.id,pathname:i,params:o,data:e[n.id],handle:n.handle}}function Aw(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let o=(a,l,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(fe(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(i.length));let f=Bi([i,h.relativePath]),g=n.concat(h);a.children&&a.children.length>0&&(fe(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),Aw(a.children,e,g,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:oT(f,a.index),routesMeta:g})};return t.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))o(a,l);else for(let h of Ow(a.path))o(a,l,h)}),e}function Ow(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let l=Ow(i.join("/")),c=[];return c.push(...l.map(h=>h===""?a:[a,h].join("/"))),o&&c.push(...l),c.map(h=>t.startsWith("/")&&h===""?"/":h)}function Xx(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sT(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const Jx=/^:[\w-]+$/,eT=3,tT=2,nT=1,iT=10,rT=-2,q_=t=>t==="*";function oT(t,e){let n=t.split("/"),i=n.length;return n.some(q_)&&(i+=rT),e&&(i+=tT),n.filter(o=>!q_(o)).reduce((o,a)=>o+(Jx.test(a)?eT:a===""?nT:iT),i)}function sT(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function aT(t,e,n){n===void 0&&(n=!1);let{routesMeta:i}=t,o={},a="/",l=[];for(let c=0;c<i.length;++c){let h=i[c],f=c===i.length-1,g=a==="/"?e:e.slice(a.length)||"/",m=Hd({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},g),_=h.route;if(!m&&f&&n&&!i[i.length-1].route.index&&(m=Hd({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!m)return null;Object.assign(o,m.params),l.push({params:o,pathname:Bi([a,m.pathname]),pathnameBase:dT(Bi([a,m.pathnameBase])),route:_}),m.pathnameBase!=="/"&&(a=Bi([a,m.pathnameBase]))}return l}function Hd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=lT(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],l=a.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:i.reduce((f,g,m)=>{let{paramName:_,isOptional:E}=g;if(_==="*"){let P=c[m]||"";l=a.slice(0,a.length-P.length).replace(/(.)\/+$/,"$1")}const T=c[m];return E&&!T?f[_]=void 0:f[_]=(T||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:l,pattern:t}}function lT(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ao(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(i.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function uT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ao(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ba(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function cT(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?hi(t):t;return{pathname:n?n.startsWith("/")?n:hT(n,e):e,search:fT(i),hash:pT(o)}}function hT(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Nh(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Dw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zw(t,e){let n=Dw(t);return e?n.map((i,o)=>o===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function Fw(t,e,n,i){i===void 0&&(i=!1);let o;typeof t=="string"?o=hi(t):(o=Ke({},t),fe(!o.pathname||!o.pathname.includes("?"),Nh("?","pathname","search",o)),fe(!o.pathname||!o.pathname.includes("#"),Nh("#","pathname","hash",o)),fe(!o.search||!o.search.includes("#"),Nh("#","search","hash",o)));let a=t===""||o.pathname==="",l=a?"/":o.pathname,c;if(l==null)c=n;else{let m=e.length-1;if(!i&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),m-=1;o.pathname=_.join("/")}c=m>=0?e[m]:"/"}let h=cT(o,c),f=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||g)&&(h.pathname+="/"),h}const Bi=t=>t.join("/").replace(/\/\/+/g,"/"),dT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fT=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class ap{constructor(e,n,i,o){o===void 0&&(o=!1),this.status=e,this.statusText=n||"",this.internal=o,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}}function ac(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Bw=["post","put","patch","delete"],mT=new Set(Bw),_T=["get",...Bw],gT=new Set(_T),vT=new Set([301,302,303,307,308]),yT=new Set([307,308]),bh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},wT={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Es={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},lp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ET=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),jw="remix-router-transitions";function CT(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",i=!n;fe(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let o;if(t.mapRouteProperties)o=t.mapRouteProperties;else if(t.detectErrorBoundary){let x=t.detectErrorBoundary;o=k=>({hasErrorBoundary:x(k)})}else o=ET;let a={},l=fa(t.routes,o,void 0,a),c,h=t.basename||"/",f=t.unstable_dataStrategy||IT,g=t.unstable_patchRoutesOnMiss,m=Ke({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},t.future),_=null,E=new Set,T=null,P=null,z=null,C=t.hydrationData!=null,y=mr(l,t.history.location,h),S=null;if(y==null&&!g){let x=bt(404,{pathname:t.history.location.pathname}),{matches:k,route:b}=rg(l);y=k,S={[b.id]:x}}y&&g&&ns(y,l,t.history.location.pathname).active&&(y=null);let O;if(!y)O=!1,y=[];else if(y.some(x=>x.route.lazy))O=!1;else if(!y.some(x=>x.route.loader))O=!0;else if(m.v7_partialHydration){let x=t.hydrationData?t.hydrationData.loaderData:null,k=t.hydrationData?t.hydrationData.errors:null,b=R=>R.route.loader?typeof R.route.loader=="function"&&R.route.loader.hydrate===!0?!1:x&&x[R.route.id]!==void 0||k&&k[R.route.id]!==void 0:!0;if(k){let R=y.findIndex(q=>k[q.route.id]!==void 0);O=y.slice(0,R+1).every(b)}else O=y.every(b)}else O=t.hydrationData!=null;let j,I={historyAction:t.history.action,location:t.history.location,matches:y,initialized:O,navigation:bh,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||S,fetchers:new Map,blockers:new Map},B=rt.Pop,Z=!1,Y,te=!1,re=new Map,Se=null,ke=!1,be=!1,Mn=[],Je=[],Me=new Map,D=0,se=-1,H=new Map,ne=new Set,pe=new Map,He=new Map,ge=new Set,me=new Map,ae=new Map,Tt=new Map,rn=!1;function Ua(){if(_=t.history.listen(x=>{let{action:k,location:b,delta:R}=x;if(rn){rn=!1;return}Ao(ae.size===0||R!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let q=es({currentLocation:I.location,nextLocation:b,historyAction:k});if(q&&R!=null){rn=!0,t.history.go(R*-1),$r(q,{state:"blocked",location:b,proceed(){$r(q,{state:"proceeding",proceed:void 0,reset:void 0,location:b}),t.history.go(R)},reset(){let X=new Map(I.blockers);X.set(q,Es),nt({blockers:X})}});return}return On(k,b)}),n){jT(e,re);let x=()=>UT(e,re);e.addEventListener("pagehide",x),Se=()=>e.removeEventListener("pagehide",x)}return I.initialized||On(rt.Pop,I.location,{initialHydration:!0}),j}function qo(){_&&_(),Se&&Se(),E.clear(),Y&&Y.abort(),I.fetchers.forEach((x,k)=>tr(k)),I.blockers.forEach((x,k)=>Ka(k))}function Ko(x){return E.add(x),()=>E.delete(x)}function nt(x,k){k===void 0&&(k={}),I=Ke({},I,x);let b=[],R=[];m.v7_fetcherPersist&&I.fetchers.forEach((q,X)=>{q.state==="idle"&&(ge.has(X)?R.push(X):b.push(X))}),[...E].forEach(q=>q(I,{deletedFetchers:R,unstable_viewTransitionOpts:k.viewTransitionOpts,unstable_flushSync:k.flushSync===!0})),m.v7_fetcherPersist&&(b.forEach(q=>I.fetchers.delete(q)),R.forEach(q=>tr(q)))}function An(x,k,b){var R,q;let{flushSync:X}=b===void 0?{}:b,oe=I.actionData!=null&&I.navigation.formMethod!=null&&xn(I.navigation.formMethod)&&I.navigation.state==="loading"&&((R=x.state)==null?void 0:R._isRedirect)!==!0,V;k.actionData?Object.keys(k.actionData).length>0?V=k.actionData:V=null:oe?V=I.actionData:V=null;let ce=k.loaderData?ng(I.loaderData,k.loaderData,k.matches||[],k.errors):I.loaderData,ie=I.blockers;ie.size>0&&(ie=new Map(ie),ie.forEach((Te,Ae)=>ie.set(Ae,Es)));let J=Z===!0||I.navigation.formMethod!=null&&xn(I.navigation.formMethod)&&((q=x.state)==null?void 0:q._isRedirect)!==!0;c&&(l=c,c=void 0),ke||B===rt.Pop||(B===rt.Push?t.history.push(x,x.state):B===rt.Replace&&t.history.replace(x,x.state));let Ne;if(B===rt.Pop){let Te=re.get(I.location.pathname);Te&&Te.has(x.pathname)?Ne={currentLocation:I.location,nextLocation:x}:re.has(x.pathname)&&(Ne={currentLocation:x,nextLocation:I.location})}else if(te){let Te=re.get(I.location.pathname);Te?Te.add(x.pathname):(Te=new Set([x.pathname]),re.set(I.location.pathname,Te)),Ne={currentLocation:I.location,nextLocation:x}}nt(Ke({},k,{actionData:V,loaderData:ce,historyAction:B,location:x,initialized:!0,navigation:bh,revalidation:"idle",restoreScrollPosition:Qa(x,k.matches||I.matches),preventScrollReset:J,blockers:ie}),{viewTransitionOpts:Ne,flushSync:X===!0}),B=rt.Pop,Z=!1,te=!1,ke=!1,be=!1,Mn=[],Je=[]}async function Ha(x,k){if(typeof x=="number"){t.history.go(x);return}let b=Wd(I.location,I.matches,h,m.v7_prependBasename,x,m.v7_relativeSplatPath,k==null?void 0:k.fromRouteId,k==null?void 0:k.relative),{path:R,submission:q,error:X}=K_(m.v7_normalizeFormMethod,!1,b,k),oe=I.location,V=da(I.location,R,k&&k.state);V=Ke({},V,t.history.encodeLocation(V));let ce=k&&k.replace!=null?k.replace:void 0,ie=rt.Push;ce===!0?ie=rt.Replace:ce===!1||q!=null&&xn(q.formMethod)&&q.formAction===I.location.pathname+I.location.search&&(ie=rt.Replace);let J=k&&"preventScrollReset"in k?k.preventScrollReset===!0:void 0,Ne=(k&&k.unstable_flushSync)===!0,Te=es({currentLocation:oe,nextLocation:V,historyAction:ie});if(Te){$r(Te,{state:"blocked",location:V,proceed(){$r(Te,{state:"proceeding",proceed:void 0,reset:void 0,location:V}),Ha(x,k)},reset(){let Ae=new Map(I.blockers);Ae.set(Te,Es),nt({blockers:Ae})}});return}return await On(ie,V,{submission:q,pendingError:X,preventScrollReset:J,replace:k&&k.replace,enableViewTransition:k&&k.unstable_viewTransition,flushSync:Ne})}function Wa(){if(Vr(),nt({revalidation:"loading"}),I.navigation.state!=="submitting"){if(I.navigation.state==="idle"){On(I.historyAction,I.location,{startUninterruptedRevalidation:!0});return}On(B||I.historyAction,I.navigation.location,{overrideNavigation:I.navigation})}}async function On(x,k,b){Y&&Y.abort(),Y=null,B=x,ke=(b&&b.startUninterruptedRevalidation)===!0,bc(I.location,I.matches),Z=(b&&b.preventScrollReset)===!0,te=(b&&b.enableViewTransition)===!0;let R=c||l,q=b&&b.overrideNavigation,X=mr(R,k,h),oe=(b&&b.flushSync)===!0,V=ns(X,R,k.pathname);if(V.active&&V.matches&&(X=V.matches),!X){let{error:Le,notFoundMatches:ut,route:qe}=Gr(k.pathname);An(k,{matches:ut,loaderData:{},errors:{[qe.id]:Le}},{flushSync:oe});return}if(I.initialized&&!be&&MT(I.location,k)&&!(b&&b.submission&&xn(b.submission.formMethod))){An(k,{matches:X},{flushSync:oe});return}Y=new AbortController;let ce=io(t.history,k,Y.signal,b&&b.submission),ie;if(b&&b.pendingError)ie=[Hs(X).route.id,{type:Be.error,error:b.pendingError}];else if(b&&b.submission&&xn(b.submission.formMethod)){let Le=await Yo(ce,k,b.submission,X,V.active,{replace:b.replace,flushSync:oe});if(Le.shortCircuited)return;if(Le.pendingActionResult){let[ut,qe]=Le.pendingActionResult;if(Yt(qe)&&ac(qe.error)&&qe.error.status===404){Y=null,An(k,{matches:Le.matches,loaderData:{},errors:{[ut]:qe.error}});return}}X=Le.matches||X,ie=Le.pendingActionResult,q=Mh(k,b.submission),oe=!1,V.active=!1,ce=io(t.history,ce.url,ce.signal)}let{shortCircuited:J,matches:Ne,loaderData:Te,errors:Ae}=await Hr(ce,k,X,V.active,q,b&&b.submission,b&&b.fetcherSubmission,b&&b.replace,b&&b.initialHydration===!0,oe,ie);J||(Y=null,An(k,Ke({matches:Ne||X},ig(ie),{loaderData:Te,errors:Ae})))}async function Yo(x,k,b,R,q,X){X===void 0&&(X={}),Vr();let oe=FT(k,b);if(nt({navigation:oe},{flushSync:X.flushSync===!0}),q){let ie=await mi(R,k.pathname,x.signal);if(ie.type==="aborted")return{shortCircuited:!0};if(ie.type==="error"){let{error:J,notFoundMatches:Ne,route:Te}=ir(k.pathname,ie);return{matches:Ne,pendingActionResult:[Te.id,{type:Be.error,error:J}]}}else if(ie.matches)R=ie.matches;else{let{notFoundMatches:J,error:Ne,route:Te}=Gr(k.pathname);return{matches:J,pendingActionResult:[Te.id,{type:Be.error,error:Ne}]}}}let V,ce=bs(R,k);if(!ce.route.action&&!ce.route.lazy)V={type:Be.error,error:bt(405,{method:x.method,pathname:k.pathname,routeId:ce.route.id})};else if(V=(await er("action",x,[ce],R))[0],x.signal.aborted)return{shortCircuited:!0};if(wr(V)){let ie;return X&&X.replace!=null?ie=X.replace:ie=J_(V.response.headers.get("Location"),new URL(x.url),h)===I.location.pathname+I.location.search,await Ji(x,V,{submission:b,replace:ie}),{shortCircuited:!0}}if(yr(V))throw bt(400,{type:"defer-action"});if(Yt(V)){let ie=Hs(R,ce.route.id);return(X&&X.replace)!==!0&&(B=rt.Push),{matches:R,pendingActionResult:[ie.route.id,V]}}return{matches:R,pendingActionResult:[ce.route.id,V]}}async function Hr(x,k,b,R,q,X,oe,V,ce,ie,J){let Ne=q||Mh(k,X),Te=X||oe||ag(Ne),Ae=!ke&&(!m.v7_partialHydration||!ce);if(R){if(Ae){let We=Va(J);nt(Ke({navigation:Ne},We!==void 0?{actionData:We}:{}),{flushSync:ie})}let he=await mi(b,k.pathname,x.signal);if(he.type==="aborted")return{shortCircuited:!0};if(he.type==="error"){let{error:We,notFoundMatches:ct,route:ee}=ir(k.pathname,he);return{matches:ct,loaderData:{},errors:{[ee.id]:We}}}else if(he.matches)b=he.matches;else{let{error:We,notFoundMatches:ct,route:ee}=Gr(k.pathname);return{matches:ct,loaderData:{},errors:{[ee.id]:We}}}}let Le=c||l,[ut,qe]=Y_(t.history,I,b,Te,k,m.v7_partialHydration&&ce===!0,m.unstable_skipActionErrorRevalidation,be,Mn,Je,ge,pe,ne,Le,h,J);if(ts(he=>!(b&&b.some(We=>We.route.id===he))||ut&&ut.some(We=>We.route.id===he)),se=++D,ut.length===0&&qe.length===0){let he=Jo();return An(k,Ke({matches:b,loaderData:{},errors:J&&Yt(J[1])?{[J[0]]:J[1].error}:null},ig(J),he?{fetchers:new Map(I.fetchers)}:{}),{flushSync:ie}),{shortCircuited:!0}}if(Ae){let he={};if(!R){he.navigation=Ne;let We=Va(J);We!==void 0&&(he.actionData=We)}qe.length>0&&(he.fetchers=Za(qe)),nt(he,{flushSync:ie})}qe.forEach(he=>{Me.has(he.key)&&vn(he.key),he.controller&&Me.set(he.key,he.controller)});let rr=()=>qe.forEach(he=>vn(he.key));Y&&Y.signal.addEventListener("abort",rr);let{loaderResults:qt,fetcherResults:_i}=await Wr(I.matches,b,ut,qe,x);if(x.signal.aborted)return{shortCircuited:!0};Y&&Y.signal.removeEventListener("abort",rr),qe.forEach(he=>Me.delete(he.key));let gi=og([...qt,..._i]);if(gi){if(gi.idx>=ut.length){let he=qe[gi.idx-ut.length].key;ne.add(he)}return await Ji(x,gi.result,{replace:V}),{shortCircuited:!0}}let{loaderData:vi,errors:on}=tg(I,b,ut,qt,J,qe,_i,me);me.forEach((he,We)=>{he.subscribe(ct=>{(ct||he.done)&&me.delete(We)})}),m.v7_partialHydration&&ce&&I.errors&&Object.entries(I.errors).filter(he=>{let[We]=he;return!ut.some(ct=>ct.route.id===We)}).forEach(he=>{let[We,ct]=he;on=Object.assign(on||{},{[We]:ct})});let qr=Jo(),yi=qa(se),Dn=qr||yi||qe.length>0;return Ke({matches:b,loaderData:vi,errors:on},Dn?{fetchers:new Map(I.fetchers)}:{})}function Va(x){if(x&&!Yt(x[1]))return{[x[0]]:x[1].data};if(I.actionData)return Object.keys(I.actionData).length===0?null:I.actionData}function Za(x){return x.forEach(k=>{let b=I.fetchers.get(k.key),R=Cs(void 0,b?b.data:void 0);I.fetchers.set(k.key,R)}),new Map(I.fetchers)}function Qo(x,k,b,R){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Me.has(x)&&vn(x);let q=(R&&R.unstable_flushSync)===!0,X=c||l,oe=Wd(I.location,I.matches,h,m.v7_prependBasename,b,m.v7_relativeSplatPath,k,R==null?void 0:R.relative),V=mr(X,oe,h),ce=ns(V,X,oe);if(ce.active&&ce.matches&&(V=ce.matches),!V){gn(x,k,bt(404,{pathname:oe}),{flushSync:q});return}let{path:ie,submission:J,error:Ne}=K_(m.v7_normalizeFormMethod,!0,oe,R);if(Ne){gn(x,k,Ne,{flushSync:q});return}let Te=bs(V,ie);if(Z=(R&&R.preventScrollReset)===!0,J&&xn(J.formMethod)){$a(x,k,ie,Te,V,ce.active,q,J);return}pe.set(x,{routeId:k,path:ie}),Ga(x,k,ie,Te,V,ce.active,q,J)}async function $a(x,k,b,R,q,X,oe,V){Vr(),pe.delete(x);function ce(ee){if(!ee.route.action&&!ee.route.lazy){let Pe=bt(405,{method:V.formMethod,pathname:b,routeId:k});return gn(x,k,Pe,{flushSync:oe}),!0}return!1}if(!X&&ce(R))return;let ie=I.fetchers.get(x);_n(x,BT(V,ie),{flushSync:oe});let J=new AbortController,Ne=io(t.history,b,J.signal,V);if(X){let ee=await mi(q,b,Ne.signal);if(ee.type==="aborted")return;if(ee.type==="error"){let{error:Pe}=ir(b,ee);gn(x,k,Pe,{flushSync:oe});return}else if(ee.matches){if(q=ee.matches,R=bs(q,b),ce(R))return}else{gn(x,k,bt(404,{pathname:b}),{flushSync:oe});return}}Me.set(x,J);let Te=D,Le=(await er("action",Ne,[R],q))[0];if(Ne.signal.aborted){Me.get(x)===J&&Me.delete(x);return}if(m.v7_fetcherPersist&&ge.has(x)){if(wr(Le)||Yt(Le)){_n(x,xi(void 0));return}}else{if(wr(Le))if(Me.delete(x),se>Te){_n(x,xi(void 0));return}else return ne.add(x),_n(x,Cs(V)),Ji(Ne,Le,{fetcherSubmission:V});if(Yt(Le)){gn(x,k,Le.error);return}}if(yr(Le))throw bt(400,{type:"defer-action"});let ut=I.navigation.location||I.location,qe=io(t.history,ut,J.signal),rr=c||l,qt=I.navigation.state!=="idle"?mr(rr,I.navigation.location,h):I.matches;fe(qt,"Didn't find any matches after fetcher action");let _i=++D;H.set(x,_i);let gi=Cs(V,Le.data);I.fetchers.set(x,gi);let[vi,on]=Y_(t.history,I,qt,V,ut,!1,m.unstable_skipActionErrorRevalidation,be,Mn,Je,ge,pe,ne,rr,h,[R.route.id,Le]);on.filter(ee=>ee.key!==x).forEach(ee=>{let Pe=ee.key,or=I.fetchers.get(Pe),wi=Cs(void 0,or?or.data:void 0);I.fetchers.set(Pe,wi),Me.has(Pe)&&vn(Pe),ee.controller&&Me.set(Pe,ee.controller)}),nt({fetchers:new Map(I.fetchers)});let qr=()=>on.forEach(ee=>vn(ee.key));J.signal.addEventListener("abort",qr);let{loaderResults:yi,fetcherResults:Dn}=await Wr(I.matches,qt,vi,on,qe);if(J.signal.aborted)return;J.signal.removeEventListener("abort",qr),H.delete(x),Me.delete(x),on.forEach(ee=>Me.delete(ee.key));let he=og([...yi,...Dn]);if(he){if(he.idx>=vi.length){let ee=on[he.idx-vi.length].key;ne.add(ee)}return Ji(qe,he.result)}let{loaderData:We,errors:ct}=tg(I,I.matches,vi,yi,void 0,on,Dn,me);if(I.fetchers.has(x)){let ee=xi(Le.data);I.fetchers.set(x,ee)}qa(_i),I.navigation.state==="loading"&&_i>se?(fe(B,"Expected pending action"),Y&&Y.abort(),An(I.navigation.location,{matches:qt,loaderData:We,errors:ct,fetchers:new Map(I.fetchers)})):(nt({errors:ct,loaderData:ng(I.loaderData,We,qt,ct),fetchers:new Map(I.fetchers)}),be=!1)}async function Ga(x,k,b,R,q,X,oe,V){let ce=I.fetchers.get(x);_n(x,Cs(V,ce?ce.data:void 0),{flushSync:oe});let ie=new AbortController,J=io(t.history,b,ie.signal);if(X){let Le=await mi(q,b,J.signal);if(Le.type==="aborted")return;if(Le.type==="error"){let{error:ut}=ir(b,Le);gn(x,k,ut,{flushSync:oe});return}else if(Le.matches)q=Le.matches,R=bs(q,b);else{gn(x,k,bt(404,{pathname:b}),{flushSync:oe});return}}Me.set(x,ie);let Ne=D,Ae=(await er("loader",J,[R],q))[0];if(yr(Ae)&&(Ae=await Zw(Ae,J.signal,!0)||Ae),Me.get(x)===ie&&Me.delete(x),!J.signal.aborted){if(ge.has(x)){_n(x,xi(void 0));return}if(wr(Ae))if(se>Ne){_n(x,xi(void 0));return}else{ne.add(x),await Ji(J,Ae);return}if(Yt(Ae)){gn(x,k,Ae.error);return}fe(!yr(Ae),"Unhandled fetcher deferred data"),_n(x,xi(Ae.data))}}async function Ji(x,k,b){let{submission:R,fetcherSubmission:q,replace:X}=b===void 0?{}:b;k.response.headers.has("X-Remix-Revalidate")&&(be=!0);let oe=k.response.headers.get("Location");fe(oe,"Expected a Location header on the redirect Response"),oe=J_(oe,new URL(x.url),h);let V=da(I.location,oe,{_isRedirect:!0});if(n){let Ae=!1;if(k.response.headers.has("X-Remix-Reload-Document"))Ae=!0;else if(lp.test(oe)){const Le=t.history.createURL(oe);Ae=Le.origin!==e.location.origin||ba(Le.pathname,h)==null}if(Ae){X?e.location.replace(oe):e.location.assign(oe);return}}Y=null;let ce=X===!0?rt.Replace:rt.Push,{formMethod:ie,formAction:J,formEncType:Ne}=I.navigation;!R&&!q&&ie&&J&&Ne&&(R=ag(I.navigation));let Te=R||q;if(yT.has(k.response.status)&&Te&&xn(Te.formMethod))await On(ce,V,{submission:Ke({},Te,{formAction:oe}),preventScrollReset:Z});else{let Ae=Mh(V,R);await On(ce,V,{overrideNavigation:Ae,fetcherSubmission:q,preventScrollReset:Z})}}async function er(x,k,b,R){try{let q=await kT(f,x,k,b,R,a,o);return await Promise.all(q.map((X,oe)=>{if(OT(X)){let V=X.result;return{type:Be.redirect,response:NT(V,k,b[oe].route.id,R,h,m.v7_relativeSplatPath)}}return RT(X)}))}catch(q){return b.map(()=>({type:Be.error,error:q}))}}async function Wr(x,k,b,R,q){let[X,...oe]=await Promise.all([b.length?er("loader",q,b,k):[],...R.map(V=>{if(V.matches&&V.match&&V.controller){let ce=io(t.history,V.path,V.controller.signal);return er("loader",ce,[V.match],V.matches).then(ie=>ie[0])}else return Promise.resolve({type:Be.error,error:bt(404,{pathname:V.path})})})]);return await Promise.all([sg(x,b,X,X.map(()=>q.signal),!1,I.loaderData),sg(x,R.map(V=>V.match),oe,R.map(V=>V.controller?V.controller.signal:null),!0)]),{loaderResults:X,fetcherResults:oe}}function Vr(){be=!0,Mn.push(...ts()),pe.forEach((x,k)=>{Me.has(k)&&(Je.push(k),vn(k))})}function _n(x,k,b){b===void 0&&(b={}),I.fetchers.set(x,k),nt({fetchers:new Map(I.fetchers)},{flushSync:(b&&b.flushSync)===!0})}function gn(x,k,b,R){R===void 0&&(R={});let q=Hs(I.matches,k);tr(x),nt({errors:{[q.route.id]:b},fetchers:new Map(I.fetchers)},{flushSync:(R&&R.flushSync)===!0})}function Xo(x){return m.v7_fetcherPersist&&(He.set(x,(He.get(x)||0)+1),ge.has(x)&&ge.delete(x)),I.fetchers.get(x)||wT}function tr(x){let k=I.fetchers.get(x);Me.has(x)&&!(k&&k.state==="loading"&&H.has(x))&&vn(x),pe.delete(x),H.delete(x),ne.delete(x),ge.delete(x),I.fetchers.delete(x)}function Rc(x){if(m.v7_fetcherPersist){let k=(He.get(x)||0)-1;k<=0?(He.delete(x),ge.add(x)):He.set(x,k)}else tr(x);nt({fetchers:new Map(I.fetchers)})}function vn(x){let k=Me.get(x);fe(k,"Expected fetch controller: "+x),k.abort(),Me.delete(x)}function Zr(x){for(let k of x){let b=Xo(k),R=xi(b.data);I.fetchers.set(k,R)}}function Jo(){let x=[],k=!1;for(let b of ne){let R=I.fetchers.get(b);fe(R,"Expected fetcher: "+b),R.state==="loading"&&(ne.delete(b),x.push(b),k=!0)}return Zr(x),k}function qa(x){let k=[];for(let[b,R]of H)if(R<x){let q=I.fetchers.get(b);fe(q,"Expected fetcher: "+b),q.state==="loading"&&(vn(b),H.delete(b),k.push(b))}return Zr(k),k.length>0}function nr(x,k){let b=I.blockers.get(x)||Es;return ae.get(x)!==k&&ae.set(x,k),b}function Ka(x){I.blockers.delete(x),ae.delete(x)}function $r(x,k){let b=I.blockers.get(x)||Es;fe(b.state==="unblocked"&&k.state==="blocked"||b.state==="blocked"&&k.state==="blocked"||b.state==="blocked"&&k.state==="proceeding"||b.state==="blocked"&&k.state==="unblocked"||b.state==="proceeding"&&k.state==="unblocked","Invalid blocker state transition: "+b.state+" -> "+k.state);let R=new Map(I.blockers);R.set(x,k),nt({blockers:R})}function es(x){let{currentLocation:k,nextLocation:b,historyAction:R}=x;if(ae.size===0)return;ae.size>1&&Ao(!1,"A router only supports one blocker at a time");let q=Array.from(ae.entries()),[X,oe]=q[q.length-1],V=I.blockers.get(X);if(!(V&&V.state==="proceeding")&&oe({currentLocation:k,nextLocation:b,historyAction:R}))return X}function Gr(x){let k=bt(404,{pathname:x}),b=c||l,{matches:R,route:q}=rg(b);return ts(),{notFoundMatches:R,route:q,error:k}}function ir(x,k){let b=k.partialMatches,R=b[b.length-1].route,q=bt(400,{type:"route-discovery",routeId:R.id,pathname:x,message:k.error!=null&&"message"in k.error?k.error:String(k.error)});return{notFoundMatches:b,route:R,error:q}}function ts(x){let k=[];return me.forEach((b,R)=>{(!x||x(R))&&(b.cancel(),k.push(R),me.delete(R))}),k}function Nc(x,k,b){if(T=x,z=k,P=b||null,!C&&I.navigation===bh){C=!0;let R=Qa(I.location,I.matches);R!=null&&nt({restoreScrollPosition:R})}return()=>{T=null,z=null,P=null}}function Ya(x,k){return P&&P(x,k.map(R=>Qx(R,I.loaderData)))||x.key}function bc(x,k){if(T&&z){let b=Ya(x,k);T[b]=z()}}function Qa(x,k){if(T){let b=Ya(x,k),R=T[b];if(typeof R=="number")return R}return null}function ns(x,k,b){if(g)if(x){let R=x[x.length-1].route;if(R.path&&(R.path==="*"||R.path.endsWith("/*")))return{active:!0,matches:Gl(k,b,h,!0)}}else return{active:!0,matches:Gl(k,b,h,!0)||[]};return{active:!1,matches:null}}async function mi(x,k,b){let R=x,q=R.length>0?R[R.length-1].route:null;for(;;){let X=c==null,oe=c||l;try{await PT(g,k,R,oe,a,o,Tt,b)}catch(J){return{type:"error",error:J,partialMatches:R}}finally{X&&(l=[...l])}if(b.aborted)return{type:"aborted"};let V=mr(oe,k,h),ce=!1;if(V){let J=V[V.length-1].route;if(J.index)return{type:"success",matches:V};if(J.path&&J.path.length>0)if(J.path==="*")ce=!0;else return{type:"success",matches:V}}let ie=Gl(oe,k,h,!0);if(!ie||R.map(J=>J.route.id).join("-")===ie.map(J=>J.route.id).join("-"))return{type:"success",matches:ce?V:null};if(R=ie,q=R[R.length-1].route,q.path==="*")return{type:"success",matches:R}}}function Mc(x){a={},c=fa(x,o,void 0,a)}function Ac(x,k){let b=c==null;Hw(x,k,c||l,a,o),b&&(l=[...l],nt({}))}return j={get basename(){return h},get future(){return m},get state(){return I},get routes(){return l},get window(){return e},initialize:Ua,subscribe:Ko,enableScrollRestoration:Nc,navigate:Ha,fetch:Qo,revalidate:Wa,createHref:x=>t.history.createHref(x),encodeLocation:x=>t.history.encodeLocation(x),getFetcher:Xo,deleteFetcher:Rc,dispose:qo,getBlocker:nr,deleteBlocker:Ka,patchRoutes:Ac,_internalFetchControllers:Me,_internalActiveDeferreds:me,_internalSetRoutes:Mc},j}function ST(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Wd(t,e,n,i,o,a,l,c){let h,f;if(l){h=[];for(let m of e)if(h.push(m),m.route.id===l){f=m;break}}else h=e,f=e[e.length-1];let g=Fw(o||".",zw(h,a),ba(t.pathname,n)||t.pathname,c==="path");return o==null&&(g.search=t.search,g.hash=t.hash),(o==null||o===""||o===".")&&f&&f.route.index&&!up(g.search)&&(g.search=g.search?g.search.replace(/^\?/,"?index&"):"?index"),i&&n!=="/"&&(g.pathname=g.pathname==="/"?n:Bi([n,g.pathname])),Na(g)}function K_(t,e,n,i){if(!i||!ST(i))return{path:n};if(i.formMethod&&!zT(i.formMethod))return{path:n,error:bt(405,{method:i.formMethod})};let o=()=>({path:n,error:bt(400,{type:"invalid-body"})}),a=i.formMethod||"get",l=t?a.toUpperCase():a.toLowerCase(),c=Ww(n);if(i.body!==void 0){if(i.formEncType==="text/plain"){if(!xn(l))return o();let _=typeof i.body=="string"?i.body:i.body instanceof FormData||i.body instanceof URLSearchParams?Array.from(i.body.entries()).reduce((E,T)=>{let[P,z]=T;return""+E+P+"="+z+`
`},""):String(i.body);return{path:n,submission:{formMethod:l,formAction:c,formEncType:i.formEncType,formData:void 0,json:void 0,text:_}}}else if(i.formEncType==="application/json"){if(!xn(l))return o();try{let _=typeof i.body=="string"?JSON.parse(i.body):i.body;return{path:n,submission:{formMethod:l,formAction:c,formEncType:i.formEncType,formData:void 0,json:_,text:void 0}}}catch{return o()}}}fe(typeof FormData=="function","FormData is not available in this environment");let h,f;if(i.formData)h=Vd(i.formData),f=i.formData;else if(i.body instanceof FormData)h=Vd(i.body),f=i.body;else if(i.body instanceof URLSearchParams)h=i.body,f=eg(h);else if(i.body==null)h=new URLSearchParams,f=new FormData;else try{h=new URLSearchParams(i.body),f=eg(h)}catch{return o()}let g={formMethod:l,formAction:c,formEncType:i&&i.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(xn(g.formMethod))return{path:n,submission:g};let m=hi(n);return e&&m.search&&up(m.search)&&h.append("index",""),m.search="?"+h,{path:Na(m),submission:g}}function xT(t,e){let n=t;if(e){let i=t.findIndex(o=>o.route.id===e);i>=0&&(n=t.slice(0,i))}return n}function Y_(t,e,n,i,o,a,l,c,h,f,g,m,_,E,T,P){let z=P?Yt(P[1])?P[1].error:P[1].data:void 0,C=t.createURL(e.location),y=t.createURL(o),S=P&&Yt(P[1])?P[0]:void 0,O=S?xT(n,S):n,j=P?P[1].statusCode:void 0,I=l&&j&&j>=400,B=O.filter((Y,te)=>{let{route:re}=Y;if(re.lazy)return!0;if(re.loader==null)return!1;if(a)return typeof re.loader!="function"||re.loader.hydrate?!0:e.loaderData[re.id]===void 0&&(!e.errors||e.errors[re.id]===void 0);if(TT(e.loaderData,e.matches[te],Y)||h.some(be=>be===Y.route.id))return!0;let Se=e.matches[te],ke=Y;return Q_(Y,Ke({currentUrl:C,currentParams:Se.params,nextUrl:y,nextParams:ke.params},i,{actionResult:z,unstable_actionStatus:j,defaultShouldRevalidate:I?!1:c||C.pathname+C.search===y.pathname+y.search||C.search!==y.search||Uw(Se,ke)}))}),Z=[];return m.forEach((Y,te)=>{if(a||!n.some(Mn=>Mn.route.id===Y.routeId)||g.has(te))return;let re=mr(E,Y.path,T);if(!re){Z.push({key:te,routeId:Y.routeId,path:Y.path,matches:null,match:null,controller:null});return}let Se=e.fetchers.get(te),ke=bs(re,Y.path),be=!1;_.has(te)?be=!1:f.includes(te)?be=!0:Se&&Se.state!=="idle"&&Se.data===void 0?be=c:be=Q_(ke,Ke({currentUrl:C,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},i,{actionResult:z,unstable_actionStatus:j,defaultShouldRevalidate:I?!1:c})),be&&Z.push({key:te,routeId:Y.routeId,path:Y.path,matches:re,match:ke,controller:new AbortController})}),[B,Z]}function TT(t,e,n){let i=!e||n.route.id!==e.route.id,o=t[n.route.id]===void 0;return i||o}function Uw(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Q_(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function PT(t,e,n,i,o,a,l,c){let h=[e,...n.map(f=>f.route.id)].join("-");try{let f=l.get(h);f||(f=t({path:e,matches:n,patch:(g,m)=>{c.aborted||Hw(g,m,i,o,a)}}),l.set(h,f)),f&&AT(f)&&await f}finally{l.delete(h)}}function Hw(t,e,n,i,o){if(t){var a;let l=i[t];fe(l,"No route found to patch children into: routeId = "+t);let c=fa(e,o,[t,"patch",String(((a=l.children)==null?void 0:a.length)||"0")],i);l.children?l.children.push(...c):l.children=c}else{let l=fa(e,o,["patch",String(n.length||"0")],i);n.push(...l)}}async function X_(t,e,n){if(!t.lazy)return;let i=await t.lazy();if(!t.lazy)return;let o=n[t.id];fe(o,"No route found in manifest");let a={};for(let l in i){let h=o[l]!==void 0&&l!=="hasErrorBoundary";Ao(!h,'Route "'+o.id+'" has a static property "'+l+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+l+'" will be ignored.')),!h&&!Kx.has(l)&&(a[l]=i[l])}Object.assign(o,a),Object.assign(o,Ke({},e(o),{lazy:void 0}))}function IT(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function kT(t,e,n,i,o,a,l,c){let h=i.reduce((m,_)=>m.add(_.route.id),new Set),f=new Set,g=await t({matches:o.map(m=>{let _=h.has(m.route.id);return Ke({},m,{shouldLoad:_,resolve:T=>(f.add(m.route.id),_?LT(e,n,m,a,l,T,c):Promise.resolve({type:Be.data,result:void 0}))})}),request:n,params:o[0].params,context:c});return o.forEach(m=>fe(f.has(m.route.id),'`match.resolve()` was not called for route id "'+m.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),g.filter((m,_)=>h.has(o[_].route.id))}async function LT(t,e,n,i,o,a,l){let c,h,f=g=>{let m,_=new Promise((P,z)=>m=z);h=()=>m(),e.signal.addEventListener("abort",h);let E=P=>typeof g!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):g({request:e,params:n.params,context:l},...P!==void 0?[P]:[]),T;return a?T=a(P=>E(P)):T=(async()=>{try{return{type:"data",result:await E()}}catch(P){return{type:"error",result:P}}})(),Promise.race([T,_])};try{let g=n.route[t];if(n.route.lazy)if(g){let m,[_]=await Promise.all([f(g).catch(E=>{m=E}),X_(n.route,o,i)]);if(m!==void 0)throw m;c=_}else if(await X_(n.route,o,i),g=n.route[t],g)c=await f(g);else if(t==="action"){let m=new URL(e.url),_=m.pathname+m.search;throw bt(405,{method:e.method,pathname:_,routeId:n.route.id})}else return{type:Be.data,result:void 0};else if(g)c=await f(g);else{let m=new URL(e.url),_=m.pathname+m.search;throw bt(404,{pathname:_})}fe(c.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(g){return{type:Be.error,result:g}}finally{h&&e.signal.removeEventListener("abort",h)}return c}async function RT(t){let{result:e,type:n,status:i}=t;if(Vw(e)){let l;try{let c=e.headers.get("Content-Type");c&&/\bapplication\/json\b/.test(c)?e.body==null?l=null:l=await e.json():l=await e.text()}catch(c){return{type:Be.error,error:c}}return n===Be.error?{type:Be.error,error:new ap(e.status,e.statusText,l),statusCode:e.status,headers:e.headers}:{type:Be.data,data:l,statusCode:e.status,headers:e.headers}}if(n===Be.error)return{type:Be.error,error:e,statusCode:ac(e)?e.status:i};if(DT(e)){var o,a;return{type:Be.deferred,deferredData:e,statusCode:(o=e.init)==null?void 0:o.status,headers:((a=e.init)==null?void 0:a.headers)&&new Headers(e.init.headers)}}return{type:Be.data,data:e,statusCode:i}}function NT(t,e,n,i,o,a){let l=t.headers.get("Location");if(fe(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!lp.test(l)){let c=i.slice(0,i.findIndex(h=>h.route.id===n)+1);l=Wd(new URL(e.url),c,o,!0,l,a),t.headers.set("Location",l)}return t}function J_(t,e,n){if(lp.test(t)){let i=t,o=i.startsWith("//")?new URL(e.protocol+i):new URL(i),a=ba(o.pathname,n)!=null;if(o.origin===e.origin&&a)return o.pathname+o.search+o.hash}return t}function io(t,e,n,i){let o=t.createURL(Ww(e)).toString(),a={signal:n};if(i&&xn(i.formMethod)){let{formMethod:l,formEncType:c}=i;a.method=l.toUpperCase(),c==="application/json"?(a.headers=new Headers({"Content-Type":c}),a.body=JSON.stringify(i.json)):c==="text/plain"?a.body=i.text:c==="application/x-www-form-urlencoded"&&i.formData?a.body=Vd(i.formData):a.body=i.formData}return new Request(o,a)}function Vd(t){let e=new URLSearchParams;for(let[n,i]of t.entries())e.append(n,typeof i=="string"?i:i.name);return e}function eg(t){let e=new FormData;for(let[n,i]of t.entries())e.append(n,i);return e}function bT(t,e,n,i,o,a){let l={},c=null,h,f=!1,g={},m=i&&Yt(i[1])?i[1].error:void 0;return n.forEach((_,E)=>{let T=e[E].route.id;if(fe(!wr(_),"Cannot handle redirect results in processLoaderData"),Yt(_)){let P=_.error;m!==void 0&&(P=m,m=void 0),c=c||{};{let z=Hs(t,T);c[z.route.id]==null&&(c[z.route.id]=P)}l[T]=void 0,f||(f=!0,h=ac(_.error)?_.error.status:500),_.headers&&(g[T]=_.headers)}else yr(_)?(o.set(T,_.deferredData),l[T]=_.deferredData.data,_.statusCode!=null&&_.statusCode!==200&&!f&&(h=_.statusCode),_.headers&&(g[T]=_.headers)):(l[T]=_.data,_.statusCode&&_.statusCode!==200&&!f&&(h=_.statusCode),_.headers&&(g[T]=_.headers))}),m!==void 0&&i&&(c={[i[0]]:m},l[i[0]]=void 0),{loaderData:l,errors:c,statusCode:h||200,loaderHeaders:g}}function tg(t,e,n,i,o,a,l,c){let{loaderData:h,errors:f}=bT(e,n,i,o,c);for(let g=0;g<a.length;g++){let{key:m,match:_,controller:E}=a[g];fe(l!==void 0&&l[g]!==void 0,"Did not find corresponding fetcher result");let T=l[g];if(!(E&&E.signal.aborted))if(Yt(T)){let P=Hs(t.matches,_==null?void 0:_.route.id);f&&f[P.route.id]||(f=Ke({},f,{[P.route.id]:T.error})),t.fetchers.delete(m)}else if(wr(T))fe(!1,"Unhandled fetcher revalidation redirect");else if(yr(T))fe(!1,"Unhandled fetcher deferred data");else{let P=xi(T.data);t.fetchers.set(m,P)}}return{loaderData:h,errors:f}}function ng(t,e,n,i){let o=Ke({},e);for(let a of n){let l=a.route.id;if(e.hasOwnProperty(l)?e[l]!==void 0&&(o[l]=e[l]):t[l]!==void 0&&a.route.loader&&(o[l]=t[l]),i&&i.hasOwnProperty(l))break}return o}function ig(t){return t?Yt(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Hs(t,e){return(e?t.slice(0,t.findIndex(i=>i.route.id===e)+1):[...t]).reverse().find(i=>i.route.hasErrorBoundary===!0)||t[0]}function rg(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function bt(t,e){let{pathname:n,routeId:i,method:o,type:a,message:l}=e===void 0?{}:e,c="Unknown Server Error",h="Unknown @remix-run/router error";return t===400?(c="Bad Request",a==="route-discovery"?h='Unable to match URL "'+n+'" - the `children()` function for '+("route `"+i+"` threw the following error:\n"+l):o&&n&&i?h="You made a "+o+' request to "'+n+'" but '+('did not provide a `loader` for route "'+i+'", ')+"so there is no way to handle the request.":a==="defer-action"?h="defer() is not supported in actions":a==="invalid-body"&&(h="Unable to encode submission body")):t===403?(c="Forbidden",h='Route "'+i+'" does not match URL "'+n+'"'):t===404?(c="Not Found",h='No route matches URL "'+n+'"'):t===405&&(c="Method Not Allowed",o&&n&&i?h="You made a "+o.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+i+'", ')+"so there is no way to handle the request.":o&&(h='Invalid request method "'+o.toUpperCase()+'"')),new ap(t||500,c,new Error(h),!0)}function og(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(wr(n))return{result:n,idx:e}}}function Ww(t){let e=typeof t=="string"?hi(t):t;return Na(Ke({},e,{hash:""}))}function MT(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function AT(t){return typeof t=="object"&&t!=null&&"then"in t}function OT(t){return Vw(t.result)&&vT.has(t.result.status)}function yr(t){return t.type===Be.deferred}function Yt(t){return t.type===Be.error}function wr(t){return(t&&t.type)===Be.redirect}function DT(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function Vw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function zT(t){return gT.has(t.toLowerCase())}function xn(t){return mT.has(t.toLowerCase())}async function sg(t,e,n,i,o,a){for(let l=0;l<n.length;l++){let c=n[l],h=e[l];if(!h)continue;let f=t.find(m=>m.route.id===h.route.id),g=f!=null&&!Uw(f,h)&&(a&&a[h.route.id])!==void 0;if(yr(c)&&(o||g)){let m=i[l];fe(m,"Expected an AbortSignal for revalidating fetcher deferred result"),await Zw(c,m,o).then(_=>{_&&(n[l]=_||n[l])})}}}async function Zw(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Be.data,data:t.deferredData.unwrappedData}}catch(o){return{type:Be.error,error:o}}return{type:Be.data,data:t.deferredData.data}}}function up(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function bs(t,e){let n=typeof e=="string"?hi(e).search:e.search;if(t[t.length-1].route.index&&up(n||""))return t[t.length-1];let i=Dw(t);return i[i.length-1]}function ag(t){let{formMethod:e,formAction:n,formEncType:i,text:o,formData:a,json:l}=t;if(!(!e||!n||!i)){if(o!=null)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:void 0,text:o};if(a!=null)return{formMethod:e,formAction:n,formEncType:i,formData:a,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:l,text:void 0}}}function Mh(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function FT(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Cs(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function BT(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function xi(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function jT(t,e){try{let n=t.sessionStorage.getItem(jw);if(n){let i=JSON.parse(n);for(let[o,a]of Object.entries(i||{}))a&&Array.isArray(a)&&e.set(o,new Set(a||[]))}}catch{}}function UT(t,e){if(e.size>0){let n={};for(let[i,o]of e)n[i]=[...o];try{t.sessionStorage.setItem(jw,JSON.stringify(n))}catch(i){Ao(!1,"Failed to save applied view transitions in sessionStorage ("+i+").")}}}/**
 * React Router v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pa(){return pa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},pa.apply(this,arguments)}const lc=A.createContext(null),$w=A.createContext(null),uc=A.createContext(null),cc=A.createContext(null),Ho=A.createContext({outlet:null,matches:[],isDataRoute:!1}),Gw=A.createContext(null);function hc(){return A.useContext(cc)!=null}function cp(){return hc()||fe(!1),A.useContext(cc).location}function qw(t){A.useContext(uc).static||A.useLayoutEffect(t)}function Kw(){let{isDataRoute:t}=A.useContext(Ho);return t?JT():HT()}function HT(){hc()||fe(!1);let t=A.useContext(lc),{basename:e,future:n,navigator:i}=A.useContext(uc),{matches:o}=A.useContext(Ho),{pathname:a}=cp(),l=JSON.stringify(zw(o,n.v7_relativeSplatPath)),c=A.useRef(!1);return qw(()=>{c.current=!0}),A.useCallback(function(f,g){if(g===void 0&&(g={}),!c.current)return;if(typeof f=="number"){i.go(f);return}let m=Fw(f,JSON.parse(l),a,g.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Bi([e,m.pathname])),(g.replace?i.replace:i.push)(m,g.state,g)},[e,i,l,a,t])}function WT(t,e){return Yw(t,e)}function Yw(t,e,n,i){hc()||fe(!1);let{navigator:o}=A.useContext(uc),{matches:a}=A.useContext(Ho),l=a[a.length-1],c=l?l.params:{};l&&l.pathname;let h=l?l.pathnameBase:"/";l&&l.route;let f=cp(),g;if(e){var m;let z=typeof e=="string"?hi(e):e;h==="/"||(m=z.pathname)!=null&&m.startsWith(h)||fe(!1),g=z}else g=f;let _=g.pathname||"/",E=_;if(h!=="/"){let z=h.replace(/^\//,"").split("/");E="/"+_.replace(/^\//,"").split("/").slice(z.length).join("/")}let T=mr(t,{pathname:E}),P=qT(T&&T.map(z=>Object.assign({},z,{params:Object.assign({},c,z.params),pathname:Bi([h,o.encodeLocation?o.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?h:Bi([h,o.encodeLocation?o.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),a,n,i);return e&&P?A.createElement(cc.Provider,{value:{location:pa({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:rt.Pop}},P):P}function VT(){let t=XT(),e=ac(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:o},n):null,null)}const ZT=A.createElement(VT,null);class $T extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?A.createElement(Ho.Provider,{value:this.props.routeContext},A.createElement(Gw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function GT(t){let{routeContext:e,match:n,children:i}=t,o=A.useContext(lc);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(Ho.Provider,{value:e},i)}function qT(t,e,n,i){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var a;if((a=n)!=null&&a.errors)t=n.matches;else return null}let l=t,c=(o=n)==null?void 0:o.errors;if(c!=null){let g=l.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id])!==void 0);g>=0||fe(!1),l=l.slice(0,Math.min(l.length,g+1))}let h=!1,f=-1;if(n&&i&&i.v7_partialHydration)for(let g=0;g<l.length;g++){let m=l[g];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=g),m.route.id){let{loaderData:_,errors:E}=n,T=m.route.loader&&_[m.route.id]===void 0&&(!E||E[m.route.id]===void 0);if(m.route.lazy||T){h=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((g,m,_)=>{let E,T=!1,P=null,z=null;n&&(E=c&&m.route.id?c[m.route.id]:void 0,P=m.route.errorElement||ZT,h&&(f<0&&_===0?(eP("route-fallback"),T=!0,z=null):f===_&&(T=!0,z=m.route.hydrateFallbackElement||null)));let C=e.concat(l.slice(0,_+1)),y=()=>{let S;return E?S=P:T?S=z:m.route.Component?S=A.createElement(m.route.Component,null):m.route.element?S=m.route.element:S=g,A.createElement(GT,{match:m,routeContext:{outlet:g,matches:C,isDataRoute:n!=null},children:S})};return n&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?A.createElement($T,{location:n.location,revalidation:n.revalidation,component:P,error:E,children:y(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):y()},null)}var Qw=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Qw||{}),Eu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Eu||{});function KT(t){let e=A.useContext(lc);return e||fe(!1),e}function YT(t){let e=A.useContext($w);return e||fe(!1),e}function QT(t){let e=A.useContext(Ho);return e||fe(!1),e}function Xw(t){let e=QT(),n=e.matches[e.matches.length-1];return n.route.id||fe(!1),n.route.id}function XT(){var t;let e=A.useContext(Gw),n=YT(Eu.UseRouteError),i=Xw(Eu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function JT(){let{router:t}=KT(Qw.UseNavigateStable),e=Xw(Eu.UseNavigateStable),n=A.useRef(!1);return qw(()=>{n.current=!0}),A.useCallback(function(o,a){a===void 0&&(a={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,pa({fromRouteId:e},a)))},[t,e])}const lg={};function eP(t,e,n){lg[t]||(lg[t]=!0)}function ql(t){fe(!1)}function tP(t){let{basename:e="/",children:n=null,location:i,navigationType:o=rt.Pop,navigator:a,static:l=!1,future:c}=t;hc()&&fe(!1);let h=e.replace(/^\/*/,"/"),f=A.useMemo(()=>({basename:h,navigator:a,static:l,future:pa({v7_relativeSplatPath:!1},c)}),[h,c,a,l]);typeof i=="string"&&(i=hi(i));let{pathname:g="/",search:m="",hash:_="",state:E=null,key:T="default"}=i,P=A.useMemo(()=>{let z=ba(g,h);return z==null?null:{location:{pathname:z,search:m,hash:_,state:E,key:T},navigationType:o}},[h,g,m,_,E,T,o]);return P==null?null:A.createElement(uc.Provider,{value:f},A.createElement(cc.Provider,{children:n,value:P}))}function nP(t){let{children:e,location:n}=t;return WT(Zd(e),n)}new Promise(()=>{});function Zd(t,e){e===void 0&&(e=[]);let n=[];return A.Children.forEach(t,(i,o)=>{if(!A.isValidElement(i))return;let a=[...e,o];if(i.type===A.Fragment){n.push.apply(n,Zd(i.props.children,a));return}i.type!==ql&&fe(!1),!i.props.index||!i.props.children||fe(!1);let l={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=Zd(i.props.children,a)),n.push(l)}),n}function iP(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:A.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:A.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:A.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cu(){return Cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Cu.apply(this,arguments)}const rP="6";try{window.__reactRouterVersion=rP}catch{}function oP(t,e){return CT({basename:void 0,future:Cu({},void 0,{v7_prependBasename:!0}),history:$x({window:void 0}),hydrationData:sP(),routes:t,mapRouteProperties:iP,unstable_dataStrategy:void 0,unstable_patchRoutesOnMiss:void 0,window:void 0}).initialize()}function sP(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Cu({},e,{errors:aP(e.errors)})),e}function aP(t){if(!t)return null;let e=Object.entries(t),n={};for(let[i,o]of e)if(o&&o.__type==="RouteErrorResponse")n[i]=new ap(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let a=window[o.__subType];if(typeof a=="function")try{let l=new a(o.message);l.stack="",n[i]=l}catch{}}if(n[i]==null){let a=new Error(o.message);a.stack="",n[i]=a}}else n[i]=o;return n}const lP=A.createContext({isTransitioning:!1}),uP=A.createContext(new Map),cP="startTransition",ug=M1[cP],hP="flushSync",cg=Zx[hP];function dP(t){ug?ug(t):t()}function Ss(t){cg?cg(t):t()}let fP=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",n(i))}})}};function pP(t){let{fallbackElement:e,router:n,future:i}=t,[o,a]=A.useState(n.state),[l,c]=A.useState(),[h,f]=A.useState({isTransitioning:!1}),[g,m]=A.useState(),[_,E]=A.useState(),[T,P]=A.useState(),z=A.useRef(new Map),{v7_startTransition:C}=i||{},y=A.useCallback(B=>{C?dP(B):B()},[C]),S=A.useCallback((B,Z)=>{let{deletedFetchers:Y,unstable_flushSync:te,unstable_viewTransitionOpts:re}=Z;Y.forEach(ke=>z.current.delete(ke)),B.fetchers.forEach((ke,be)=>{ke.data!==void 0&&z.current.set(be,ke.data)});let Se=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!re||Se){te?Ss(()=>a(B)):y(()=>a(B));return}if(te){Ss(()=>{_&&(g&&g.resolve(),_.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:re.currentLocation,nextLocation:re.nextLocation})});let ke=n.window.document.startViewTransition(()=>{Ss(()=>a(B))});ke.finished.finally(()=>{Ss(()=>{m(void 0),E(void 0),c(void 0),f({isTransitioning:!1})})}),Ss(()=>E(ke));return}_?(g&&g.resolve(),_.skipTransition(),P({state:B,currentLocation:re.currentLocation,nextLocation:re.nextLocation})):(c(B),f({isTransitioning:!0,flushSync:!1,currentLocation:re.currentLocation,nextLocation:re.nextLocation}))},[n.window,_,g,z,y]);A.useLayoutEffect(()=>n.subscribe(S),[n,S]),A.useEffect(()=>{h.isTransitioning&&!h.flushSync&&m(new fP)},[h]),A.useEffect(()=>{if(g&&l&&n.window){let B=l,Z=g.promise,Y=n.window.document.startViewTransition(async()=>{y(()=>a(B)),await Z});Y.finished.finally(()=>{m(void 0),E(void 0),c(void 0),f({isTransitioning:!1})}),E(Y)}},[y,l,g,n.window]),A.useEffect(()=>{g&&l&&o.location.key===l.location.key&&g.resolve()},[g,_,o.location,l]),A.useEffect(()=>{!h.isTransitioning&&T&&(c(T.state),f({isTransitioning:!0,flushSync:!1,currentLocation:T.currentLocation,nextLocation:T.nextLocation}),P(void 0))},[h.isTransitioning,T]),A.useEffect(()=>{},[]);let O=A.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:B=>n.navigate(B),push:(B,Z,Y)=>n.navigate(B,{state:Z,preventScrollReset:Y==null?void 0:Y.preventScrollReset}),replace:(B,Z,Y)=>n.navigate(B,{replace:!0,state:Z,preventScrollReset:Y==null?void 0:Y.preventScrollReset})}),[n]),j=n.basename||"/",I=A.useMemo(()=>({router:n,navigator:O,static:!1,basename:j}),[n,O,j]);return A.createElement(A.Fragment,null,A.createElement(lc.Provider,{value:I},A.createElement($w.Provider,{value:o},A.createElement(uP.Provider,{value:z.current},A.createElement(lP.Provider,{value:h},A.createElement(tP,{basename:j,location:o.location,navigationType:o.historyAction,navigator:O,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},o.initialized||n.future.v7_partialHydration?A.createElement(mP,{routes:n.routes,future:n.future,state:o}):e))))),null)}function mP(t){let{routes:e,future:n,state:i}=t;return Yw(e,void 0,i,n)}var hg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(hg||(hg={}));var dg;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(dg||(dg={}));const _P=()=>{const t=Kw();return $.jsx($.Fragment,{children:$.jsxs("div",{className:"flex flex-col items-center w-full h-screen justify-center bg-gray-700 text-white",children:[$.jsx("h1",{className:"text-3xl font-bold font-montserrat text-center",children:"Welcome, this is Map Prototype"}),$.jsx("button",{className:"bg-gray-700 hover:bg-blue-500 border border-2 border-blue-500 text-white font-bold py-2 px-4 rounded mt-4",onClick:()=>t("./Map"),children:"Let's Go"})]})})};function Jw(t,e){const n=A.useRef(e);A.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const gP=1;function vP(t){return Object.freeze({__version:gP,map:t})}function e0(t,e){return Object.freeze({...t,...e})}const t0=A.createContext(null),n0=t0.Provider;function dc(){const t=A.useContext(t0);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function i0(t){function e(n,i){const{instance:o,context:a}=t(n).current;return A.useImperativeHandle(i,()=>o),n.children==null?null:dn.createElement(n0,{value:a},n.children)}return A.forwardRef(e)}function yP(t){function e(n,i){const[o,a]=A.useState(!1),{instance:l}=t(n,a).current;A.useImperativeHandle(i,()=>l),A.useEffect(function(){o&&l.update()},[l,o,n.children]);const c=l._contentNode;return c?sc.createPortal(n.children,c):null}return A.forwardRef(e)}function wP(t){function e(n,i){const{instance:o}=t(n).current;return A.useImperativeHandle(i,()=>o),null}return A.forwardRef(e)}function hp(t,e){const n=A.useRef();A.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function fc(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function EP(t,e){return function(i,o){const a=dc(),l=t(fc(i,a),a);return Jw(a.map,i.attribution),hp(l.current,i.eventHandlers),e(l.current,a,i,o),l}}var $d={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,i){i(e)})(g1,function(n){var i="1.9.4";function o(r){var s,u,d,p;for(u=1,d=arguments.length;u<d;u++){p=arguments[u];for(s in p)r[s]=p[s]}return r}var a=Object.create||function(){function r(){}return function(s){return r.prototype=s,new r}}();function l(r,s){var u=Array.prototype.slice;if(r.bind)return r.bind.apply(r,u.call(arguments,1));var d=u.call(arguments,2);return function(){return r.apply(s,d.length?d.concat(u.call(arguments)):arguments)}}var c=0;function h(r){return"_leaflet_id"in r||(r._leaflet_id=++c),r._leaflet_id}function f(r,s,u){var d,p,v,w;return w=function(){d=!1,p&&(v.apply(u,p),p=!1)},v=function(){d?p=arguments:(r.apply(u,arguments),setTimeout(w,s),d=!0)},v}function g(r,s,u){var d=s[1],p=s[0],v=d-p;return r===d&&u?r:((r-p)%v+v)%v+p}function m(){return!1}function _(r,s){if(s===!1)return r;var u=Math.pow(10,s===void 0?6:s);return Math.round(r*u)/u}function E(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function T(r){return E(r).split(/\s+/)}function P(r,s){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?a(r.options):{});for(var u in s)r.options[u]=s[u];return r.options}function z(r,s,u){var d=[];for(var p in r)d.push(encodeURIComponent(u?p.toUpperCase():p)+"="+encodeURIComponent(r[p]));return(!s||s.indexOf("?")===-1?"?":"&")+d.join("&")}var C=/\{ *([\w_ -]+) *\}/g;function y(r,s){return r.replace(C,function(u,d){var p=s[d];if(p===void 0)throw new Error("No value provided for variable "+u);return typeof p=="function"&&(p=p(s)),p})}var S=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function O(r,s){for(var u=0;u<r.length;u++)if(r[u]===s)return u;return-1}var j="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function I(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var B=0;function Z(r){var s=+new Date,u=Math.max(0,16-(s-B));return B=s+u,window.setTimeout(r,u)}var Y=window.requestAnimationFrame||I("RequestAnimationFrame")||Z,te=window.cancelAnimationFrame||I("CancelAnimationFrame")||I("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function re(r,s,u){if(u&&Y===Z)r.call(s);else return Y.call(window,l(r,s))}function Se(r){r&&te.call(window,r)}var ke={__proto__:null,extend:o,create:a,bind:l,get lastId(){return c},stamp:h,throttle:f,wrapNum:g,falseFn:m,formatNum:_,trim:E,splitWords:T,setOptions:P,getParamString:z,template:y,isArray:S,indexOf:O,emptyImageUrl:j,requestFn:Y,cancelFn:te,requestAnimFrame:re,cancelAnimFrame:Se};function be(){}be.extend=function(r){var s=function(){P(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=s.__super__=this.prototype,d=a(u);d.constructor=s,s.prototype=d;for(var p in this)Object.prototype.hasOwnProperty.call(this,p)&&p!=="prototype"&&p!=="__super__"&&(s[p]=this[p]);return r.statics&&o(s,r.statics),r.includes&&(Mn(r.includes),o.apply(null,[d].concat(r.includes))),o(d,r),delete d.statics,delete d.includes,d.options&&(d.options=u.options?a(u.options):{},o(d.options,r.options)),d._initHooks=[],d.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var v=0,w=d._initHooks.length;v<w;v++)d._initHooks[v].call(this)}},s},be.include=function(r){var s=this.prototype.options;return o(this.prototype,r),r.options&&(this.prototype.options=s,this.mergeOptions(r.options)),this},be.mergeOptions=function(r){return o(this.prototype.options,r),this},be.addInitHook=function(r){var s=Array.prototype.slice.call(arguments,1),u=typeof r=="function"?r:function(){this[r].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function Mn(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=S(r)?r:[r];for(var s=0;s<r.length;s++)r[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Je={on:function(r,s,u){if(typeof r=="object")for(var d in r)this._on(d,r[d],s);else{r=T(r);for(var p=0,v=r.length;p<v;p++)this._on(r[p],s,u)}return this},off:function(r,s,u){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var d in r)this._off(d,r[d],s);else{r=T(r);for(var p=arguments.length===1,v=0,w=r.length;v<w;v++)p?this._off(r[v]):this._off(r[v],s,u)}return this},_on:function(r,s,u,d){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(r,s,u)===!1){u===this&&(u=void 0);var p={fn:s,ctx:u};d&&(p.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(p)}},_off:function(r,s,u){var d,p,v;if(this._events&&(d=this._events[r],!!d)){if(arguments.length===1){if(this._firingCount)for(p=0,v=d.length;p<v;p++)d[p].fn=m;delete this._events[r];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var w=this._listens(r,s,u);if(w!==!1){var N=d[w];this._firingCount&&(N.fn=m,this._events[r]=d=d.slice()),d.splice(w,1)}}},fire:function(r,s,u){if(!this.listens(r,u))return this;var d=o({},s,{type:r,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var p=this._events[r];if(p){this._firingCount=this._firingCount+1||1;for(var v=0,w=p.length;v<w;v++){var N=p[v],M=N.fn;N.once&&this.off(r,M,N.ctx),M.call(N.ctx||this,d)}this._firingCount--}}return u&&this._propagateEvent(d),this},listens:function(r,s,u,d){typeof r!="string"&&console.warn('"string" type argument expected');var p=s;typeof s!="function"&&(d=!!s,p=void 0,u=void 0);var v=this._events&&this._events[r];if(v&&v.length&&this._listens(r,p,u)!==!1)return!0;if(d){for(var w in this._eventParents)if(this._eventParents[w].listens(r,s,u,d))return!0}return!1},_listens:function(r,s,u){if(!this._events)return!1;var d=this._events[r]||[];if(!s)return!!d.length;u===this&&(u=void 0);for(var p=0,v=d.length;p<v;p++)if(d[p].fn===s&&d[p].ctx===u)return p;return!1},once:function(r,s,u){if(typeof r=="object")for(var d in r)this._on(d,r[d],s,!0);else{r=T(r);for(var p=0,v=r.length;p<v;p++)this._on(r[p],s,u,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[h(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[h(r)],this},_propagateEvent:function(r){for(var s in this._eventParents)this._eventParents[s].fire(r.type,o({layer:r.target,propagatedFrom:r.target},r),!0)}};Je.addEventListener=Je.on,Je.removeEventListener=Je.clearAllEventListeners=Je.off,Je.addOneTimeEventListener=Je.once,Je.fireEvent=Je.fire,Je.hasEventListeners=Je.listens;var Me=be.extend(Je);function D(r,s,u){this.x=u?Math.round(r):r,this.y=u?Math.round(s):s}var se=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};D.prototype={clone:function(){return new D(this.x,this.y)},add:function(r){return this.clone()._add(H(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(H(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new D(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new D(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=se(this.x),this.y=se(this.y),this},distanceTo:function(r){r=H(r);var s=r.x-this.x,u=r.y-this.y;return Math.sqrt(s*s+u*u)},equals:function(r){return r=H(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=H(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+_(this.x)+", "+_(this.y)+")"}};function H(r,s,u){return r instanceof D?r:S(r)?new D(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new D(r.x,r.y):new D(r,s,u)}function ne(r,s){if(r)for(var u=s?[r,s]:r,d=0,p=u.length;d<p;d++)this.extend(u[d])}ne.prototype={extend:function(r){var s,u;if(!r)return this;if(r instanceof D||typeof r[0]=="number"||"x"in r)s=u=H(r);else if(r=pe(r),s=r.min,u=r.max,!s||!u)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=u.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(r){return H((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return H(this.min.x,this.max.y)},getTopRight:function(){return H(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var s,u;return typeof r[0]=="number"||r instanceof D?r=H(r):r=pe(r),r instanceof ne?(s=r.min,u=r.max):s=u=r,s.x>=this.min.x&&u.x<=this.max.x&&s.y>=this.min.y&&u.y<=this.max.y},intersects:function(r){r=pe(r);var s=this.min,u=this.max,d=r.min,p=r.max,v=p.x>=s.x&&d.x<=u.x,w=p.y>=s.y&&d.y<=u.y;return v&&w},overlaps:function(r){r=pe(r);var s=this.min,u=this.max,d=r.min,p=r.max,v=p.x>s.x&&d.x<u.x,w=p.y>s.y&&d.y<u.y;return v&&w},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var s=this.min,u=this.max,d=Math.abs(s.x-u.x)*r,p=Math.abs(s.y-u.y)*r;return pe(H(s.x-d,s.y-p),H(u.x+d,u.y+p))},equals:function(r){return r?(r=pe(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function pe(r,s){return!r||r instanceof ne?r:new ne(r,s)}function He(r,s){if(r)for(var u=s?[r,s]:r,d=0,p=u.length;d<p;d++)this.extend(u[d])}He.prototype={extend:function(r){var s=this._southWest,u=this._northEast,d,p;if(r instanceof me)d=r,p=r;else if(r instanceof He){if(d=r._southWest,p=r._northEast,!d||!p)return this}else return r?this.extend(ae(r)||ge(r)):this;return!s&&!u?(this._southWest=new me(d.lat,d.lng),this._northEast=new me(p.lat,p.lng)):(s.lat=Math.min(d.lat,s.lat),s.lng=Math.min(d.lng,s.lng),u.lat=Math.max(p.lat,u.lat),u.lng=Math.max(p.lng,u.lng)),this},pad:function(r){var s=this._southWest,u=this._northEast,d=Math.abs(s.lat-u.lat)*r,p=Math.abs(s.lng-u.lng)*r;return new He(new me(s.lat-d,s.lng-p),new me(u.lat+d,u.lng+p))},getCenter:function(){return new me((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new me(this.getNorth(),this.getWest())},getSouthEast:function(){return new me(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof me||"lat"in r?r=ae(r):r=ge(r);var s=this._southWest,u=this._northEast,d,p;return r instanceof He?(d=r.getSouthWest(),p=r.getNorthEast()):d=p=r,d.lat>=s.lat&&p.lat<=u.lat&&d.lng>=s.lng&&p.lng<=u.lng},intersects:function(r){r=ge(r);var s=this._southWest,u=this._northEast,d=r.getSouthWest(),p=r.getNorthEast(),v=p.lat>=s.lat&&d.lat<=u.lat,w=p.lng>=s.lng&&d.lng<=u.lng;return v&&w},overlaps:function(r){r=ge(r);var s=this._southWest,u=this._northEast,d=r.getSouthWest(),p=r.getNorthEast(),v=p.lat>s.lat&&d.lat<u.lat,w=p.lng>s.lng&&d.lng<u.lng;return v&&w},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,s){return r?(r=ge(r),this._southWest.equals(r.getSouthWest(),s)&&this._northEast.equals(r.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ge(r,s){return r instanceof He?r:new He(r,s)}function me(r,s,u){if(isNaN(r)||isNaN(s))throw new Error("Invalid LatLng object: ("+r+", "+s+")");this.lat=+r,this.lng=+s,u!==void 0&&(this.alt=+u)}me.prototype={equals:function(r,s){if(!r)return!1;r=ae(r);var u=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return u<=(s===void 0?1e-9:s)},toString:function(r){return"LatLng("+_(this.lat,r)+", "+_(this.lng,r)+")"},distanceTo:function(r){return rn.distance(this,ae(r))},wrap:function(){return rn.wrapLatLng(this)},toBounds:function(r){var s=180*r/40075017,u=s/Math.cos(Math.PI/180*this.lat);return ge([this.lat-s,this.lng-u],[this.lat+s,this.lng+u])},clone:function(){return new me(this.lat,this.lng,this.alt)}};function ae(r,s,u){return r instanceof me?r:S(r)&&typeof r[0]!="object"?r.length===3?new me(r[0],r[1],r[2]):r.length===2?new me(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new me(r.lat,"lng"in r?r.lng:r.lon,r.alt):s===void 0?null:new me(r,s,u)}var Tt={latLngToPoint:function(r,s){var u=this.projection.project(r),d=this.scale(s);return this.transformation._transform(u,d)},pointToLatLng:function(r,s){var u=this.scale(s),d=this.transformation.untransform(r,u);return this.projection.unproject(d)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var s=this.projection.bounds,u=this.scale(r),d=this.transformation.transform(s.min,u),p=this.transformation.transform(s.max,u);return new ne(d,p)},infinite:!1,wrapLatLng:function(r){var s=this.wrapLng?g(r.lng,this.wrapLng,!0):r.lng,u=this.wrapLat?g(r.lat,this.wrapLat,!0):r.lat,d=r.alt;return new me(u,s,d)},wrapLatLngBounds:function(r){var s=r.getCenter(),u=this.wrapLatLng(s),d=s.lat-u.lat,p=s.lng-u.lng;if(d===0&&p===0)return r;var v=r.getSouthWest(),w=r.getNorthEast(),N=new me(v.lat-d,v.lng-p),M=new me(w.lat-d,w.lng-p);return new He(N,M)}},rn=o({},Tt,{wrapLng:[-180,180],R:6371e3,distance:function(r,s){var u=Math.PI/180,d=r.lat*u,p=s.lat*u,v=Math.sin((s.lat-r.lat)*u/2),w=Math.sin((s.lng-r.lng)*u/2),N=v*v+Math.cos(d)*Math.cos(p)*w*w,M=2*Math.atan2(Math.sqrt(N),Math.sqrt(1-N));return this.R*M}}),Ua=6378137,qo={R:Ua,MAX_LATITUDE:85.0511287798,project:function(r){var s=Math.PI/180,u=this.MAX_LATITUDE,d=Math.max(Math.min(u,r.lat),-u),p=Math.sin(d*s);return new D(this.R*r.lng*s,this.R*Math.log((1+p)/(1-p))/2)},unproject:function(r){var s=180/Math.PI;return new me((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*s,r.x*s/this.R)},bounds:function(){var r=Ua*Math.PI;return new ne([-r,-r],[r,r])}()};function Ko(r,s,u,d){if(S(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=s,this._c=u,this._d=d}Ko.prototype={transform:function(r,s){return this._transform(r.clone(),s)},_transform:function(r,s){return s=s||1,r.x=s*(this._a*r.x+this._b),r.y=s*(this._c*r.y+this._d),r},untransform:function(r,s){return s=s||1,new D((r.x/s-this._b)/this._a,(r.y/s-this._d)/this._c)}};function nt(r,s,u,d){return new Ko(r,s,u,d)}var An=o({},rn,{code:"EPSG:3857",projection:qo,transformation:function(){var r=.5/(Math.PI*qo.R);return nt(r,.5,-r,.5)}()}),Ha=o({},An,{code:"EPSG:900913"});function Wa(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function On(r,s){var u="",d,p,v,w,N,M;for(d=0,v=r.length;d<v;d++){for(N=r[d],p=0,w=N.length;p<w;p++)M=N[p],u+=(p?"L":"M")+M.x+" "+M.y;u+=s?R.svg?"z":"x":""}return u||"M0 0"}var Yo=document.documentElement.style,Hr="ActiveXObject"in window,Va=Hr&&!document.addEventListener,Za="msLaunchUri"in navigator&&!("documentMode"in document),Qo=b("webkit"),$a=b("android"),Ga=b("android 2")||b("android 3"),Ji=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),er=$a&&b("Google")&&Ji<537&&!("AudioNode"in window),Wr=!!window.opera,Vr=!Za&&b("chrome"),_n=b("gecko")&&!Qo&&!Wr&&!Hr,gn=!Vr&&b("safari"),Xo=b("phantom"),tr="OTransition"in Yo,Rc=navigator.platform.indexOf("Win")===0,vn=Hr&&"transition"in Yo,Zr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ga,Jo="MozPerspective"in Yo,qa=!window.L_DISABLE_3D&&(vn||Zr||Jo)&&!tr&&!Xo,nr=typeof orientation<"u"||b("mobile"),Ka=nr&&Qo,$r=nr&&Zr,es=!window.PointerEvent&&window.MSPointerEvent,Gr=!!(window.PointerEvent||es),ir="ontouchstart"in window||!!window.TouchEvent,ts=!window.L_NO_TOUCH&&(ir||Gr),Nc=nr&&Wr,Ya=nr&&_n,bc=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Qa=function(){var r=!1;try{var s=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",m,s),window.removeEventListener("testPassiveEventSupport",m,s)}catch{}return r}(),ns=function(){return!!document.createElement("canvas").getContext}(),mi=!!(document.createElementNS&&Wa("svg").createSVGRect),Mc=!!mi&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Ac=!mi&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var s=r.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}}(),x=navigator.platform.indexOf("Mac")===0,k=navigator.platform.indexOf("Linux")===0;function b(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var R={ie:Hr,ielt9:Va,edge:Za,webkit:Qo,android:$a,android23:Ga,androidStock:er,opera:Wr,chrome:Vr,gecko:_n,safari:gn,phantom:Xo,opera12:tr,win:Rc,ie3d:vn,webkit3d:Zr,gecko3d:Jo,any3d:qa,mobile:nr,mobileWebkit:Ka,mobileWebkit3d:$r,msPointer:es,pointer:Gr,touch:ts,touchNative:ir,mobileOpera:Nc,mobileGecko:Ya,retina:bc,passiveEvents:Qa,canvas:ns,svg:mi,vml:Ac,inlineSvg:Mc,mac:x,linux:k},q=R.msPointer?"MSPointerDown":"pointerdown",X=R.msPointer?"MSPointerMove":"pointermove",oe=R.msPointer?"MSPointerUp":"pointerup",V=R.msPointer?"MSPointerCancel":"pointercancel",ce={touchstart:q,touchmove:X,touchend:oe,touchcancel:V},ie={touchstart:_i,touchmove:qt,touchend:qt,touchcancel:qt},J={},Ne=!1;function Te(r,s,u){return s==="touchstart"&&rr(),ie[s]?(u=ie[s].bind(this,u),r.addEventListener(ce[s],u,!1),u):(console.warn("wrong event specified:",s),m)}function Ae(r,s,u){if(!ce[s]){console.warn("wrong event specified:",s);return}r.removeEventListener(ce[s],u,!1)}function Le(r){J[r.pointerId]=r}function ut(r){J[r.pointerId]&&(J[r.pointerId]=r)}function qe(r){delete J[r.pointerId]}function rr(){Ne||(document.addEventListener(q,Le,!0),document.addEventListener(X,ut,!0),document.addEventListener(oe,qe,!0),document.addEventListener(V,qe,!0),Ne=!0)}function qt(r,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var u in J)s.touches.push(J[u]);s.changedTouches=[s],r(s)}}function _i(r,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&Et(s),qt(r,s)}function gi(r){var s={},u,d;for(d in r)u=r[d],s[d]=u&&u.bind?u.bind(r):u;return r=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var vi=200;function on(r,s){r.addEventListener("dblclick",s);var u=0,d;function p(v){if(v.detail!==1){d=v.detail;return}if(!(v.pointerType==="mouse"||v.sourceCapabilities&&!v.sourceCapabilities.firesTouchEvents)){var w=Jp(v);if(!(w.some(function(M){return M instanceof HTMLLabelElement&&M.attributes.for})&&!w.some(function(M){return M instanceof HTMLInputElement||M instanceof HTMLSelectElement}))){var N=Date.now();N-u<=vi?(d++,d===2&&s(gi(v))):d=1,u=N}}}return r.addEventListener("click",p),{dblclick:s,simDblclick:p}}function qr(r,s){r.removeEventListener("dblclick",s.dblclick),r.removeEventListener("click",s.simDblclick)}var yi=Ja(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Dn=Ja(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),he=Dn==="webkitTransition"||Dn==="OTransition"?Dn+"End":"transitionend";function We(r){return typeof r=="string"?document.getElementById(r):r}function ct(r,s){var u=r.style[s]||r.currentStyle&&r.currentStyle[s];if((!u||u==="auto")&&document.defaultView){var d=document.defaultView.getComputedStyle(r,null);u=d?d[s]:null}return u==="auto"?null:u}function ee(r,s,u){var d=document.createElement(r);return d.className=s||"",u&&u.appendChild(d),d}function Pe(r){var s=r.parentNode;s&&s.removeChild(r)}function or(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function wi(r){var s=r.parentNode;s&&s.lastChild!==r&&s.appendChild(r)}function Kr(r){var s=r.parentNode;s&&s.firstChild!==r&&s.insertBefore(r,s.firstChild)}function Oc(r,s){if(r.classList!==void 0)return r.classList.contains(s);var u=Xa(r);return u.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(u)}function _e(r,s){if(r.classList!==void 0)for(var u=T(s),d=0,p=u.length;d<p;d++)r.classList.add(u[d]);else if(!Oc(r,s)){var v=Xa(r);Dc(r,(v?v+" ":"")+s)}}function it(r,s){r.classList!==void 0?r.classList.remove(s):Dc(r,E((" "+Xa(r)+" ").replace(" "+s+" "," ")))}function Dc(r,s){r.className.baseVal===void 0?r.className=s:r.className.baseVal=s}function Xa(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function sn(r,s){"opacity"in r.style?r.style.opacity=s:"filter"in r.style&&EC(r,s)}function EC(r,s){var u=!1,d="DXImageTransform.Microsoft.Alpha";try{u=r.filters.item(d)}catch{if(s===1)return}s=Math.round(s*100),u?(u.Enabled=s!==100,u.Opacity=s):r.style.filter+=" progid:"+d+"(opacity="+s+")"}function Ja(r){for(var s=document.documentElement.style,u=0;u<r.length;u++)if(r[u]in s)return r[u];return!1}function sr(r,s,u){var d=s||new D(0,0);r.style[yi]=(R.ie3d?"translate("+d.x+"px,"+d.y+"px)":"translate3d("+d.x+"px,"+d.y+"px,0)")+(u?" scale("+u+")":"")}function st(r,s){r._leaflet_pos=s,R.any3d?sr(r,s):(r.style.left=s.x+"px",r.style.top=s.y+"px")}function ar(r){return r._leaflet_pos||new D(0,0)}var is,rs,zc;if("onselectstart"in document)is=function(){de(window,"selectstart",Et)},rs=function(){ze(window,"selectstart",Et)};else{var os=Ja(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);is=function(){if(os){var r=document.documentElement.style;zc=r[os],r[os]="none"}},rs=function(){os&&(document.documentElement.style[os]=zc,zc=void 0)}}function Fc(){de(window,"dragstart",Et)}function Bc(){ze(window,"dragstart",Et)}var el,jc;function Uc(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(tl(),el=r,jc=r.style.outlineStyle,r.style.outlineStyle="none",de(window,"keydown",tl))}function tl(){el&&(el.style.outlineStyle=jc,el=void 0,jc=void 0,ze(window,"keydown",tl))}function Qp(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function Hc(r){var s=r.getBoundingClientRect();return{x:s.width/r.offsetWidth||1,y:s.height/r.offsetHeight||1,boundingClientRect:s}}var CC={__proto__:null,TRANSFORM:yi,TRANSITION:Dn,TRANSITION_END:he,get:We,getStyle:ct,create:ee,remove:Pe,empty:or,toFront:wi,toBack:Kr,hasClass:Oc,addClass:_e,removeClass:it,setClass:Dc,getClass:Xa,setOpacity:sn,testProp:Ja,setTransform:sr,setPosition:st,getPosition:ar,get disableTextSelection(){return is},get enableTextSelection(){return rs},disableImageDrag:Fc,enableImageDrag:Bc,preventOutline:Uc,restoreOutline:tl,getSizedParentNode:Qp,getScale:Hc};function de(r,s,u,d){if(s&&typeof s=="object")for(var p in s)Vc(r,p,s[p],u);else{s=T(s);for(var v=0,w=s.length;v<w;v++)Vc(r,s[v],u,d)}return this}var zn="_leaflet_events";function ze(r,s,u,d){if(arguments.length===1)Xp(r),delete r[zn];else if(s&&typeof s=="object")for(var p in s)Zc(r,p,s[p],u);else if(s=T(s),arguments.length===2)Xp(r,function(N){return O(s,N)!==-1});else for(var v=0,w=s.length;v<w;v++)Zc(r,s[v],u,d);return this}function Xp(r,s){for(var u in r[zn]){var d=u.split(/\d/)[0];(!s||s(d))&&Zc(r,d,null,null,u)}}var Wc={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Vc(r,s,u,d){var p=s+h(u)+(d?"_"+h(d):"");if(r[zn]&&r[zn][p])return this;var v=function(N){return u.call(d||r,N||window.event)},w=v;!R.touchNative&&R.pointer&&s.indexOf("touch")===0?v=Te(r,s,v):R.touch&&s==="dblclick"?v=on(r,v):"addEventListener"in r?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?r.addEventListener(Wc[s]||s,v,R.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(v=function(N){N=N||window.event,Gc(r,N)&&w(N)},r.addEventListener(Wc[s],v,!1)):r.addEventListener(s,w,!1):r.attachEvent("on"+s,v),r[zn]=r[zn]||{},r[zn][p]=v}function Zc(r,s,u,d,p){p=p||s+h(u)+(d?"_"+h(d):"");var v=r[zn]&&r[zn][p];if(!v)return this;!R.touchNative&&R.pointer&&s.indexOf("touch")===0?Ae(r,s,v):R.touch&&s==="dblclick"?qr(r,v):"removeEventListener"in r?r.removeEventListener(Wc[s]||s,v,!1):r.detachEvent("on"+s,v),r[zn][p]=null}function lr(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function $c(r){return Vc(r,"wheel",lr),this}function ss(r){return de(r,"mousedown touchstart dblclick contextmenu",lr),r._leaflet_disable_click=!0,this}function Et(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function ur(r){return Et(r),lr(r),this}function Jp(r){if(r.composedPath)return r.composedPath();for(var s=[],u=r.target;u;)s.push(u),u=u.parentNode;return s}function em(r,s){if(!s)return new D(r.clientX,r.clientY);var u=Hc(s),d=u.boundingClientRect;return new D((r.clientX-d.left)/u.x-s.clientLeft,(r.clientY-d.top)/u.y-s.clientTop)}var SC=R.linux&&R.chrome?window.devicePixelRatio:R.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function tm(r){return R.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/SC:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Gc(r,s){var u=s.relatedTarget;if(!u)return!0;try{for(;u&&u!==r;)u=u.parentNode}catch{return!1}return u!==r}var xC={__proto__:null,on:de,off:ze,stopPropagation:lr,disableScrollPropagation:$c,disableClickPropagation:ss,preventDefault:Et,stop:ur,getPropagationPath:Jp,getMousePosition:em,getWheelDelta:tm,isExternalTarget:Gc,addListener:de,removeListener:ze},nm=Me.extend({run:function(r,s,u,d){this.stop(),this._el=r,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(d||.5,.2),this._startPos=ar(r),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=re(this._animate,this),this._step()},_step:function(r){var s=+new Date-this._startTime,u=this._duration*1e3;s<u?this._runFrame(this._easeOut(s/u),r):(this._runFrame(1),this._complete())},_runFrame:function(r,s){var u=this._startPos.add(this._offset.multiplyBy(r));s&&u._round(),st(this._el,u),this.fire("step")},_complete:function(){Se(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),xe=Me.extend({options:{crs:An,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,s){s=P(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(ae(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Dn&&R.any3d&&!R.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),de(this._proxy,he,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,s,u){if(s=s===void 0?this._zoom:this._limitZoom(s),r=this._limitCenter(ae(r),s,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=o({animate:u.animate},u.zoom),u.pan=o({animate:u.animate,duration:u.duration},u.pan));var d=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,s,u.zoom):this._tryAnimatedPan(r,u.pan);if(d)return clearTimeout(this._sizeTimer),this}return this._resetView(r,s,u.pan&&u.pan.noMoveStart),this},setZoom:function(r,s){return this._loaded?this.setView(this.getCenter(),r,{zoom:s}):(this._zoom=r,this)},zoomIn:function(r,s){return r=r||(R.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,s)},zoomOut:function(r,s){return r=r||(R.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,s)},setZoomAround:function(r,s,u){var d=this.getZoomScale(s),p=this.getSize().divideBy(2),v=r instanceof D?r:this.latLngToContainerPoint(r),w=v.subtract(p).multiplyBy(1-1/d),N=this.containerPointToLatLng(p.add(w));return this.setView(N,s,{zoom:u})},_getBoundsCenterZoom:function(r,s){s=s||{},r=r.getBounds?r.getBounds():ge(r);var u=H(s.paddingTopLeft||s.padding||[0,0]),d=H(s.paddingBottomRight||s.padding||[0,0]),p=this.getBoundsZoom(r,!1,u.add(d));if(p=typeof s.maxZoom=="number"?Math.min(s.maxZoom,p):p,p===1/0)return{center:r.getCenter(),zoom:p};var v=d.subtract(u).divideBy(2),w=this.project(r.getSouthWest(),p),N=this.project(r.getNorthEast(),p),M=this.unproject(w.add(N).divideBy(2).add(v),p);return{center:M,zoom:p}},fitBounds:function(r,s){if(r=ge(r),!r.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(r,s);return this.setView(u.center,u.zoom,s)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,s){return this.setView(r,this._zoom,{pan:s})},panBy:function(r,s){if(r=H(r).round(),s=s||{},!r.x&&!r.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new nm,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){_e(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,u,s.duration||.25,s.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,s,u){if(u=u||{},u.animate===!1||!R.any3d)return this.setView(r,s,u);this._stop();var d=this.project(this.getCenter()),p=this.project(r),v=this.getSize(),w=this._zoom;r=ae(r),s=s===void 0?w:s;var N=Math.max(v.x,v.y),M=N*this.getZoomScale(w,s),F=p.distanceTo(d)||1,K=1.42,le=K*K;function ve(at){var fl=at?-1:1,d1=at?M:N,f1=M*M-N*N+fl*le*le*F*F,p1=2*d1*le*F,rh=f1/p1,Dm=Math.sqrt(rh*rh+1)-rh,m1=Dm<1e-9?-18:Math.log(Dm);return m1}function Nt(at){return(Math.exp(at)-Math.exp(-at))/2}function mt(at){return(Math.exp(at)+Math.exp(-at))/2}function ln(at){return Nt(at)/mt(at)}var Ft=ve(0);function to(at){return N*(mt(Ft)/mt(Ft+K*at))}function l1(at){return N*(mt(Ft)*ln(Ft+K*at)-Nt(Ft))/le}function u1(at){return 1-Math.pow(1-at,1.5)}var c1=Date.now(),Am=(ve(1)-Ft)/K,h1=u.duration?1e3*u.duration:1e3*Am*.8;function Om(){var at=(Date.now()-c1)/h1,fl=u1(at)*Am;at<=1?(this._flyToFrame=re(Om,this),this._move(this.unproject(d.add(p.subtract(d).multiplyBy(l1(fl)/F)),w),this.getScaleZoom(N/to(fl),w),{flyTo:!0})):this._move(r,s)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),Om.call(this),this},flyToBounds:function(r,s){var u=this._getBoundsCenterZoom(r,s);return this.flyTo(u.center,u.zoom,s)},setMaxBounds:function(r){return r=ge(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var s=this.options.minZoom;return this.options.minZoom=r,this._loaded&&s!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var s=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&s!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,s){this._enforcingBounds=!0;var u=this.getCenter(),d=this._limitCenter(u,this._zoom,ge(r));return u.equals(d)||this.panTo(d,s),this._enforcingBounds=!1,this},panInside:function(r,s){s=s||{};var u=H(s.paddingTopLeft||s.padding||[0,0]),d=H(s.paddingBottomRight||s.padding||[0,0]),p=this.project(this.getCenter()),v=this.project(r),w=this.getPixelBounds(),N=pe([w.min.add(u),w.max.subtract(d)]),M=N.getSize();if(!N.contains(v)){this._enforcingBounds=!0;var F=v.subtract(N.getCenter()),K=N.extend(v).getSize().subtract(M);p.x+=F.x<0?-K.x:K.x,p.y+=F.y<0?-K.y:K.y,this.panTo(this.unproject(p),s),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=o({animate:!1,pan:!0},r===!0?{animate:!0}:r);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),d=s.divideBy(2).round(),p=u.divideBy(2).round(),v=d.subtract(p);return!v.x&&!v.y?this:(r.animate&&r.pan?this.panBy(v):(r.pan&&this._rawPanBy(v),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=o({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=l(this._handleGeolocationResponse,this),u=l(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,u,r):navigator.geolocation.getCurrentPosition(s,u,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var s=r.code,u=r.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var s=r.coords.latitude,u=r.coords.longitude,d=new me(s,u),p=d.toBounds(r.coords.accuracy*2),v=this._locateOptions;if(v.setView){var w=this.getBoundsZoom(p);this.setView(d,v.maxZoom?Math.min(w,v.maxZoom):w)}var N={latlng:d,bounds:p,timestamp:r.timestamp};for(var M in r.coords)typeof r.coords[M]=="number"&&(N[M]=r.coords[M]);this.fire("locationfound",N)}},addHandler:function(r,s){if(!s)return this;var u=this[r]=new s(this);return this._handlers.push(u),this.options[r]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Pe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Se(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)Pe(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,s){var u="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),d=ee("div",u,s||this._mapPane);return r&&(this._panes[r]=d),d},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),s=this.unproject(r.getBottomLeft()),u=this.unproject(r.getTopRight());return new He(s,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,s,u){r=ge(r),u=H(u||[0,0]);var d=this.getZoom()||0,p=this.getMinZoom(),v=this.getMaxZoom(),w=r.getNorthWest(),N=r.getSouthEast(),M=this.getSize().subtract(u),F=pe(this.project(N,d),this.project(w,d)).getSize(),K=R.any3d?this.options.zoomSnap:1,le=M.x/F.x,ve=M.y/F.y,Nt=s?Math.max(le,ve):Math.min(le,ve);return d=this.getScaleZoom(Nt,d),K&&(d=Math.round(d/(K/100))*(K/100),d=s?Math.ceil(d/K)*K:Math.floor(d/K)*K),Math.max(p,Math.min(v,d))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new D(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,s){var u=this._getTopLeftPoint(r,s);return new ne(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,s){var u=this.options.crs;return s=s===void 0?this._zoom:s,u.scale(r)/u.scale(s)},getScaleZoom:function(r,s){var u=this.options.crs;s=s===void 0?this._zoom:s;var d=u.zoom(r*u.scale(s));return isNaN(d)?1/0:d},project:function(r,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(ae(r),s)},unproject:function(r,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(H(r),s)},layerPointToLatLng:function(r){var s=H(r).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(r){var s=this.project(ae(r))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(ae(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(ge(r))},distance:function(r,s){return this.options.crs.distance(ae(r),ae(s))},containerPointToLayerPoint:function(r){return H(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return H(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var s=this.containerPointToLayerPoint(H(r));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ae(r)))},mouseEventToContainerPoint:function(r){return em(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var s=this._container=We(r);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");de(s,"scroll",this._onScroll,this),this._containerId=h(s)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&R.any3d,_e(r,"leaflet-container"+(R.touch?" leaflet-touch":"")+(R.retina?" leaflet-retina":"")+(R.ielt9?" leaflet-oldie":"")+(R.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=ct(r,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),st(this._mapPane,new D(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(_e(r.markerPane,"leaflet-zoom-hide"),_e(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,s,u){st(this._mapPane,new D(0,0));var d=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var p=this._zoom!==s;this._moveStart(p,u)._move(r,s)._moveEnd(p),this.fire("viewreset"),d&&this.fire("load")},_moveStart:function(r,s){return r&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(r,s,u,d){s===void 0&&(s=this._zoom);var p=this._zoom!==s;return this._zoom=s,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),d?u&&u.pinch&&this.fire("zoom",u):((p||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Se(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){st(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[h(this._container)]=this;var s=r?ze:de;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),R.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Se(this._resizeRequest),this._resizeRequest=re(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,s){for(var u=[],d,p=s==="mouseout"||s==="mouseover",v=r.target||r.srcElement,w=!1;v;){if(d=this._targets[h(v)],d&&(s==="click"||s==="preclick")&&this._draggableMoved(d)){w=!0;break}if(d&&d.listens(s,!0)&&(p&&!Gc(v,r)||(u.push(d),p))||v===this._container)break;v=v.parentNode}return!u.length&&!w&&!p&&this.listens(s,!0)&&(u=[this]),u},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var s=r.target||r.srcElement;if(!(!this._loaded||s._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(s))){var u=r.type;u==="mousedown"&&Uc(s),this._fireDOMEvent(r,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,s,u){if(r.type==="click"){var d=o({},r);d.type="preclick",this._fireDOMEvent(d,d.type,u)}var p=this._findEventTargets(r,s);if(u){for(var v=[],w=0;w<u.length;w++)u[w].listens(s,!0)&&v.push(u[w]);p=v.concat(p)}if(p.length){s==="contextmenu"&&Et(r);var N=p[0],M={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var F=N.getLatLng&&(!N._radius||N._radius<=10);M.containerPoint=F?this.latLngToContainerPoint(N.getLatLng()):this.mouseEventToContainerPoint(r),M.layerPoint=this.containerPointToLayerPoint(M.containerPoint),M.latlng=F?N.getLatLng():this.layerPointToLatLng(M.layerPoint)}for(w=0;w<p.length;w++)if(p[w].fire(s,M,!0),M.originalEvent._stopped||p[w].options.bubblingMouseEvents===!1&&O(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,s=this._handlers.length;r<s;r++)this._handlers[r].disable()},whenReady:function(r,s){return this._loaded?r.call(s||this,{target:this}):this.on("load",r,s),this},_getMapPanePos:function(){return ar(this._mapPane)||new D(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,s){var u=r&&s!==void 0?this._getNewPixelOrigin(r,s):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,s){var u=this.getSize()._divideBy(2);return this.project(r,s)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,s,u){var d=this._getNewPixelOrigin(u,s);return this.project(r,s)._subtract(d)},_latLngBoundsToNewLayerBounds:function(r,s,u){var d=this._getNewPixelOrigin(u,s);return pe([this.project(r.getSouthWest(),s)._subtract(d),this.project(r.getNorthWest(),s)._subtract(d),this.project(r.getSouthEast(),s)._subtract(d),this.project(r.getNorthEast(),s)._subtract(d)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,s,u){if(!u)return r;var d=this.project(r,s),p=this.getSize().divideBy(2),v=new ne(d.subtract(p),d.add(p)),w=this._getBoundsOffset(v,u,s);return Math.abs(w.x)<=1&&Math.abs(w.y)<=1?r:this.unproject(d.add(w),s)},_limitOffset:function(r,s){if(!s)return r;var u=this.getPixelBounds(),d=new ne(u.min.add(r),u.max.add(r));return r.add(this._getBoundsOffset(d,s))},_getBoundsOffset:function(r,s,u){var d=pe(this.project(s.getNorthEast(),u),this.project(s.getSouthWest(),u)),p=d.min.subtract(r.min),v=d.max.subtract(r.max),w=this._rebound(p.x,-v.x),N=this._rebound(p.y,-v.y);return new D(w,N)},_rebound:function(r,s){return r+s>0?Math.round(r-s)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(s))},_limitZoom:function(r){var s=this.getMinZoom(),u=this.getMaxZoom(),d=R.any3d?this.options.zoomSnap:1;return d&&(r=Math.round(r/d)*d),Math.max(s,Math.min(u,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){it(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,s){var u=this._getCenterOffset(r)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,s),!0)},_createAnimProxy:function(){var r=this._proxy=ee("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(s){var u=yi,d=this._proxy.style[u];sr(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),d===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Pe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),s=this.getZoom();sr(this._proxy,this.project(r,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,s,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var d=this.getZoomScale(s),p=this._getCenterOffset(r)._divideBy(1-1/d);return u.animate!==!0&&!this.getSize().contains(p)?!1:(re(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(r,s,!0)},this),!0)},_animateZoom:function(r,s,u,d){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=s,_e(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:s,noUpdate:d}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&it(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function TC(r,s){return new xe(r,s)}var yn=be.extend({options:{position:"topright"},initialize:function(r){P(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var s=this._map;return s&&s.removeControl(this),this.options.position=r,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var s=this._container=this.onAdd(r),u=this.getPosition(),d=r._controlCorners[u];return _e(s,"leaflet-control"),u.indexOf("bottom")!==-1?d.insertBefore(s,d.firstChild):d.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Pe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),as=function(r){return new yn(r)};xe.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},s="leaflet-",u=this._controlContainer=ee("div",s+"control-container",this._container);function d(p,v){var w=s+p+" "+s+v;r[p+v]=ee("div",w,u)}d("top","left"),d("top","right"),d("bottom","left"),d("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)Pe(this._controlCorners[r]);Pe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var im=yn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,s,u,d){return u<d?-1:d<u?1:0}},initialize:function(r,s,u){P(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var d in r)this._addLayer(r[d],d);for(d in s)this._addLayer(s[d],d,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return yn.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,s){return this._addLayer(r,s),this._map?this._update():this},addOverlay:function(r,s){return this._addLayer(r,s,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var s=this._getLayer(h(r));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){_e(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(_e(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):it(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return it(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",s=this._container=ee("div",r),u=this.options.collapsed;s.setAttribute("aria-haspopup",!0),ss(s),$c(s);var d=this._section=ee("section",r+"-list");u&&(this._map.on("click",this.collapse,this),de(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var p=this._layersLink=ee("a",r+"-toggle",s);p.href="#",p.title="Layers",p.setAttribute("role","button"),de(p,{keydown:function(v){v.keyCode===13&&this._expandSafely()},click:function(v){Et(v),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=ee("div",r+"-base",d),this._separator=ee("div",r+"-separator",d),this._overlaysList=ee("div",r+"-overlays",d),s.appendChild(d)},_getLayer:function(r){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&h(this._layers[s].layer)===r)return this._layers[s]},_addLayer:function(r,s,u){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:s,overlay:u}),this.options.sortLayers&&this._layers.sort(l(function(d,p){return this.options.sortFunction(d.layer,p.layer,d.name,p.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;or(this._baseLayersList),or(this._overlaysList),this._layerControlInputs=[];var r,s,u,d,p=0;for(u=0;u<this._layers.length;u++)d=this._layers[u],this._addItem(d),s=s||d.overlay,r=r||!d.overlay,p+=d.overlay?0:1;return this.options.hideSingleBase&&(r=r&&p>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=s&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var s=this._getLayer(h(r.target)),u=s.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;u&&this._map.fire(u,s)},_createRadioElement:function(r,s){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(s?' checked="checked"':"")+"/>",d=document.createElement("div");return d.innerHTML=u,d.firstChild},_addItem:function(r){var s=document.createElement("label"),u=this._map.hasLayer(r.layer),d;r.overlay?(d=document.createElement("input"),d.type="checkbox",d.className="leaflet-control-layers-selector",d.defaultChecked=u):d=this._createRadioElement("leaflet-base-layers_"+h(this),u),this._layerControlInputs.push(d),d.layerId=h(r.layer),de(d,"click",this._onInputClick,this);var p=document.createElement("span");p.innerHTML=" "+r.name;var v=document.createElement("span");s.appendChild(v),v.appendChild(d),v.appendChild(p);var w=r.overlay?this._overlaysList:this._baseLayersList;return w.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,s,u,d=[],p=[];this._handlingClick=!0;for(var v=r.length-1;v>=0;v--)s=r[v],u=this._getLayer(s.layerId).layer,s.checked?d.push(u):s.checked||p.push(u);for(v=0;v<p.length;v++)this._map.hasLayer(p[v])&&this._map.removeLayer(p[v]);for(v=0;v<d.length;v++)this._map.hasLayer(d[v])||this._map.addLayer(d[v]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,s,u,d=this._map.getZoom(),p=r.length-1;p>=0;p--)s=r[p],u=this._getLayer(s.layerId).layer,s.disabled=u.options.minZoom!==void 0&&d<u.options.minZoom||u.options.maxZoom!==void 0&&d>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,de(r,"click",Et),this.expand();var s=this;setTimeout(function(){ze(r,"click",Et),s._preventClick=!1})}}),PC=function(r,s,u){return new im(r,s,u)},qc=yn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var s="leaflet-control-zoom",u=ee("div",s+" leaflet-bar"),d=this.options;return this._zoomInButton=this._createButton(d.zoomInText,d.zoomInTitle,s+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(d.zoomOutText,d.zoomOutTitle,s+"-out",u,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,s,u,d,p){var v=ee("a",u,d);return v.innerHTML=r,v.href="#",v.title=s,v.setAttribute("role","button"),v.setAttribute("aria-label",s),ss(v),de(v,"click",ur),de(v,"click",p,this),de(v,"click",this._refocusOnMap,this),v},_updateDisabled:function(){var r=this._map,s="leaflet-disabled";it(this._zoomInButton,s),it(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(_e(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(_e(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});xe.mergeOptions({zoomControl:!0}),xe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new qc,this.addControl(this.zoomControl))});var IC=function(r){return new qc(r)},rm=yn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var s="leaflet-control-scale",u=ee("div",s),d=this.options;return this._addScales(d,s+"-line",u),r.on(d.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),u},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,s,u){r.metric&&(this._mScale=ee("div",s,u)),r.imperial&&(this._iScale=ee("div",s,u))},_update:function(){var r=this._map,s=r.getSize().y/2,u=r.distance(r.containerPointToLatLng([0,s]),r.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(u)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var s=this._getRoundNum(r),u=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,u,s/r)},_updateImperial:function(r){var s=r*3.2808399,u,d,p;s>5280?(u=s/5280,d=this._getRoundNum(u),this._updateScale(this._iScale,d+" mi",d/u)):(p=this._getRoundNum(s),this._updateScale(this._iScale,p+" ft",p/s))},_updateScale:function(r,s,u){r.style.width=Math.round(this.options.maxWidth*u)+"px",r.innerHTML=s},_getRoundNum:function(r){var s=Math.pow(10,(Math.floor(r)+"").length-1),u=r/s;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,s*u}}),kC=function(r){return new rm(r)},LC='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Kc=yn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(R.inlineSvg?LC+" ":"")+"Leaflet</a>"},initialize:function(r){P(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=ee("div","leaflet-control-attribution"),ss(this._container);for(var s in r._layers)r._layers[s].getAttribution&&this.addAttribution(r._layers[s].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var s in this._attributions)this._attributions[s]&&r.push(s);var u=[];this.options.prefix&&u.push(this.options.prefix),r.length&&u.push(r.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});xe.mergeOptions({attributionControl:!0}),xe.addInitHook(function(){this.options.attributionControl&&new Kc().addTo(this)});var RC=function(r){return new Kc(r)};yn.Layers=im,yn.Zoom=qc,yn.Scale=rm,yn.Attribution=Kc,as.layers=PC,as.zoom=IC,as.scale=kC,as.attribution=RC;var Fn=be.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Fn.addTo=function(r,s){return r.addHandler(s,this),this};var NC={Events:Je},om=R.touch?"touchstart mousedown":"mousedown",Ei=Me.extend({options:{clickTolerance:3},initialize:function(r,s,u,d){P(this,d),this._element=r,this._dragStartTarget=s||r,this._preventOutline=u},enable:function(){this._enabled||(de(this._dragStartTarget,om,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ei._dragging===this&&this.finishDrag(!0),ze(this._dragStartTarget,om,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!Oc(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){Ei._dragging===this&&this.finishDrag();return}if(!(Ei._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(Ei._dragging=this,this._preventOutline&&Uc(this._element),Fc(),is(),!this._moving)){this.fire("down");var s=r.touches?r.touches[0]:r,u=Qp(this._element);this._startPoint=new D(s.clientX,s.clientY),this._startPos=ar(this._element),this._parentScale=Hc(u);var d=r.type==="mousedown";de(document,d?"mousemove":"touchmove",this._onMove,this),de(document,d?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var s=r.touches&&r.touches.length===1?r.touches[0]:r,u=new D(s.clientX,s.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,Et(r),this._moved||(this.fire("dragstart"),this._moved=!0,_e(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),_e(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),st(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){it(document.body,"leaflet-dragging"),this._lastTarget&&(it(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ze(document,"mousemove touchmove",this._onMove,this),ze(document,"mouseup touchend touchcancel",this._onUp,this),Bc(),rs();var s=this._moved&&this._moving;this._moving=!1,Ei._dragging=!1,s&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function sm(r,s,u){var d,p=[1,4,2,8],v,w,N,M,F,K,le,ve;for(v=0,K=r.length;v<K;v++)r[v]._code=cr(r[v],s);for(N=0;N<4;N++){for(le=p[N],d=[],v=0,K=r.length,w=K-1;v<K;w=v++)M=r[v],F=r[w],M._code&le?F._code&le||(ve=nl(F,M,le,s,u),ve._code=cr(ve,s),d.push(ve)):(F._code&le&&(ve=nl(F,M,le,s,u),ve._code=cr(ve,s),d.push(ve)),d.push(M));r=d}return r}function am(r,s){var u,d,p,v,w,N,M,F,K;if(!r||r.length===0)throw new Error("latlngs not passed");an(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var le=ae([0,0]),ve=ge(r),Nt=ve.getNorthWest().distanceTo(ve.getSouthWest())*ve.getNorthEast().distanceTo(ve.getNorthWest());Nt<1700&&(le=Yc(r));var mt=r.length,ln=[];for(u=0;u<mt;u++){var Ft=ae(r[u]);ln.push(s.project(ae([Ft.lat-le.lat,Ft.lng-le.lng])))}for(N=M=F=0,u=0,d=mt-1;u<mt;d=u++)p=ln[u],v=ln[d],w=p.y*v.x-v.y*p.x,M+=(p.x+v.x)*w,F+=(p.y+v.y)*w,N+=w*3;N===0?K=ln[0]:K=[M/N,F/N];var to=s.unproject(H(K));return ae([to.lat+le.lat,to.lng+le.lng])}function Yc(r){for(var s=0,u=0,d=0,p=0;p<r.length;p++){var v=ae(r[p]);s+=v.lat,u+=v.lng,d++}return ae([s/d,u/d])}var bC={__proto__:null,clipPolygon:sm,polygonCenter:am,centroid:Yc};function lm(r,s){if(!s||!r.length)return r.slice();var u=s*s;return r=OC(r,u),r=AC(r,u),r}function um(r,s,u){return Math.sqrt(ls(r,s,u,!0))}function MC(r,s,u){return ls(r,s,u)}function AC(r,s){var u=r.length,d=typeof Uint8Array<"u"?Uint8Array:Array,p=new d(u);p[0]=p[u-1]=1,Qc(r,p,s,0,u-1);var v,w=[];for(v=0;v<u;v++)p[v]&&w.push(r[v]);return w}function Qc(r,s,u,d,p){var v=0,w,N,M;for(N=d+1;N<=p-1;N++)M=ls(r[N],r[d],r[p],!0),M>v&&(w=N,v=M);v>u&&(s[w]=1,Qc(r,s,u,d,w),Qc(r,s,u,w,p))}function OC(r,s){for(var u=[r[0]],d=1,p=0,v=r.length;d<v;d++)DC(r[d],r[p])>s&&(u.push(r[d]),p=d);return p<v-1&&u.push(r[v-1]),u}var cm;function hm(r,s,u,d,p){var v=d?cm:cr(r,u),w=cr(s,u),N,M,F;for(cm=w;;){if(!(v|w))return[r,s];if(v&w)return!1;N=v||w,M=nl(r,s,N,u,p),F=cr(M,u),N===v?(r=M,v=F):(s=M,w=F)}}function nl(r,s,u,d,p){var v=s.x-r.x,w=s.y-r.y,N=d.min,M=d.max,F,K;return u&8?(F=r.x+v*(M.y-r.y)/w,K=M.y):u&4?(F=r.x+v*(N.y-r.y)/w,K=N.y):u&2?(F=M.x,K=r.y+w*(M.x-r.x)/v):u&1&&(F=N.x,K=r.y+w*(N.x-r.x)/v),new D(F,K,p)}function cr(r,s){var u=0;return r.x<s.min.x?u|=1:r.x>s.max.x&&(u|=2),r.y<s.min.y?u|=4:r.y>s.max.y&&(u|=8),u}function DC(r,s){var u=s.x-r.x,d=s.y-r.y;return u*u+d*d}function ls(r,s,u,d){var p=s.x,v=s.y,w=u.x-p,N=u.y-v,M=w*w+N*N,F;return M>0&&(F=((r.x-p)*w+(r.y-v)*N)/M,F>1?(p=u.x,v=u.y):F>0&&(p+=w*F,v+=N*F)),w=r.x-p,N=r.y-v,d?w*w+N*N:new D(p,v)}function an(r){return!S(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function dm(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),an(r)}function fm(r,s){var u,d,p,v,w,N,M,F;if(!r||r.length===0)throw new Error("latlngs not passed");an(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var K=ae([0,0]),le=ge(r),ve=le.getNorthWest().distanceTo(le.getSouthWest())*le.getNorthEast().distanceTo(le.getNorthWest());ve<1700&&(K=Yc(r));var Nt=r.length,mt=[];for(u=0;u<Nt;u++){var ln=ae(r[u]);mt.push(s.project(ae([ln.lat-K.lat,ln.lng-K.lng])))}for(u=0,d=0;u<Nt-1;u++)d+=mt[u].distanceTo(mt[u+1])/2;if(d===0)F=mt[0];else for(u=0,v=0;u<Nt-1;u++)if(w=mt[u],N=mt[u+1],p=w.distanceTo(N),v+=p,v>d){M=(v-d)/p,F=[N.x-M*(N.x-w.x),N.y-M*(N.y-w.y)];break}var Ft=s.unproject(H(F));return ae([Ft.lat+K.lat,Ft.lng+K.lng])}var zC={__proto__:null,simplify:lm,pointToSegmentDistance:um,closestPointOnSegment:MC,clipSegment:hm,_getEdgeIntersection:nl,_getBitCode:cr,_sqClosestPointOnSegment:ls,isFlat:an,_flat:dm,polylineCenter:fm},Xc={project:function(r){return new D(r.lng,r.lat)},unproject:function(r){return new me(r.y,r.x)},bounds:new ne([-180,-90],[180,90])},Jc={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ne([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var s=Math.PI/180,u=this.R,d=r.lat*s,p=this.R_MINOR/u,v=Math.sqrt(1-p*p),w=v*Math.sin(d),N=Math.tan(Math.PI/4-d/2)/Math.pow((1-w)/(1+w),v/2);return d=-u*Math.log(Math.max(N,1e-10)),new D(r.lng*s*u,d)},unproject:function(r){for(var s=180/Math.PI,u=this.R,d=this.R_MINOR/u,p=Math.sqrt(1-d*d),v=Math.exp(-r.y/u),w=Math.PI/2-2*Math.atan(v),N=0,M=.1,F;N<15&&Math.abs(M)>1e-7;N++)F=p*Math.sin(w),F=Math.pow((1-F)/(1+F),p/2),M=Math.PI/2-2*Math.atan(v*F)-w,w+=M;return new me(w*s,r.x*s/u)}},FC={__proto__:null,LonLat:Xc,Mercator:Jc,SphericalMercator:qo},BC=o({},rn,{code:"EPSG:3395",projection:Jc,transformation:function(){var r=.5/(Math.PI*Jc.R);return nt(r,.5,-r,.5)}()}),pm=o({},rn,{code:"EPSG:4326",projection:Xc,transformation:nt(1/180,1,-1/180,.5)}),jC=o({},Tt,{projection:Xc,transformation:nt(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,s){var u=s.lng-r.lng,d=s.lat-r.lat;return Math.sqrt(u*u+d*d)},infinite:!0});Tt.Earth=rn,Tt.EPSG3395=BC,Tt.EPSG3857=An,Tt.EPSG900913=Ha,Tt.EPSG4326=pm,Tt.Simple=jC;var wn=Me.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[h(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[h(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var s=r.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var u=this.getEvents();s.on(u,this),this.once("remove",function(){s.off(u,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});xe.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var s=h(r);return this._layers[s]?this:(this._layers[s]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var s=h(r);return this._layers[s]?(this._loaded&&r.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return h(r)in this._layers},eachLayer:function(r,s){for(var u in this._layers)r.call(s,this._layers[u]);return this},_addLayers:function(r){r=r?S(r)?r:[r]:[];for(var s=0,u=r.length;s<u;s++)this.addLayer(r[s])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[h(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var s=h(r);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,s=-1/0,u=this._getZoomSpan();for(var d in this._zoomBoundLayers){var p=this._zoomBoundLayers[d].options;r=p.minZoom===void 0?r:Math.min(r,p.minZoom),s=p.maxZoom===void 0?s:Math.max(s,p.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=r===1/0?void 0:r,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Yr=wn.extend({initialize:function(r,s){P(this,s),this._layers={};var u,d;if(r)for(u=0,d=r.length;u<d;u++)this.addLayer(r[u])},addLayer:function(r){var s=this.getLayerId(r);return this._layers[s]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var s=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(r){var s=typeof r=="number"?r:this.getLayerId(r);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var s=Array.prototype.slice.call(arguments,1),u,d;for(u in this._layers)d=this._layers[u],d[r]&&d[r].apply(d,s);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,s){for(var u in this._layers)r.call(s,this._layers[u]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return h(r)}}),UC=function(r,s){return new Yr(r,s)},Gn=Yr.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),Yr.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),Yr.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new He;for(var s in this._layers){var u=this._layers[s];r.extend(u.getBounds?u.getBounds():u.getLatLng())}return r}}),HC=function(r,s){return new Gn(r,s)},Qr=be.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){P(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,s){var u=this._getIconUrl(r);if(!u){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var d=this._createImg(u,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(d,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),d},_setIconStyles:function(r,s){var u=this.options,d=u[s+"Size"];typeof d=="number"&&(d=[d,d]);var p=H(d),v=H(s==="shadow"&&u.shadowAnchor||u.iconAnchor||p&&p.divideBy(2,!0));r.className="leaflet-marker-"+s+" "+(u.className||""),v&&(r.style.marginLeft=-v.x+"px",r.style.marginTop=-v.y+"px"),p&&(r.style.width=p.x+"px",r.style.height=p.y+"px")},_createImg:function(r,s){return s=s||document.createElement("img"),s.src=r,s},_getIconUrl:function(r){return R.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function WC(r){return new Qr(r)}var us=Qr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof us.imagePath!="string"&&(us.imagePath=this._detectIconPath()),(this.options.imagePath||us.imagePath)+Qr.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var s=function(u,d,p){var v=d.exec(u);return v&&v[p]};return r=s(r,/^url\((['"])?(.+)\1\)$/,2),r&&s(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=ee("div","leaflet-default-icon-path",document.body),s=ct(r,"background-image")||ct(r,"backgroundImage");if(document.body.removeChild(r),s=this._stripUrl(s),s)return s;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),mm=Fn.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new Ei(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),_e(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&it(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var s=this._marker,u=s._map,d=this._marker.options.autoPanSpeed,p=this._marker.options.autoPanPadding,v=ar(s._icon),w=u.getPixelBounds(),N=u.getPixelOrigin(),M=pe(w.min._subtract(N).add(p),w.max._subtract(N).subtract(p));if(!M.contains(v)){var F=H((Math.max(M.max.x,v.x)-M.max.x)/(w.max.x-M.max.x)-(Math.min(M.min.x,v.x)-M.min.x)/(w.min.x-M.min.x),(Math.max(M.max.y,v.y)-M.max.y)/(w.max.y-M.max.y)-(Math.min(M.min.y,v.y)-M.min.y)/(w.min.y-M.min.y)).multiplyBy(d);u.panBy(F,{animate:!1}),this._draggable._newPos._add(F),this._draggable._startPos._add(F),st(s._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=re(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(Se(this._panRequest),this._panRequest=re(this._adjustPan.bind(this,r)))},_onDrag:function(r){var s=this._marker,u=s._shadow,d=ar(s._icon),p=s._map.layerPointToLatLng(d);u&&st(u,d),s._latlng=p,r.latlng=p,r.oldLatLng=this._oldLatLng,s.fire("move",r).fire("drag",r)},_onDragEnd:function(r){Se(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),il=wn.extend({options:{icon:new us,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,s){P(this,s),this._latlng=ae(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var s=this._latlng;return this._latlng=ae(r),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=r.icon.createIcon(this._icon),d=!1;u!==this._icon&&(this._icon&&this._removeIcon(),d=!0,r.title&&(u.title=r.title),u.tagName==="IMG"&&(u.alt=r.alt||"")),_e(u,s),r.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&de(u,"focus",this._panOnFocus,this);var p=r.icon.createShadow(this._shadow),v=!1;p!==this._shadow&&(this._removeShadow(),v=!0),p&&(_e(p,s),p.alt=""),this._shadow=p,r.opacity<1&&this._updateOpacity(),d&&this.getPane().appendChild(this._icon),this._initInteraction(),p&&v&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ze(this._icon,"focus",this._panOnFocus,this),Pe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Pe(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&st(this._icon,r),this._shadow&&st(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(_e(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),mm)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new mm(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&sn(this._icon,r),this._shadow&&sn(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var s=this.options.icon.options,u=s.iconSize?H(s.iconSize):H(0,0),d=s.iconAnchor?H(s.iconAnchor):H(0,0);r.panInside(this._latlng,{paddingTopLeft:d,paddingBottomRight:u.subtract(d)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function VC(r,s){return new il(r,s)}var Ci=wn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return P(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),rl=Ci.extend({options:{fill:!0,radius:10},initialize:function(r,s){P(this,s),this._latlng=ae(r),this._radius=this.options.radius},setLatLng:function(r){var s=this._latlng;return this._latlng=ae(r),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var s=r&&r.radius||this._radius;return Ci.prototype.setStyle.call(this,r),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,s=this._radiusY||r,u=this._clickTolerance(),d=[r+u,s+u];this._pxBounds=new ne(this._point.subtract(d),this._point.add(d))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ZC(r,s){return new rl(r,s)}var eh=rl.extend({initialize:function(r,s,u){if(typeof s=="number"&&(s=o({},u,{radius:s})),P(this,s),this._latlng=ae(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new He(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:Ci.prototype.setStyle,_project:function(){var r=this._latlng.lng,s=this._latlng.lat,u=this._map,d=u.options.crs;if(d.distance===rn.distance){var p=Math.PI/180,v=this._mRadius/rn.R/p,w=u.project([s+v,r]),N=u.project([s-v,r]),M=w.add(N).divideBy(2),F=u.unproject(M).lat,K=Math.acos((Math.cos(v*p)-Math.sin(s*p)*Math.sin(F*p))/(Math.cos(s*p)*Math.cos(F*p)))/p;(isNaN(K)||K===0)&&(K=v/Math.cos(Math.PI/180*s)),this._point=M.subtract(u.getPixelOrigin()),this._radius=isNaN(K)?0:M.x-u.project([F,r-K]).x,this._radiusY=M.y-w.y}else{var le=d.unproject(d.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(le).x}this._updateBounds()}});function $C(r,s,u){return new eh(r,s,u)}var qn=Ci.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,s){P(this,s),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var s=1/0,u=null,d=ls,p,v,w=0,N=this._parts.length;w<N;w++)for(var M=this._parts[w],F=1,K=M.length;F<K;F++){p=M[F-1],v=M[F];var le=d(r,p,v,!0);le<s&&(s=le,u=d(r,p,v))}return u&&(u.distance=Math.sqrt(s)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return fm(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,s){return s=s||this._defaultShape(),r=ae(r),s.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new He,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return an(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var s=[],u=an(r),d=0,p=r.length;d<p;d++)u?(s[d]=ae(r[d]),this._bounds.extend(s[d])):s[d]=this._convertLatLngs(r[d]);return s},_project:function(){var r=new ne;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),s=new D(r,r);this._rawPxBounds&&(this._pxBounds=new ne([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(r,s,u){var d=r[0]instanceof me,p=r.length,v,w;if(d){for(w=[],v=0;v<p;v++)w[v]=this._map.latLngToLayerPoint(r[v]),u.extend(w[v]);s.push(w)}else for(v=0;v<p;v++)this._projectLatlngs(r[v],s,u)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,u,d,p,v,w,N,M;for(u=0,p=0,v=this._rings.length;u<v;u++)for(M=this._rings[u],d=0,w=M.length;d<w-1;d++)N=hm(M[d],M[d+1],r,d,!0),N&&(s[p]=s[p]||[],s[p].push(N[0]),(N[1]!==M[d+1]||d===w-2)&&(s[p].push(N[1]),p++))}},_simplifyPoints:function(){for(var r=this._parts,s=this.options.smoothFactor,u=0,d=r.length;u<d;u++)r[u]=lm(r[u],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,s){var u,d,p,v,w,N,M=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(u=0,v=this._parts.length;u<v;u++)for(N=this._parts[u],d=0,w=N.length,p=w-1;d<w;p=d++)if(!(!s&&d===0)&&um(r,N[p],N[d])<=M)return!0;return!1}});function GC(r,s){return new qn(r,s)}qn._flat=dm;var Xr=qn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return am(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var s=qn.prototype._convertLatLngs.call(this,r),u=s.length;return u>=2&&s[0]instanceof me&&s[0].equals(s[u-1])&&s.pop(),s},_setLatLngs:function(r){qn.prototype._setLatLngs.call(this,r),an(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return an(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,s=this.options.weight,u=new D(s,s);if(r=new ne(r.min.subtract(u),r.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var d=0,p=this._rings.length,v;d<p;d++)v=sm(this._rings[d],r,!0),v.length&&this._parts.push(v)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var s=!1,u,d,p,v,w,N,M,F;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(v=0,M=this._parts.length;v<M;v++)for(u=this._parts[v],w=0,F=u.length,N=F-1;w<F;N=w++)d=u[w],p=u[N],d.y>r.y!=p.y>r.y&&r.x<(p.x-d.x)*(r.y-d.y)/(p.y-d.y)+d.x&&(s=!s);return s||qn.prototype._containsPoint.call(this,r,!0)}});function qC(r,s){return new Xr(r,s)}var Kn=Gn.extend({initialize:function(r,s){P(this,s),this._layers={},r&&this.addData(r)},addData:function(r){var s=S(r)?r:r.features,u,d,p;if(s){for(u=0,d=s.length;u<d;u++)p=s[u],(p.geometries||p.geometry||p.features||p.coordinates)&&this.addData(p);return this}var v=this.options;if(v.filter&&!v.filter(r))return this;var w=ol(r,v);return w?(w.feature=ll(r),w.defaultOptions=w.options,this.resetStyle(w),v.onEachFeature&&v.onEachFeature(r,w),this.addLayer(w)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=o({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(s){this._setLayerStyle(s,r)},this)},_setLayerStyle:function(r,s){r.setStyle&&(typeof s=="function"&&(s=s(r.feature)),r.setStyle(s))}});function ol(r,s){var u=r.type==="Feature"?r.geometry:r,d=u?u.coordinates:null,p=[],v=s&&s.pointToLayer,w=s&&s.coordsToLatLng||th,N,M,F,K;if(!d&&!u)return null;switch(u.type){case"Point":return N=w(d),_m(v,r,N,s);case"MultiPoint":for(F=0,K=d.length;F<K;F++)N=w(d[F]),p.push(_m(v,r,N,s));return new Gn(p);case"LineString":case"MultiLineString":return M=sl(d,u.type==="LineString"?0:1,w),new qn(M,s);case"Polygon":case"MultiPolygon":return M=sl(d,u.type==="Polygon"?1:2,w),new Xr(M,s);case"GeometryCollection":for(F=0,K=u.geometries.length;F<K;F++){var le=ol({geometry:u.geometries[F],type:"Feature",properties:r.properties},s);le&&p.push(le)}return new Gn(p);case"FeatureCollection":for(F=0,K=u.features.length;F<K;F++){var ve=ol(u.features[F],s);ve&&p.push(ve)}return new Gn(p);default:throw new Error("Invalid GeoJSON object.")}}function _m(r,s,u,d){return r?r(s,u):new il(u,d&&d.markersInheritOptions&&d)}function th(r){return new me(r[1],r[0],r[2])}function sl(r,s,u){for(var d=[],p=0,v=r.length,w;p<v;p++)w=s?sl(r[p],s-1,u):(u||th)(r[p]),d.push(w);return d}function nh(r,s){return r=ae(r),r.alt!==void 0?[_(r.lng,s),_(r.lat,s),_(r.alt,s)]:[_(r.lng,s),_(r.lat,s)]}function al(r,s,u,d){for(var p=[],v=0,w=r.length;v<w;v++)p.push(s?al(r[v],an(r[v])?0:s-1,u,d):nh(r[v],d));return!s&&u&&p.length>0&&p.push(p[0].slice()),p}function Jr(r,s){return r.feature?o({},r.feature,{geometry:s}):ll(s)}function ll(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var ih={toGeoJSON:function(r){return Jr(this,{type:"Point",coordinates:nh(this.getLatLng(),r)})}};il.include(ih),eh.include(ih),rl.include(ih),qn.include({toGeoJSON:function(r){var s=!an(this._latlngs),u=al(this._latlngs,s?1:0,!1,r);return Jr(this,{type:(s?"Multi":"")+"LineString",coordinates:u})}}),Xr.include({toGeoJSON:function(r){var s=!an(this._latlngs),u=s&&!an(this._latlngs[0]),d=al(this._latlngs,u?2:s?1:0,!0,r);return s||(d=[d]),Jr(this,{type:(u?"Multi":"")+"Polygon",coordinates:d})}}),Yr.include({toMultiPoint:function(r){var s=[];return this.eachLayer(function(u){s.push(u.toGeoJSON(r).geometry.coordinates)}),Jr(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(r){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(r);var u=s==="GeometryCollection",d=[];return this.eachLayer(function(p){if(p.toGeoJSON){var v=p.toGeoJSON(r);if(u)d.push(v.geometry);else{var w=ll(v);w.type==="FeatureCollection"?d.push.apply(d,w.features):d.push(w)}}}),u?Jr(this,{geometries:d,type:"GeometryCollection"}):{type:"FeatureCollection",features:d}}});function gm(r,s){return new Kn(r,s)}var KC=gm,ul=wn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,s,u){this._url=r,this._bounds=ge(s),P(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(_e(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Pe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&wi(this._image),this},bringToBack:function(){return this._map&&Kr(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=ge(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",s=this._image=r?this._url:ee("img");if(_e(s,"leaflet-image-layer"),this._zoomAnimated&&_e(s,"leaflet-zoom-animated"),this.options.className&&_e(s,this.options.className),s.onselectstart=m,s.onmousemove=m,s.onload=l(this.fire,this,"load"),s.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(r){var s=this._map.getZoomScale(r.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;sr(this._image,u,s)},_reset:function(){var r=this._image,s=new ne(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=s.getSize();st(r,s.min),r.style.width=u.x+"px",r.style.height=u.y+"px"},_updateOpacity:function(){sn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),YC=function(r,s,u){return new ul(r,s,u)},vm=ul.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",s=this._image=r?this._url:ee("video");if(_e(s,"leaflet-image-layer"),this._zoomAnimated&&_e(s,"leaflet-zoom-animated"),this.options.className&&_e(s,this.options.className),s.onselectstart=m,s.onmousemove=m,s.onloadeddata=l(this.fire,this,"load"),r){for(var u=s.getElementsByTagName("source"),d=[],p=0;p<u.length;p++)d.push(u[p].src);this._url=u.length>0?d:[s.src];return}S(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var v=0;v<this._url.length;v++){var w=ee("source");w.src=this._url[v],s.appendChild(w)}}});function QC(r,s,u){return new vm(r,s,u)}var ym=ul.extend({_initImage:function(){var r=this._image=this._url;_e(r,"leaflet-image-layer"),this._zoomAnimated&&_e(r,"leaflet-zoom-animated"),this.options.className&&_e(r,this.options.className),r.onselectstart=m,r.onmousemove=m}});function XC(r,s,u){return new ym(r,s,u)}var Bn=wn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,s){r&&(r instanceof me||S(r))?(this._latlng=ae(r),P(this,s)):(P(this,r),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&sn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&sn(this._container,1),this.bringToFront(),this.options.interactive&&(_e(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(sn(this._container,0),this._removeTimeout=setTimeout(l(Pe,void 0,this._container),200)):Pe(this._container),this.options.interactive&&(it(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=ae(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&wi(this._container),this},bringToBack:function(){return this._map&&Kr(this._container),this},_prepareOpen:function(r){var s=this._source;if(!s._map)return!1;if(s instanceof Gn){s=null;var u=this._source._layers;for(var d in u)if(u[d]._map){s=u[d];break}if(!s)return!1;this._source=s}if(!r)if(s.getCenter)r=s.getCenter();else if(s.getLatLng)r=s.getLatLng();else if(s.getBounds)r=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")r.innerHTML=s;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),s=H(this.options.offset),u=this._getAnchor();this._zoomAnimated?st(this._container,r.add(u)):s=s.add(r).add(u);var d=this._containerBottom=-s.y,p=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=d+"px",this._container.style.left=p+"px"}},_getAnchor:function(){return[0,0]}});xe.include({_initOverlay:function(r,s,u,d){var p=s;return p instanceof r||(p=new r(d).setContent(s)),u&&p.setLatLng(u),p}}),wn.include({_initOverlay:function(r,s,u,d){var p=u;return p instanceof r?(P(p,d),p._source=this):(p=s&&!d?s:new r(d,this),p.setContent(u)),p}});var cl=Bn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,Bn.prototype.openOn.call(this,r)},onAdd:function(r){Bn.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ci||this._source.on("preclick",lr))},onRemove:function(r){Bn.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ci||this._source.off("preclick",lr))},getEvents:function(){var r=Bn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",s=this._container=ee("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=ee("div",r+"-content-wrapper",s);if(this._contentNode=ee("div",r+"-content",u),ss(s),$c(this._contentNode),de(s,"contextmenu",lr),this._tipContainer=ee("div",r+"-tip-container",s),this._tip=ee("div",r+"-tip",this._tipContainer),this.options.closeButton){var d=this._closeButton=ee("a",r+"-close-button",s);d.setAttribute("role","button"),d.setAttribute("aria-label","Close popup"),d.href="#close",d.innerHTML='<span aria-hidden="true">&#215;</span>',de(d,"click",function(p){Et(p),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,s=r.style;s.width="",s.whiteSpace="nowrap";var u=r.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),s.width=u+1+"px",s.whiteSpace="",s.height="";var d=r.offsetHeight,p=this.options.maxHeight,v="leaflet-popup-scrolled";p&&d>p?(s.height=p+"px",_e(r,v)):it(r,v),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),u=this._getAnchor();st(this._container,s.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,s=parseInt(ct(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+s,d=this._containerWidth,p=new D(this._containerLeft,-u-this._containerBottom);p._add(ar(this._container));var v=r.layerPointToContainerPoint(p),w=H(this.options.autoPanPadding),N=H(this.options.autoPanPaddingTopLeft||w),M=H(this.options.autoPanPaddingBottomRight||w),F=r.getSize(),K=0,le=0;v.x+d+M.x>F.x&&(K=v.x+d-F.x+M.x),v.x-K-N.x<0&&(K=v.x-N.x),v.y+u+M.y>F.y&&(le=v.y+u-F.y+M.y),v.y-le-N.y<0&&(le=v.y-N.y),(K||le)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([K,le]))}},_getAnchor:function(){return H(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),JC=function(r,s){return new cl(r,s)};xe.mergeOptions({closePopupOnClick:!0}),xe.include({openPopup:function(r,s,u){return this._initOverlay(cl,r,s,u).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),wn.include({bindPopup:function(r,s){return this._popup=this._initOverlay(cl,this._popup,r,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof Gn||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){ur(r);var s=r.layer||r.target;if(this._popup._source===s&&!(s instanceof Ci)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=s,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var hl=Bn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){Bn.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){Bn.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=Bn.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",s=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ee("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var s,u,d=this._map,p=this._container,v=d.latLngToContainerPoint(d.getCenter()),w=d.layerPointToContainerPoint(r),N=this.options.direction,M=p.offsetWidth,F=p.offsetHeight,K=H(this.options.offset),le=this._getAnchor();N==="top"?(s=M/2,u=F):N==="bottom"?(s=M/2,u=0):N==="center"?(s=M/2,u=F/2):N==="right"?(s=0,u=F/2):N==="left"?(s=M,u=F/2):w.x<v.x?(N="right",s=0,u=F/2):(N="left",s=M+(K.x+le.x)*2,u=F/2),r=r.subtract(H(s,u,!0)).add(K).add(le),it(p,"leaflet-tooltip-right"),it(p,"leaflet-tooltip-left"),it(p,"leaflet-tooltip-top"),it(p,"leaflet-tooltip-bottom"),_e(p,"leaflet-tooltip-"+N),st(p,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&sn(this._container,r)},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(s)},_getAnchor:function(){return H(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),e1=function(r,s){return new hl(r,s)};xe.include({openTooltip:function(r,s,u){return this._initOverlay(hl,r,s,u).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),wn.include({bindTooltip:function(r,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(hl,this._tooltip,r,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var s=r?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[s](u),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof Gn||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var s=typeof r.getElement=="function"&&r.getElement();s&&(de(s,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),de(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var s=typeof r.getElement=="function"&&r.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var s=r.latlng,u,d;this._tooltip.options.sticky&&r.originalEvent&&(u=this._map.mouseEventToContainerPoint(r.originalEvent),d=this._map.containerPointToLayerPoint(u),s=this._map.layerPointToLatLng(d)),this._tooltip.setLatLng(s)}});var wm=Qr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var s=r&&r.tagName==="DIV"?r:document.createElement("div"),u=this.options;if(u.html instanceof Element?(or(s),s.appendChild(u.html)):s.innerHTML=u.html!==!1?u.html:"",u.bgPos){var d=H(u.bgPos);s.style.backgroundPosition=-d.x+"px "+-d.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function t1(r){return new wm(r)}Qr.Default=us;var cs=wn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:R.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){P(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),Pe(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(wi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Kr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof D?r:new D(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var s=this.getPane().children,u=-r(-1/0,1/0),d=0,p=s.length,v;d<p;d++)v=s[d].style.zIndex,s[d]!==this._container&&v&&(u=r(u,+v));isFinite(u)&&(this.options.zIndex=u+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!R.ielt9){sn(this._container,this.options.opacity);var r=+new Date,s=!1,u=!1;for(var d in this._tiles){var p=this._tiles[d];if(!(!p.current||!p.loaded)){var v=Math.min(1,(r-p.loaded)/200);sn(p.el,v),v<1?s=!0:(p.active?u=!0:this._onOpaqueTile(p),p.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),s&&(Se(this._fadeFrame),this._fadeFrame=re(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=ee("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,s=this.options.maxZoom;if(r!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===r?(this._levels[u].el.style.zIndex=s-Math.abs(r-u),this._onUpdateLevel(u)):(Pe(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var d=this._levels[r],p=this._map;return d||(d=this._levels[r]={},d.el=ee("div","leaflet-tile-container leaflet-zoom-animated",this._container),d.el.style.zIndex=s,d.origin=p.project(p.unproject(p.getPixelOrigin()),r).round(),d.zoom=r,this._setZoomTransform(d,p.getCenter(),p.getZoom()),m(d.el.offsetWidth),this._onCreateLevel(d)),this._level=d,d}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var r,s,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)s=this._tiles[r],s.retain=s.current;for(r in this._tiles)if(s=this._tiles[r],s.current&&!s.active){var d=s.coords;this._retainParent(d.x,d.y,d.z,d.z-5)||this._retainChildren(d.x,d.y,d.z,d.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var s in this._tiles)this._tiles[s].coords.z===r&&this._removeTile(s)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)Pe(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,s,u,d){var p=Math.floor(r/2),v=Math.floor(s/2),w=u-1,N=new D(+p,+v);N.z=+w;var M=this._tileCoordsToKey(N),F=this._tiles[M];return F&&F.active?(F.retain=!0,!0):(F&&F.loaded&&(F.retain=!0),w>d?this._retainParent(p,v,w,d):!1)},_retainChildren:function(r,s,u,d){for(var p=2*r;p<2*r+2;p++)for(var v=2*s;v<2*s+2;v++){var w=new D(p,v);w.z=u+1;var N=this._tileCoordsToKey(w),M=this._tiles[N];if(M&&M.active){M.retain=!0;continue}else M&&M.loaded&&(M.retain=!0);u+1<d&&this._retainChildren(p,v,u+1,d)}},_resetView:function(r){var s=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var s=this.options;return s.minNativeZoom!==void 0&&r<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<r?s.maxNativeZoom:r},_setView:function(r,s,u,d){var p=Math.round(s);this.options.maxZoom!==void 0&&p>this.options.maxZoom||this.options.minZoom!==void 0&&p<this.options.minZoom?p=void 0:p=this._clampZoom(p);var v=this.options.updateWhenZooming&&p!==this._tileZoom;(!d||v)&&(this._tileZoom=p,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),p!==void 0&&this._update(r),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(r,s)},_setZoomTransforms:function(r,s){for(var u in this._levels)this._setZoomTransform(this._levels[u],r,s)},_setZoomTransform:function(r,s,u){var d=this._map.getZoomScale(u,r.zoom),p=r.origin.multiplyBy(d).subtract(this._map._getNewPixelOrigin(s,u)).round();R.any3d?sr(r.el,p,d):st(r.el,p)},_resetGrid:function(){var r=this._map,s=r.options.crs,u=this._tileSize=this.getTileSize(),d=this._tileZoom,p=this._map.getPixelWorldBounds(this._tileZoom);p&&(this._globalTileRange=this._pxBoundsToTileRange(p)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,s.wrapLng[0]],d).x/u.x),Math.ceil(r.project([0,s.wrapLng[1]],d).x/u.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([s.wrapLat[0],0],d).y/u.x),Math.ceil(r.project([s.wrapLat[1],0],d).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var s=this._map,u=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),d=s.getZoomScale(u,this._tileZoom),p=s.project(r,this._tileZoom).floor(),v=s.getSize().divideBy(d*2);return new ne(p.subtract(v),p.add(v))},_update:function(r){var s=this._map;if(s){var u=this._clampZoom(s.getZoom());if(r===void 0&&(r=s.getCenter()),this._tileZoom!==void 0){var d=this._getTiledPixelBounds(r),p=this._pxBoundsToTileRange(d),v=p.getCenter(),w=[],N=this.options.keepBuffer,M=new ne(p.getBottomLeft().subtract([N,-N]),p.getTopRight().add([N,-N]));if(!(isFinite(p.min.x)&&isFinite(p.min.y)&&isFinite(p.max.x)&&isFinite(p.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var F in this._tiles){var K=this._tiles[F].coords;(K.z!==this._tileZoom||!M.contains(new D(K.x,K.y)))&&(this._tiles[F].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(r,u);return}for(var le=p.min.y;le<=p.max.y;le++)for(var ve=p.min.x;ve<=p.max.x;ve++){var Nt=new D(ve,le);if(Nt.z=this._tileZoom,!!this._isValidTile(Nt)){var mt=this._tiles[this._tileCoordsToKey(Nt)];mt?mt.current=!0:w.push(Nt)}}if(w.sort(function(Ft,to){return Ft.distanceTo(v)-to.distanceTo(v)}),w.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ln=document.createDocumentFragment();for(ve=0;ve<w.length;ve++)this._addTile(w[ve],ln);this._level.el.appendChild(ln)}}}},_isValidTile:function(r){var s=this._map.options.crs;if(!s.infinite){var u=this._globalTileRange;if(!s.wrapLng&&(r.x<u.min.x||r.x>u.max.x)||!s.wrapLat&&(r.y<u.min.y||r.y>u.max.y))return!1}if(!this.options.bounds)return!0;var d=this._tileCoordsToBounds(r);return ge(this.options.bounds).overlaps(d)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var s=this._map,u=this.getTileSize(),d=r.scaleBy(u),p=d.add(u),v=s.unproject(d,r.z),w=s.unproject(p,r.z);return[v,w]},_tileCoordsToBounds:function(r){var s=this._tileCoordsToNwSe(r),u=new He(s[0],s[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var s=r.split(":"),u=new D(+s[0],+s[1]);return u.z=+s[2],u},_removeTile:function(r){var s=this._tiles[r];s&&(Pe(s.el),delete this._tiles[r],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){_e(r,"leaflet-tile");var s=this.getTileSize();r.style.width=s.x+"px",r.style.height=s.y+"px",r.onselectstart=m,r.onmousemove=m,R.ielt9&&this.options.opacity<1&&sn(r,this.options.opacity)},_addTile:function(r,s){var u=this._getTilePos(r),d=this._tileCoordsToKey(r),p=this.createTile(this._wrapCoords(r),l(this._tileReady,this,r));this._initTile(p),this.createTile.length<2&&re(l(this._tileReady,this,r,null,p)),st(p,u),this._tiles[d]={el:p,coords:r,current:!0},s.appendChild(p),this.fire("tileloadstart",{tile:p,coords:r})},_tileReady:function(r,s,u){s&&this.fire("tileerror",{error:s,tile:u,coords:r});var d=this._tileCoordsToKey(r);u=this._tiles[d],u&&(u.loaded=+new Date,this._map._fadeAnimated?(sn(u.el,0),Se(this._fadeFrame),this._fadeFrame=re(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),s||(_e(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),R.ielt9||!this._map._fadeAnimated?re(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var s=new D(this._wrapX?g(r.x,this._wrapX):r.x,this._wrapY?g(r.y,this._wrapY):r.y);return s.z=r.z,s},_pxBoundsToTileRange:function(r){var s=this.getTileSize();return new ne(r.min.unscaleBy(s).floor(),r.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function n1(r){return new cs(r)}var eo=cs.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,s){this._url=r,s=P(this,s),s.detectRetina&&R.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,s){return this._url===r&&s===void 0&&(s=!0),this._url=r,s||this.redraw(),this},createTile:function(r,s){var u=document.createElement("img");return de(u,"load",l(this._tileOnLoad,this,s,u)),de(u,"error",l(this._tileOnError,this,s,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(r),u},getTileUrl:function(r){var s={r:R.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-r.y;this.options.tms&&(s.y=u),s["-y"]=u}return y(this._url,o(s,this.options))},_tileOnLoad:function(r,s){R.ielt9?setTimeout(l(r,this,null,s),0):r(null,s)},_tileOnError:function(r,s,u){var d=this.options.errorTileUrl;d&&s.getAttribute("src")!==d&&(s.src=d),r(u,s)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,s=this.options.maxZoom,u=this.options.zoomReverse,d=this.options.zoomOffset;return u&&(r=s-r),r+d},_getSubdomain:function(r){var s=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var r,s;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(s=this._tiles[r].el,s.onload=m,s.onerror=m,!s.complete)){s.src=j;var u=this._tiles[r].coords;Pe(s),delete this._tiles[r],this.fire("tileabort",{tile:s,coords:u})}},_removeTile:function(r){var s=this._tiles[r];if(s)return s.el.setAttribute("src",j),cs.prototype._removeTile.call(this,r)},_tileReady:function(r,s,u){if(!(!this._map||u&&u.getAttribute("src")===j))return cs.prototype._tileReady.call(this,r,s,u)}});function Em(r,s){return new eo(r,s)}var Cm=eo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,s){this._url=r;var u=o({},this.defaultWmsParams);for(var d in s)d in this.options||(u[d]=s[d]);s=P(this,s);var p=s.detectRetina&&R.retina?2:1,v=this.getTileSize();u.width=v.x*p,u.height=v.y*p,this.wmsParams=u},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,eo.prototype.onAdd.call(this,r)},getTileUrl:function(r){var s=this._tileCoordsToNwSe(r),u=this._crs,d=pe(u.project(s[0]),u.project(s[1])),p=d.min,v=d.max,w=(this._wmsVersion>=1.3&&this._crs===pm?[p.y,p.x,v.y,v.x]:[p.x,p.y,v.x,v.y]).join(","),N=eo.prototype.getTileUrl.call(this,r);return N+z(this.wmsParams,N,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+w},setParams:function(r,s){return o(this.wmsParams,r),s||this.redraw(),this}});function i1(r,s){return new Cm(r,s)}eo.WMS=Cm,Em.wms=i1;var Yn=wn.extend({options:{padding:.1},initialize:function(r){P(this,r),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),_e(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,s){var u=this._map.getZoomScale(s,this._zoom),d=this._map.getSize().multiplyBy(.5+this.options.padding),p=this._map.project(this._center,s),v=d.multiplyBy(-u).add(p).subtract(this._map._getNewPixelOrigin(r,s));R.any3d?sr(this._container,v,u):st(this._container,v)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,s=this._map.getSize(),u=this._map.containerPointToLayerPoint(s.multiplyBy(-r)).round();this._bounds=new ne(u,u.add(s.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Sm=Yn.extend({options:{tolerance:0},getEvents:function(){var r=Yn.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Yn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");de(r,"mousemove",this._onMouseMove,this),de(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),de(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){Se(this._redrawRequest),delete this._ctx,Pe(this._container),ze(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var s in this._layers)r=this._layers[s],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Yn.prototype._update.call(this);var r=this._bounds,s=this._container,u=r.getSize(),d=R.retina?2:1;st(s,r.min),s.width=d*u.x,s.height=d*u.y,s.style.width=u.x+"px",s.style.height=u.y+"px",R.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){Yn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[h(r)]=r;var s=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var s=r._order,u=s.next,d=s.prev;u?u.prev=d:this._drawLast=d,d?d.next=u:this._drawFirst=u,delete r._order,delete this._layers[h(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var s=r.options.dashArray.split(/[, ]+/),u=[],d,p;for(p=0;p<s.length;p++){if(d=Number(s[p]),isNaN(d))return;u.push(d)}r.options._dashArray=u}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||re(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var s=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ne,this._redrawBounds.extend(r._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(r._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var s=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,s=this._redrawBounds;if(this._ctx.save(),s){var u=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var d=this._drawFirst;d;d=d.next)r=d.layer,(!s||r._pxBounds&&r._pxBounds.intersects(s))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,s){if(this._drawing){var u,d,p,v,w=r._parts,N=w.length,M=this._ctx;if(N){for(M.beginPath(),u=0;u<N;u++){for(d=0,p=w[u].length;d<p;d++)v=w[u][d],M[d?"lineTo":"moveTo"](v.x,v.y);s&&M.closePath()}this._fillStroke(M,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var s=r._point,u=this._ctx,d=Math.max(Math.round(r._radius),1),p=(Math.max(Math.round(r._radiusY),1)||d)/d;p!==1&&(u.save(),u.scale(1,p)),u.beginPath(),u.arc(s.x,s.y/p,d,0,Math.PI*2,!1),p!==1&&u.restore(),this._fillStroke(u,r)}},_fillStroke:function(r,s){var u=s.options;u.fill&&(r.globalAlpha=u.fillOpacity,r.fillStyle=u.fillColor||u.color,r.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(r.setLineDash&&r.setLineDash(s.options&&s.options._dashArray||[]),r.globalAlpha=u.opacity,r.lineWidth=u.weight,r.strokeStyle=u.color,r.lineCap=u.lineCap,r.lineJoin=u.lineJoin,r.stroke())},_onClick:function(r){for(var s=this._map.mouseEventToLayerPoint(r),u,d,p=this._drawFirst;p;p=p.next)u=p.layer,u.options.interactive&&u._containsPoint(s)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(u))&&(d=u);this._fireEvent(d?[d]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,s)}},_handleMouseOut:function(r){var s=this._hoveredLayer;s&&(it(this._container,"leaflet-interactive"),this._fireEvent([s],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,s){if(!this._mouseHoverThrottled){for(var u,d,p=this._drawFirst;p;p=p.next)u=p.layer,u.options.interactive&&u._containsPoint(s)&&(d=u);d!==this._hoveredLayer&&(this._handleMouseOut(r),d&&(_e(this._container,"leaflet-interactive"),this._fireEvent([d],r,"mouseover"),this._hoveredLayer=d)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,s,u){this._map._fireDOMEvent(s,u||s.type,r)},_bringToFront:function(r){var s=r._order;if(s){var u=s.next,d=s.prev;if(u)u.prev=d;else return;d?d.next=u:u&&(this._drawFirst=u),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(r)}},_bringToBack:function(r){var s=r._order;if(s){var u=s.next,d=s.prev;if(d)d.next=u;else return;u?u.prev=d:d&&(this._drawLast=d),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(r)}}});function xm(r){return R.canvas?new Sm(r):null}var hs=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),r1={_initContainer:function(){this._container=ee("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Yn.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var s=r._container=hs("shape");_e(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",r._path=hs("path"),s.appendChild(r._path),this._updateStyle(r),this._layers[h(r)]=r},_addPath:function(r){var s=r._container;this._container.appendChild(s),r.options.interactive&&r.addInteractiveTarget(s)},_removePath:function(r){var s=r._container;Pe(s),r.removeInteractiveTarget(s),delete this._layers[h(r)]},_updateStyle:function(r){var s=r._stroke,u=r._fill,d=r.options,p=r._container;p.stroked=!!d.stroke,p.filled=!!d.fill,d.stroke?(s||(s=r._stroke=hs("stroke")),p.appendChild(s),s.weight=d.weight+"px",s.color=d.color,s.opacity=d.opacity,d.dashArray?s.dashStyle=S(d.dashArray)?d.dashArray.join(" "):d.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=d.lineCap.replace("butt","flat"),s.joinstyle=d.lineJoin):s&&(p.removeChild(s),r._stroke=null),d.fill?(u||(u=r._fill=hs("fill")),p.appendChild(u),u.color=d.fillColor||d.color,u.opacity=d.fillOpacity):u&&(p.removeChild(u),r._fill=null)},_updateCircle:function(r){var s=r._point.round(),u=Math.round(r._radius),d=Math.round(r._radiusY||u);this._setPath(r,r._empty()?"M0 0":"AL "+s.x+","+s.y+" "+u+","+d+" 0,"+65535*360)},_setPath:function(r,s){r._path.v=s},_bringToFront:function(r){wi(r._container)},_bringToBack:function(r){Kr(r._container)}},dl=R.vml?hs:Wa,ds=Yn.extend({_initContainer:function(){this._container=dl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=dl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Pe(this._container),ze(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Yn.prototype._update.call(this);var r=this._bounds,s=r.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,u.setAttribute("width",s.x),u.setAttribute("height",s.y)),st(u,r.min),u.setAttribute("viewBox",[r.min.x,r.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(r){var s=r._path=dl("path");r.options.className&&_e(s,r.options.className),r.options.interactive&&_e(s,"leaflet-interactive"),this._updateStyle(r),this._layers[h(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){Pe(r._path),r.removeInteractiveTarget(r._path),delete this._layers[h(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var s=r._path,u=r.options;s&&(u.stroke?(s.setAttribute("stroke",u.color),s.setAttribute("stroke-opacity",u.opacity),s.setAttribute("stroke-width",u.weight),s.setAttribute("stroke-linecap",u.lineCap),s.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?s.setAttribute("stroke-dasharray",u.dashArray):s.removeAttribute("stroke-dasharray"),u.dashOffset?s.setAttribute("stroke-dashoffset",u.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),u.fill?(s.setAttribute("fill",u.fillColor||u.color),s.setAttribute("fill-opacity",u.fillOpacity),s.setAttribute("fill-rule",u.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(r,s){this._setPath(r,On(r._parts,s))},_updateCircle:function(r){var s=r._point,u=Math.max(Math.round(r._radius),1),d=Math.max(Math.round(r._radiusY),1)||u,p="a"+u+","+d+" 0 1,0 ",v=r._empty()?"M0 0":"M"+(s.x-u)+","+s.y+p+u*2+",0 "+p+-u*2+",0 ";this._setPath(r,v)},_setPath:function(r,s){r._path.setAttribute("d",s)},_bringToFront:function(r){wi(r._path)},_bringToBack:function(r){Kr(r._path)}});R.vml&&ds.include(r1);function Tm(r){return R.svg||R.vml?new ds(r):null}xe.include({getRenderer:function(r){var s=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var s=this._paneRenderers[r];return s===void 0&&(s=this._createRenderer({pane:r}),this._paneRenderers[r]=s),s},_createRenderer:function(r){return this.options.preferCanvas&&xm(r)||Tm(r)}});var Pm=Xr.extend({initialize:function(r,s){Xr.prototype.initialize.call(this,this._boundsToLatLngs(r),s)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=ge(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function o1(r,s){return new Pm(r,s)}ds.create=dl,ds.pointsToPath=On,Kn.geometryToLayer=ol,Kn.coordsToLatLng=th,Kn.coordsToLatLngs=sl,Kn.latLngToCoords=nh,Kn.latLngsToCoords=al,Kn.getFeature=Jr,Kn.asFeature=ll,xe.mergeOptions({boxZoom:!0});var Im=Fn.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){de(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ze(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Pe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),is(),Fc(),this._startPoint=this._map.mouseEventToContainerPoint(r),de(document,{contextmenu:ur,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=ee("div","leaflet-zoom-box",this._container),_e(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var s=new ne(this._point,this._startPoint),u=s.getSize();st(this._box,s.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(Pe(this._box),it(this._container,"leaflet-crosshair")),rs(),Bc(),ze(document,{contextmenu:ur,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var s=new He(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});xe.addInitHook("addHandler","boxZoom",Im),xe.mergeOptions({doubleClickZoom:!0});var km=Fn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var s=this._map,u=s.getZoom(),d=s.options.zoomDelta,p=r.originalEvent.shiftKey?u-d:u+d;s.options.doubleClickZoom==="center"?s.setZoom(p):s.setZoomAround(r.containerPoint,p)}});xe.addInitHook("addHandler","doubleClickZoom",km),xe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Lm=Fn.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new Ei(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}_e(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){it(this._map._container,"leaflet-grab"),it(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=ge(this._map.options.maxBounds);this._offsetLimit=pe(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var s=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(s),this._prunePositions(s)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,s){return r-(r-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;r.x<s.min.x&&(r.x=this._viscousLimit(r.x,s.min.x)),r.y<s.min.y&&(r.y=this._viscousLimit(r.y,s.min.y)),r.x>s.max.x&&(r.x=this._viscousLimit(r.x,s.max.x)),r.y>s.max.y&&(r.y=this._viscousLimit(r.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,s=Math.round(r/2),u=this._initialWorldOffset,d=this._draggable._newPos.x,p=(d-s+u)%r+s-u,v=(d+s+u)%r-s-u,w=Math.abs(p+u)<Math.abs(v+u)?p:v;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=w},_onDragEnd:function(r){var s=this._map,u=s.options,d=!u.inertia||r.noInertia||this._times.length<2;if(s.fire("dragend",r),d)s.fire("moveend");else{this._prunePositions(+new Date);var p=this._lastPos.subtract(this._positions[0]),v=(this._lastTime-this._times[0])/1e3,w=u.easeLinearity,N=p.multiplyBy(w/v),M=N.distanceTo([0,0]),F=Math.min(u.inertiaMaxSpeed,M),K=N.multiplyBy(F/M),le=F/(u.inertiaDeceleration*w),ve=K.multiplyBy(-le/2).round();!ve.x&&!ve.y?s.fire("moveend"):(ve=s._limitOffset(ve,s.options.maxBounds),re(function(){s.panBy(ve,{duration:le,easeLinearity:w,noMoveStart:!0,animate:!0})}))}}});xe.addInitHook("addHandler","dragging",Lm),xe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Rm=Fn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),de(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ze(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,s=document.documentElement,u=r.scrollTop||s.scrollTop,d=r.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(d,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var s=this._panKeys={},u=this.keyCodes,d,p;for(d=0,p=u.left.length;d<p;d++)s[u.left[d]]=[-1*r,0];for(d=0,p=u.right.length;d<p;d++)s[u.right[d]]=[r,0];for(d=0,p=u.down.length;d<p;d++)s[u.down[d]]=[0,r];for(d=0,p=u.up.length;d<p;d++)s[u.up[d]]=[0,-1*r]},_setZoomDelta:function(r){var s=this._zoomKeys={},u=this.keyCodes,d,p;for(d=0,p=u.zoomIn.length;d<p;d++)s[u.zoomIn[d]]=r;for(d=0,p=u.zoomOut.length;d<p;d++)s[u.zoomOut[d]]=-r},_addHooks:function(){de(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ze(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var s=r.keyCode,u=this._map,d;if(s in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(d=this._panKeys[s],r.shiftKey&&(d=H(d).multiplyBy(3)),u.options.maxBounds&&(d=u._limitOffset(H(d),u.options.maxBounds)),u.options.worldCopyJump){var p=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(d)));u.panTo(p)}else u.panBy(d)}else if(s in this._zoomKeys)u.setZoom(u.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;ur(r)}}});xe.addInitHook("addHandler","keyboard",Rm),xe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Nm=Fn.extend({addHooks:function(){de(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ze(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var s=tm(r),u=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var d=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),d),ur(r)},_performZoom:function(){var r=this._map,s=r.getZoom(),u=this._map.options.zoomSnap||0;r._stop();var d=this._delta/(this._map.options.wheelPxPerZoomLevel*4),p=4*Math.log(2/(1+Math.exp(-Math.abs(d))))/Math.LN2,v=u?Math.ceil(p/u)*u:p,w=r._limitZoom(s+(this._delta>0?v:-v))-s;this._delta=0,this._startTime=null,w&&(r.options.scrollWheelZoom==="center"?r.setZoom(s+w):r.setZoomAround(this._lastMousePos,s+w))}});xe.addInitHook("addHandler","scrollWheelZoom",Nm);var s1=600;xe.mergeOptions({tapHold:R.touchNative&&R.safari&&R.mobile,tapTolerance:15});var bm=Fn.extend({addHooks:function(){de(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ze(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var s=r.touches[0];this._startPos=this._newPos=new D(s.clientX,s.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(de(document,"touchend",Et),de(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),s1),de(document,"touchend touchcancel contextmenu",this._cancel,this),de(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){ze(document,"touchend",Et),ze(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),ze(document,"touchend touchcancel contextmenu",this._cancel,this),ze(document,"touchmove",this._onMove,this)},_onMove:function(r){var s=r.touches[0];this._newPos=new D(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,s){var u=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});u._simulated=!0,s.target.dispatchEvent(u)}});xe.addInitHook("addHandler","tapHold",bm),xe.mergeOptions({touchZoom:R.touch,bounceAtZoomLimits:!0});var Mm=Fn.extend({addHooks:function(){_e(this._map._container,"leaflet-touch-zoom"),de(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){it(this._map._container,"leaflet-touch-zoom"),ze(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var s=this._map;if(!(!r.touches||r.touches.length!==2||s._animatingZoom||this._zooming)){var u=s.mouseEventToContainerPoint(r.touches[0]),d=s.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(u.add(d)._divideBy(2))),this._startDist=u.distanceTo(d),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),de(document,"touchmove",this._onTouchMove,this),de(document,"touchend touchcancel",this._onTouchEnd,this),Et(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var s=this._map,u=s.mouseEventToContainerPoint(r.touches[0]),d=s.mouseEventToContainerPoint(r.touches[1]),p=u.distanceTo(d)/this._startDist;if(this._zoom=s.getScaleZoom(p,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&p<1||this._zoom>s.getMaxZoom()&&p>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,p===1)return}else{var v=u._add(d)._divideBy(2)._subtract(this._centerPoint);if(p===1&&v.x===0&&v.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(v),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),Se(this._animRequest);var w=l(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=re(w,this,!0),Et(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Se(this._animRequest),ze(document,"touchmove",this._onTouchMove,this),ze(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});xe.addInitHook("addHandler","touchZoom",Mm),xe.BoxZoom=Im,xe.DoubleClickZoom=km,xe.Drag=Lm,xe.Keyboard=Rm,xe.ScrollWheelZoom=Nm,xe.TapHold=bm,xe.TouchZoom=Mm,n.Bounds=ne,n.Browser=R,n.CRS=Tt,n.Canvas=Sm,n.Circle=eh,n.CircleMarker=rl,n.Class=be,n.Control=yn,n.DivIcon=wm,n.DivOverlay=Bn,n.DomEvent=xC,n.DomUtil=CC,n.Draggable=Ei,n.Evented=Me,n.FeatureGroup=Gn,n.GeoJSON=Kn,n.GridLayer=cs,n.Handler=Fn,n.Icon=Qr,n.ImageOverlay=ul,n.LatLng=me,n.LatLngBounds=He,n.Layer=wn,n.LayerGroup=Yr,n.LineUtil=zC,n.Map=xe,n.Marker=il,n.Mixin=NC,n.Path=Ci,n.Point=D,n.PolyUtil=bC,n.Polygon=Xr,n.Polyline=qn,n.Popup=cl,n.PosAnimation=nm,n.Projection=FC,n.Rectangle=Pm,n.Renderer=Yn,n.SVG=ds,n.SVGOverlay=ym,n.TileLayer=eo,n.Tooltip=hl,n.Transformation=Ko,n.Util=ke,n.VideoOverlay=vm,n.bind=l,n.bounds=pe,n.canvas=xm,n.circle=$C,n.circleMarker=ZC,n.control=as,n.divIcon=t1,n.extend=o,n.featureGroup=HC,n.geoJSON=gm,n.geoJson=KC,n.gridLayer=n1,n.icon=WC,n.imageOverlay=YC,n.latLng=ae,n.latLngBounds=ge,n.layerGroup=UC,n.map=TC,n.marker=VC,n.point=H,n.polygon=qC,n.polyline=GC,n.popup=JC,n.rectangle=o1,n.setOptions=P,n.stamp=h,n.svg=Tm,n.svgOverlay=XC,n.tileLayer=Em,n.tooltip=e1,n.transformation=nt,n.version=i,n.videoOverlay=QC;var a1=window.L;n.noConflict=function(){return window.L=a1,this},window.L=n})})($d,$d.exports);var Wo=$d.exports;const CP=df(Wo);function pc(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function mc(t,e){return e==null?function(i,o){const a=A.useRef();return a.current||(a.current=t(i,o)),a}:function(i,o){const a=A.useRef();a.current||(a.current=t(i,o));const l=A.useRef(i),{instance:c}=a.current;return A.useEffect(function(){l.current!==i&&(e(c,i,l.current),l.current=i)},[c,i,o]),a}}function r0(t,e){A.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var a;(a=e.layerContainer)==null||a.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function o0(t){return function(n){const i=dc(),o=t(fc(n,i),i);return Jw(i.map,n.attribution),hp(o.current,n.eventHandlers),r0(o.current,i),o}}function SP(t,e){const n=A.useRef();A.useEffect(function(){if(e.pathOptions!==n.current){const o=e.pathOptions??{};t.instance.setStyle(o),n.current=o}},[t,e])}function xP(t){return function(n){const i=dc(),o=t(fc(n,i),i);return hp(o.current,n.eventHandlers),r0(o.current,i),SP(o.current,n),o}}function TP(t,e){const n=mc(t,e),i=o0(n);return i0(i)}function PP(t,e){const n=mc(t),i=EP(n,e);return yP(i)}function IP(t,e){const n=mc(t,e),i=xP(n);return i0(i)}function kP(t,e){const n=mc(t,e),i=o0(n);return wP(i)}function LP(t,e,n){const{opacity:i,zIndex:o}=e;i!=null&&i!==n.opacity&&t.setOpacity(i),o!=null&&o!==n.zIndex&&t.setZIndex(o)}function RP(){return dc().map}function Gd(){return Gd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Gd.apply(this,arguments)}function NP({bounds:t,boundsOptions:e,center:n,children:i,className:o,id:a,placeholder:l,style:c,whenReady:h,zoom:f,...g},m){const[_]=A.useState({className:o,id:a,style:c}),[E,T]=A.useState(null);A.useImperativeHandle(m,()=>(E==null?void 0:E.map)??null,[E]);const P=A.useCallback(C=>{if(C!==null&&E===null){const y=new Wo.Map(C,g);n!=null&&f!=null?y.setView(n,f):t!=null&&y.fitBounds(t,e),h!=null&&y.whenReady(h),T(vP(y))}},[]);A.useEffect(()=>()=>{E==null||E.map.remove()},[E]);const z=E?dn.createElement(n0,{value:E},i):l??null;return dn.createElement("div",Gd({},_,{ref:P}),z)}const bP=A.forwardRef(NP),fg=TP(function({position:e,...n},i){const o=new Wo.Marker(e,n);return pc(o,e0(i,{overlayContainer:o}))},function(e,n,i){n.position!==i.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),pg=IP(function({positions:e,...n},i){const o=new Wo.Polyline(e,n);return pc(o,e0(i,{overlayContainer:o}))},function(e,n,i){n.positions!==i.positions&&e.setLatLngs(n.positions)}),mg=PP(function(e,n){const i=new Wo.Popup(e,n.overlayContainer);return pc(i,n)},function(e,n,{position:i},o){A.useEffect(function(){const{instance:l}=e;function c(f){f.popup===l&&(l.update(),o(!0))}function h(f){f.popup===l&&o(!1)}return n.map.on({popupopen:c,popupclose:h}),n.overlayContainer==null?(i!=null&&l.setLatLng(i),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){var g;n.map.off({popupopen:c,popupclose:h}),(g=n.overlayContainer)==null||g.unbindPopup(),n.map.removeLayer(l)}},[e,n,o,i])}),MP=kP(function({url:e,...n},i){const o=new Wo.TileLayer(e,fc(n,i));return pc(o,i)},function(e,n,i){LP(e,n,i);const{url:o}=n;o!=null&&o!==i.url&&e.setUrl(o)}),G={defaultAPIVersion:"v2",defaultHost:"https://api.openrouteservice.org",missingAPIKeyMsg:"Please add your openrouteservice api_key..",baseUrlConstituents:["host","service","api_version","mime_type"],propNames:{apiKey:"api_key",host:"host",service:"service",apiVersion:"api_version",mimeType:"mime_type",profile:"profile",format:"format",timeout:"timeout"}};class Ma{fillArgs(e,n){return n={...e,...n},n}saveArgsToCache(e){return{host:e[G.propNames.host],api_version:e[G.propNames.apiVersion],profile:e[G.propNames.profile],format:e[G.propNames.format],service:e[G.propNames.service],api_key:e[G.propNames.apiKey],mime_type:e[G.propNames.mimeType]}}prepareRequest(e){return delete e[G.propNames.mimeType],delete e[G.propNames.host],delete e[G.propNames.apiVersion],delete e[G.propNames.service],delete e[G.propNames.apiKey],delete e[G.propNames.profile],delete e[G.propNames.format],delete e[G.propNames.timeout],{...e}}prepareUrl(e){let n=e[G.propNames.host],i=[e[G.propNames.apiVersion],e[G.propNames.service],e[G.propNames.profile],e[G.propNames.format]];return i=i.join("/"),i=i.replace(/\/(\/)+/g,"/"),i[0]==="/"&&(i=i.slice(1)),i.slice(-1)[0]==="/"&&(i=i.slice(0,-1)),n=n+"/"+i,n}}const Nl=new Ma;class Br{constructor(e){this.defaultArgs={},this.requestArgs={},this.argsCache=null,this.customHeaders={},this._setRequestDefaults(e)}_setRequestDefaults(e){if(this.defaultArgs[G.propNames.host]=G.defaultHost,e[G.propNames.host]&&(this.defaultArgs[G.propNames.host]=e[G.propNames.host]),e[G.propNames.service]&&(this.defaultArgs[G.propNames.service]=e[G.propNames.service]),G.propNames.apiKey in e)this.defaultArgs[G.propNames.apiKey]=e[G.propNames.apiKey];else throw console.error(G.missingAPIKeyMsg),new Error(G.missingAPIKeyMsg)}checkHeaders(){this.requestArgs.customHeaders&&(this.customHeaders=this.requestArgs.customHeaders,delete this.requestArgs.customHeaders),"Content-type"in this.customHeaders||(this.customHeaders={...this.customHeaders,"Content-type":"application/json"})}async fetchRequest(e,n){let i=Nl.prepareUrl(this.argsCache);this.argsCache[G.propNames.service]==="pois"&&(i+=i.indexOf("?")>-1?"&":"?");const o={Authorization:this.argsCache[G.propNames.apiKey]};return await fetch(i,{method:"POST",body:JSON.stringify(e),headers:{...o,...this.customHeaders},signal:n.signal})}async createRequest(e){var n;const i=new AbortController,o=setTimeout(()=>i.abort("timed out"),this.defaultArgs[G.propNames.timeout]||5e3);try{const a=await this.fetchRequest(e,i);if(!a.ok){const l=new Error(a.statusText);throw l.status=a.status,l.response=a,l}return((n=this.argsCache)==null?void 0:n.format)==="gpx"?await a.text():await a.json()}finally{clearTimeout(o)}}getBody(){return this.httpArgs}async calculate(e){this.requestArgs=e,this.checkHeaders(),this.requestArgs=Nl.fillArgs(this.defaultArgs,this.requestArgs),this.argsCache=Nl.saveArgsToCache(this.requestArgs),this.httpArgs=Nl.prepareRequest(this.requestArgs);const n=this.getBody(this.httpArgs);return await this.createRequest(n)}}const bl=new Ma;class AP extends Br{constructor(e){super(e),this.lookupParameter={api_key:function(n,i){return n+"="+i},text:function(n,i){return"&"+n+"="+encodeURIComponent(i)},focus_point:function(n,i){let o="";return o+="&focus.point.lon="+i[1],o+="&focus.point.lat="+i[0],o},boundary_bbox:function(n,i){let o="";return o+="&boundary.rect.min_lon="+i[0][1],o+="&boundary.rect.min_lat="+i[0][0],o+="&boundary.rect.max_lon="+i[1][1],o+="&boundary.rect.max_lat="+i[1][0],o},point:function(n,i){if(i&&Array.isArray(i.lat_lng)){let o="";return o+="&point.lon="+i.lat_lng[1],o+="&point.lat="+i.lat_lng[0],o}},boundary_circle:function(n,i){let o="";return o+="&boundary.circle.lon="+i.lat_lng[1],o+="&boundary.circle.lat="+i.lat_lng[0],o+="&boundary.circle.radius="+i.radius,o},sources:function(n,i){let o="&sources=";if(i){for(const a in i)Number(a)>0&&(o+=","),o+=i[a];return o}},layers:function(n,i){let o="&layers=",a=0;for(n in i)a>0&&(o+=","),o+=i[n],a++;return o},boundary_country:function(n,i){return"&boundary.country="+i},size:function(n,i){return"&"+n+"="+i},address:function(n,i){return"&"+n+"="+i},neighbourhood:function(n,i){return"&"+n+"="+i},borough:function(n,i){return"&"+n+"="+i},locality:function(n,i){return"&"+n+"="+i},county:function(n,i){return"&"+n+"="+i},region:function(n,i){return"&"+n+"="+i},postalcode:function(n,i){return"&"+n+"="+i},country:function(n,i){return"&"+n+"="+i}}}getParametersAsQueryString(e){let n="";for(const i in e){const o=e[i];G.baseUrlConstituents.indexOf(i)<=-1&&(n+=this.lookupParameter[i](i,o))}return n}async fetchGetRequest(e){let n=bl.prepareUrl(this.requestArgs);return n+="?"+this.getParametersAsQueryString(this.requestArgs),await fetch(n,{method:"GET",headers:this.customHeaders,signal:e.signal})}async geocodePromise(){const e=new AbortController,n=setTimeout(()=>e.abort("timed out"),this.defaultArgs[G.propNames.timeout]||5e3);try{const i=await this.fetchGetRequest(e);if(!i.ok){const o=new Error(i.statusText);throw o.status=i.status,o.response=i,o}return await i.json()||i.text()}finally{clearTimeout(n)}}async geocode(e){return this.requestArgs=e,this.checkHeaders(),!this.defaultArgs[G.propNames.service]&&!this.requestArgs[G.propNames.service]&&(this.requestArgs.service="geocode/search"),this.requestArgs=bl.fillArgs(this.defaultArgs,this.requestArgs),await this.geocodePromise()}async reverseGeocode(e){return this.requestArgs=e,this.checkHeaders(),!this.defaultArgs[G.propNames.service]&&!this.requestArgs[G.propNames.service]&&(this.requestArgs.service="geocode/reverse"),this.requestArgs=bl.fillArgs(this.defaultArgs,this.requestArgs),await this.geocodePromise()}async structuredGeocode(e){return this.requestArgs=e,this.checkHeaders(),!this.defaultArgs[G.propNames.service]&&!this.requestArgs[G.propNames.service]&&(this.requestArgs.service="geocode/search/structured"),this.requestArgs=bl.fillArgs(this.defaultArgs,this.requestArgs),await this.geocodePromise()}}class OP extends Br{constructor(e){super(e),!this.defaultArgs[G.propNames.service]&&!this.requestArgs[G.propNames.service]&&(this.defaultArgs.service="isochrones"),e[G.propNames.apiVersion]||(this.defaultArgs.api_version=G.defaultAPIVersion)}getBody(e){const n={};return e.restrictions&&(n.profile_params={restrictions:{...e.restrictions}},delete e.restrictions),e.avoidables&&(n.avoid_features=[...e.avoidables],delete e.avoidables),e.avoid_polygons&&(n.avoid_polygons={...e.avoid_polygons},delete e.avoid_polygons),Object.keys(n).length>0?{...e,options:n}:{...e}}}class DP extends Br{constructor(e){super(e),!this.defaultArgs[G.propNames.service]&&!this.requestArgs[G.propNames.service]&&(this.defaultArgs[G.propNames.service]="matrix"),e[G.propNames.apiVersion]||(this.defaultArgs.api_version=G.defaultAPIVersion)}}class zP extends Br{constructor(e){super(e),this.defaultArgs[G.propNames.service]||(this.defaultArgs[G.propNames.service]="directions"),e[G.propNames.apiVersion]||(this.defaultArgs.api_version=G.defaultAPIVersion)}getBody(e){return e.options&&typeof e.options!="object"&&(e.options=JSON.parse(e.options)),e.restrictions&&(e.options=e.options||{},e.options.profile_params={restrictions:{...e.restrictions}},delete e.restrictions),e.avoidables&&(e.options=e.options||{},e.options.avoid_features=[...e.avoidables],delete e.avoidables),e}}const _g=new Ma;class FP extends Br{constructor(e){super(e),this.defaultArgs[G.propNames.service]||(this.defaultArgs[G.propNames.service]="pois")}generatePayload(e){const n={};for(const i in e)G.baseUrlConstituents.indexOf(i)>-1||i===G.propNames.apiKey||i===G.propNames.timeout||(n[i]=e[i]);return n}async poisPromise(){this.requestArgs.request=this.requestArgs.request||"pois",this.argsCache=_g.saveArgsToCache(this.requestArgs),this.requestArgs[G.propNames.service]&&delete this.requestArgs[G.propNames.service];const e=this.generatePayload(this.requestArgs);return await this.createRequest(e)}async pois(e){return this.requestArgs=e,this.checkHeaders(),this.requestArgs=_g.fillArgs(this.defaultArgs,this.requestArgs),await this.poisPromise()}}const Ah=new Ma;class BP extends Br{generatePayload(e){const n={};for(const i in e)G.baseUrlConstituents.indexOf(i)<=-1&&(n[i]=e[i]);return n}async elevationPromise(){this.argsCache=Ah.saveArgsToCache(this.requestArgs);const e=this.generatePayload(this.requestArgs);return await this.createRequest(e)}async lineElevation(e){return this.requestArgs=e,this.checkHeaders(),!this.defaultArgs[G.propNames.service]&&!this.requestArgs[G.propNames.service]&&(this.requestArgs[G.propNames.service]="elevation/line"),this.requestArgs=Ah.fillArgs(this.defaultArgs,this.requestArgs),await this.elevationPromise()}async pointElevation(e){return this.requestArgs=e,this.checkHeaders(),!this.defaultArgs[G.propNames.service]&&!this.requestArgs[G.propNames.service]&&(this.requestArgs[G.propNames.service]="elevation/point"),this.requestArgs=Ah.fillArgs(this.defaultArgs,this.requestArgs),await this.elevationPromise()}}const gg=new Ma;class jP extends Br{generatePayload(e){let n={};for(const i in e)G.baseUrlConstituents.indexOf(i)<=-1&&(n[i]=e[i]);return n}async optimizationPromise(){this.argsCache=gg.saveArgsToCache(this.requestArgs);const e=this.generatePayload(this.requestArgs);return await this.createRequest(e)}async optimize(e){return this.requestArgs=e,this.checkHeaders(),!this.defaultArgs[G.propNames.service]&&!e[G.propNames.service]&&(e[G.propNames.service]="optimization"),this.requestArgs=gg.fillArgs(this.defaultArgs,this.requestArgs),await this.optimizationPromise()}}const Su={Geocode:AP,Isochrones:OP,Directions:zP,Matrix:DP,Pois:FP,Elevation:BP,Optimization:jP};typeof Yl=="object"&&typeof Yl.exports=="object"?Yl.exports=Su:typeof define=="function"&&define.amd&&define(Su);typeof window<"u"&&(window.Openrouteservice=Su);const dp=()=>{const[t,e]=A.useState(window.innerWidth);return A.useEffect(()=>{const n=()=>e(window.innerWidth);return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t},UP="5b3ce3597851110001cf6248be24502331b243318274ccf1d117148e",HP=new CP.Icon({iconUrl:"placeholder.png",iconSize:[34,34],iconAnchor:[10,34],popupAnchor:[1,-34]}),WP=({onLocationFound:t,Destination:e,type:n})=>{const[i,o]=A.useState([]),[a,l]=A.useState([]),[c,h]=A.useState({distance:0,duration:0}),[f,g]=A.useState({distance:0,duration:0}),[m,_]=A.useState(null),[E,T]=A.useState(null),P=RP();A.useEffect(()=>{if(!navigator.geolocation)T("Geolocation is not supported by your browser");else{const y={enableHighAccuracy:!0,timeout:5e3,maximumAge:0},S=j=>{const{latitude:I,longitude:B}=j.coords;_([I,B]),P.flyTo([I,B],13),t&&t([I,B])},O=j=>{switch(j.code){case j.PERMISSION_DENIED:T("User denied the request for Geolocation.");break;case j.POSITION_UNAVAILABLE:T("Location information is unavailable.");break;case j.TIMEOUT:T("The request to get user location timed out.");break;default:T("An unknown error occurred.");break}console.log(j)};navigator.geolocation.getCurrentPosition(S,O,y)}},[P]),A.useEffect(()=>{m&&e&&e.latitude&&e.longitude&&z(m,[e.latitude,e.longitude])},[m,e]);const z=(y,S)=>{const O=new Su.Directions({api_key:UP}),j=O.calculate({coordinates:[[y[1],y[0]],[S[1],S[0]]],profile:"driving-car",format:"geojson"}),I=O.calculate({coordinates:[[y[1],y[0]],[S[1],S[0]]],profile:"cycling-road",format:"geojson"});Promise.all([j,I]).then(([B,Z])=>{const Y=B.features[0].geometry.coordinates.map(ke=>[ke[1],ke[0]]),te=B.features[0].properties.segments[0];o(Y),h({distance:te.distance,duration:te.duration});const re=Z.features[0].geometry.coordinates.map(ke=>[ke[1],ke[0]]),Se=Z.features[0].properties.segments[0];l(re),g({distance:Se.distance,duration:Se.duration})}).catch(B=>{console.error(B)})},C=y=>{const S=Math.floor(y/3600),O=Math.floor(y%3600/60);return`${S>0?`${S}h `:""}${O}m`};return $.jsxs($.Fragment,{children:[m!==null&&$.jsx(fg,{position:m,children:$.jsx(mg,{children:"You are here"})}),e&&e.latitude&&e.longitude&&$.jsx(fg,{position:[e.latitude,e.longitude],icon:HP,children:$.jsx(mg,{children:"Destination"})}),i.length>0&&n==="car"&&$.jsx(pg,{positions:i,color:"blue"}),a.length>0&&n==="motorcycle"&&$.jsx(pg,{positions:a,color:"green"}),e&&$.jsxs("div",{className:"info-box text-black",children:[n==="car"&&$.jsxs($.Fragment,{children:[$.jsx("h3",{children:"Rute Mobil"}),$.jsxs("p",{children:["Jarak: ",c.distance/1e3," km"]}),$.jsxs("p",{children:["Waktu Tempuh: ",C(c.duration)]})]}),n==="motorcycle"&&$.jsxs($.Fragment,{children:[$.jsx("h3",{children:"Rute Motor"}),$.jsxs("p",{children:["Jarak: ",f.distance/1e3," km"]}),$.jsxs("p",{children:["Waktu Tempuh: ",C(f.duration)]})]})]}),E&&$.jsx("div",{className:"error-message",children:$.jsx("p",{children:E})})]})},s0=({onLocationFound:t,Destination:e,type:n})=>{const i=dp()<=768;return $.jsx("div",{style:{position:"relative"},children:$.jsxs(bP,{center:[-6.402484,106.794243],zoom:13,style:{height:i?"60vh":"75vh",width:"100%"},children:[$.jsx(MP,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"Map Prototype"}),$.jsx(WP,{onLocationFound:t,Destination:e,type:n})]})})};var vg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W=function(t,e){if(!t)throw Vo(e)},Vo=function(t){return new Error("Firebase Database ("+a0.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},VP=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],l=t[n++],c=t[n++],h=((o&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],l=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|l&63)}}return e.join("")},fp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const a=t[o],l=o+1<t.length,c=l?t[o+1]:0,h=o+2<t.length,f=h?t[o+2]:0,g=a>>2,m=(a&3)<<4|c>>4;let _=(c&15)<<2|f>>6,E=f&63;h||(E=64,l||(_=64)),i.push(n[g],n[m],n[_],n[E])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(l0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):VP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],c=o<t.length?n[t.charAt(o)]:0;++o;const f=o<t.length?n[t.charAt(o)]:64;++o;const m=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||c==null||f==null||m==null)throw new ZP;const _=a<<2|c>>4;if(i.push(_),f!==64){const E=c<<4&240|f>>2;if(i.push(E),m!==64){const T=f<<6&192|m;i.push(T)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ZP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u0=function(t){const e=l0(t);return fp.encodeByteArray(e,!0)},xu=function(t){return u0(t).replace(/\./g,"")},qd=function(t){try{return fp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(t){return c0(void 0,t)}function c0(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!GP(n)||(t[n]=c0(t[n],e[n]));return t}function GP(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=()=>qP().__FIREBASE_DEFAULTS__,YP=()=>{if(typeof process>"u"||typeof vg>"u")return;const t=vg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},QP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&qd(t[1]);return e&&JSON.parse(e)},h0=()=>{try{return KP()||YP()||QP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},XP=t=>{var e,n;return(n=(e=h0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},JP=t=>{const e=XP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},d0=()=>{var t;return(t=h0())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[xu(JSON.stringify(n)),xu(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function f0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tI())}function nI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function p0(){return a0.NODE_ADMIN===!0}function m0(){try{return typeof indexedDB=="object"}catch{return!1}}function _0(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}function rI(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="FirebaseError";class jr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=oI,Object.setPrototypeOf(this,jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gc.prototype.create)}}class gc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],l=a?sI(a,i):"Error",c=`${this.serviceName}: ${l} (${o}).`;return new jr(o,c,i)}}function sI(t,e){return t.replace(aI,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const aI=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(t){return JSON.parse(t)}function dt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0=function(t){let e={},n={},i={},o="";try{const a=t.split(".");e=ma(qd(a[0])||""),n=ma(qd(a[1])||""),o=a[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:o}},lI=function(t){const e=g0(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},uI=function(t){const e=g0(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Oo(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function yg(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Tu(t,e,n){const i={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=e.call(n,t[o],o,t));return i}function Pu(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const a=t[o],l=e[o];if(wg(a)&&wg(l)){if(!Pu(a,l))return!1}else if(a!==l)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function wg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let m=0;m<16;m++)i[m]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let m=0;m<16;m++)i[m]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let m=16;m<80;m++){const _=i[m-3]^i[m-8]^i[m-14]^i[m-16];i[m]=(_<<1|_>>>31)&4294967295}let o=this.chain_[0],a=this.chain_[1],l=this.chain_[2],c=this.chain_[3],h=this.chain_[4],f,g;for(let m=0;m<80;m++){m<40?m<20?(f=c^a&(l^c),g=1518500249):(f=a^l^c,g=1859775393):m<60?(f=a&l|c&(a|l),g=2400959708):(f=a^l^c,g=3395469782);const _=(o<<5|o>>>27)+f+h+g+i[m]&4294967295;h=c,c=l,l=(a<<30|a>>>2)&4294967295,a=o,o=_}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let o=0;const a=this.buf_;let l=this.inbuf_;for(;o<n;){if(l===0)for(;o<=i;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<n;)if(a[l]=e.charCodeAt(o),++l,++o,l===this.blockSize){this.compress_(a),l=0;break}}else for(;o<n;)if(a[l]=e[o],++l,++o,l===this.blockSize){this.compress_(a),l=0;break}}this.inbuf_=l,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let o=0;o<5;o++)for(let a=24;a>=0;a-=8)e[i]=this.chain_[o]>>a&255,++i;return e}}function pp(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);if(o>=55296&&o<=56319){const a=o-55296;i++,W(i<t.length,"Surrogate pair missing trail surrogate.");const l=t.charCodeAt(i)-56320;o=65536+(a<<10)+l}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},vc=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=1e3,pI=2,mI=4*60*60*1e3,_I=.5;function Eg(t,e=fI,n=pI){const i=e*Math.pow(n,t),o=Math.round(_I*i*(Math.random()-.5)*2);return Math.min(mI,i+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(t){return t&&t._delegate?t._delegate:t}class li{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new _c;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yI(e))try{this.getOrInitializeService({instanceIdentifier:fr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=fr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fr){return this.instances.has(e)}getOptions(e=fr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);i===c&&l.resolve(o)}return o}onInit(e,n){var i;const o=this.normalizeInstanceIdentifier(n),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const l=this.instances.get(o);return l&&e(l,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:vI(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=fr){return this.component?this.component.multipleInstances?e:fr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vI(t){return t===fr?void 0:t}function yI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Fe||(Fe={}));const EI={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},CI=Fe.INFO,SI={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},xI=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=SI[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mp{constructor(e){this.name=e,this._logLevel=CI,this._logHandler=xI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const TI=(t,e)=>e.some(n=>t instanceof n);let Cg,Sg;function PI(){return Cg||(Cg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function II(){return Sg||(Sg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const v0=new WeakMap,Kd=new WeakMap,y0=new WeakMap,Oh=new WeakMap,_p=new WeakMap;function kI(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(ji(t.result)),o()},l=()=>{i(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&v0.set(n,t)}).catch(()=>{}),_p.set(e,t),e}function LI(t){if(Kd.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),o()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Kd.set(t,e)}let Yd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Kd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||y0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ji(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function RI(t){Yd=t(Yd)}function NI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Dh(this),e,...n);return y0.set(i,e.sort?e.sort():[e]),ji(i)}:II().includes(t)?function(...e){return t.apply(Dh(this),e),ji(v0.get(this))}:function(...e){return ji(t.apply(Dh(this),e))}}function bI(t){return typeof t=="function"?NI(t):(t instanceof IDBTransaction&&LI(t),TI(t,PI())?new Proxy(t,Yd):t)}function ji(t){if(t instanceof IDBRequest)return kI(t);if(Oh.has(t))return Oh.get(t);const e=bI(t);return e!==t&&(Oh.set(t,e),_p.set(e,t)),e}const Dh=t=>_p.get(t);function w0(t,e,{blocked:n,upgrade:i,blocking:o,terminated:a}={}){const l=indexedDB.open(t,e),c=ji(l);return i&&l.addEventListener("upgradeneeded",h=>{i(ji(l.result),h.oldVersion,h.newVersion,ji(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),o&&h.addEventListener("versionchange",f=>o(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const MI=["get","getKey","getAll","getAllKeys","count"],AI=["put","add","delete","clear"],zh=new Map;function xg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zh.get(e))return zh.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=AI.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||MI.includes(n)))return;const a=async function(l,...c){const h=this.transaction(l,o?"readwrite":"readonly");let f=h.store;return i&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),o&&h.done]))[0]};return zh.set(e,a),a}RI(t=>({...t,get:(e,n,i)=>xg(e,n)||t.get(e,n,i),has:(e,n)=>!!xg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DI(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function DI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qd="@firebase/app",Tg="0.10.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr=new mp("@firebase/app"),zI="@firebase/app-compat",FI="@firebase/analytics-compat",BI="@firebase/analytics",jI="@firebase/app-check-compat",UI="@firebase/app-check",HI="@firebase/auth",WI="@firebase/auth-compat",VI="@firebase/database",ZI="@firebase/database-compat",$I="@firebase/functions",GI="@firebase/functions-compat",qI="@firebase/installations",KI="@firebase/installations-compat",YI="@firebase/messaging",QI="@firebase/messaging-compat",XI="@firebase/performance",JI="@firebase/performance-compat",ek="@firebase/remote-config",tk="@firebase/remote-config-compat",nk="@firebase/storage",ik="@firebase/storage-compat",rk="@firebase/firestore",ok="@firebase/vertexai-preview",sk="@firebase/firestore-compat",ak="firebase",lk="10.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="[DEFAULT]",uk={[Qd]:"fire-core",[zI]:"fire-core-compat",[BI]:"fire-analytics",[FI]:"fire-analytics-compat",[UI]:"fire-app-check",[jI]:"fire-app-check-compat",[HI]:"fire-auth",[WI]:"fire-auth-compat",[VI]:"fire-rtdb",[ZI]:"fire-rtdb-compat",[$I]:"fire-fn",[GI]:"fire-fn-compat",[qI]:"fire-iid",[KI]:"fire-iid-compat",[YI]:"fire-fcm",[QI]:"fire-fcm-compat",[XI]:"fire-perf",[JI]:"fire-perf-compat",[ek]:"fire-rc",[tk]:"fire-rc-compat",[nk]:"fire-gcs",[ik]:"fire-gcs-compat",[rk]:"fire-fst",[sk]:"fire-fst-compat",[ok]:"fire-vertex","fire-js":"fire-js",[ak]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu=new Map,ck=new Map,Jd=new Map;function Pg(t,e){try{t.container.addComponent(e)}catch(n){Nr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $i(t){const e=t.name;if(Jd.has(e))return Nr.debug(`There were multiple attempts to register component ${e}.`),!1;Jd.set(e,t);for(const n of Iu.values())Pg(n,t);for(const n of ck.values())Pg(n,t);return!0}function Aa(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ui=new gc("app","Firebase",hk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new li("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ui.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=lk;function E0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Xd,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Ui.create("bad-app-name",{appName:String(o)});if(n||(n=d0()),!n)throw Ui.create("no-options");const a=Iu.get(o);if(a){if(Pu(n,a.options)&&Pu(i,a.config))return a;throw Ui.create("duplicate-app",{appName:o})}const l=new wI(o);for(const h of Jd.values())l.addComponent(h);const c=new dk(n,i,l);return Iu.set(o,c),c}function C0(t=Xd){const e=Iu.get(t);if(!e&&t===Xd&&d0())return E0();if(!e)throw Ui.create("no-app",{appName:t});return e}function Zn(t,e,n){var i;let o=(i=uk[t])!==null&&i!==void 0?i:t;n&&(o+=`-${n}`);const a=o.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${o}" with version "${e}":`];a&&c.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Nr.warn(c.join(" "));return}$i(new li(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk="firebase-heartbeat-database",mk=1,_a="firebase-heartbeat-store";let Fh=null;function S0(){return Fh||(Fh=w0(pk,mk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(_a)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ui.create("idb-open",{originalErrorMessage:t.message})})),Fh}async function _k(t){try{const n=(await S0()).transaction(_a),i=await n.objectStore(_a).get(x0(t));return await n.done,i}catch(e){if(e instanceof jr)Nr.warn(e.message);else{const n=Ui.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Nr.warn(n.message)}}}async function Ig(t,e){try{const i=(await S0()).transaction(_a,"readwrite");await i.objectStore(_a).put(e,x0(t)),await i.done}catch(n){if(n instanceof jr)Nr.warn(n.message);else{const i=Ui.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Nr.warn(i.message)}}}function x0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=1024,vk=30*24*60*60*1e3;class yk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ek(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=kg();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a)))return this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=vk}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=kg(),{heartbeatsToSend:i,unsentEntries:o}=wk(this._heartbeatsCache.heartbeats),a=xu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}}function kg(){return new Date().toISOString().substring(0,10)}function wk(t,e=gk){const n=[];let i=t.slice();for(const o of t){const a=n.find(l=>l.agent===o.agent);if(a){if(a.dates.push(o.date),Lg(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Lg(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Ek{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return m0()?_0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _k(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ig(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ig(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Lg(t){return xu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(t){$i(new li("platform-logger",e=>new OI(e),"PRIVATE")),$i(new li("heartbeat",e=>new yk(e),"PRIVATE")),Zn(Qd,Tg,t),Zn(Qd,Tg,"esm2017"),Zn("fire-js","")}Ck("");var Sk="firebase",xk="10.12.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zn(Sk,xk,"app");const T0="@firebase/installations",gp="0.6.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=1e4,I0=`w:${gp}`,k0="FIS_v2",Tk="https://firebaseinstallations.googleapis.com/v1",Pk=60*60*1e3,Ik="installations",kk="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},br=new gc(Ik,kk,Lk);function L0(t){return t instanceof jr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0({projectId:t}){return`${Tk}/projects/${t}/installations`}function N0(t){return{token:t.token,requestStatus:2,expiresIn:Nk(t.expiresIn),creationTime:Date.now()}}async function b0(t,e){const i=(await e.json()).error;return br.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function M0({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Rk(t,{refreshToken:e}){const n=M0(t);return n.append("Authorization",bk(e)),n}async function A0(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Nk(t){return Number(t.replace("s","000"))}function bk(t){return`${k0} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mk({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=R0(t),o=M0(t),a=e.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&o.append("x-firebase-client",f)}const l={fid:n,authVersion:k0,appId:t.appId,sdkVersion:I0},c={method:"POST",headers:o,body:JSON.stringify(l)},h=await A0(()=>fetch(i,c));if(h.ok){const f=await h.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:N0(f.authToken)}}else throw await b0("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok=/^[cdef][\w-]{21}$/,ef="";function Dk(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=zk(t);return Ok.test(n)?n:ef}catch{return ef}}function zk(t){return Ak(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=new Map;function z0(t,e){const n=yc(t);F0(n,e),Fk(n,e)}function F0(t,e){const n=D0.get(t);if(n)for(const i of n)i(e)}function Fk(t,e){const n=Bk();n&&n.postMessage({key:t,fid:e}),jk()}let Er=null;function Bk(){return!Er&&"BroadcastChannel"in self&&(Er=new BroadcastChannel("[Firebase] FID Change"),Er.onmessage=t=>{F0(t.data.key,t.data.fid)}),Er}function jk(){D0.size===0&&Er&&(Er.close(),Er=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk="firebase-installations-database",Hk=1,Mr="firebase-installations-store";let Bh=null;function vp(){return Bh||(Bh=w0(Uk,Hk,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Mr)}}})),Bh}async function ku(t,e){const n=yc(t),o=(await vp()).transaction(Mr,"readwrite"),a=o.objectStore(Mr),l=await a.get(n);return await a.put(e,n),await o.done,(!l||l.fid!==e.fid)&&z0(t,e.fid),e}async function B0(t){const e=yc(t),i=(await vp()).transaction(Mr,"readwrite");await i.objectStore(Mr).delete(e),await i.done}async function wc(t,e){const n=yc(t),o=(await vp()).transaction(Mr,"readwrite"),a=o.objectStore(Mr),l=await a.get(n),c=e(l);return c===void 0?await a.delete(n):await a.put(c,n),await o.done,c&&(!l||l.fid!==c.fid)&&z0(t,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yp(t){let e;const n=await wc(t.appConfig,i=>{const o=Wk(i),a=Vk(t,o);return e=a.registrationPromise,a.installationEntry});return n.fid===ef?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Wk(t){const e=t||{fid:Dk(),registrationStatus:0};return j0(e)}function Vk(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(br.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=Zk(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:$k(t)}:{installationEntry:e}}async function Zk(t,e){try{const n=await Mk(t,e);return ku(t.appConfig,n)}catch(n){throw L0(n)&&n.customData.serverCode===409?await B0(t.appConfig):await ku(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function $k(t){let e=await Rg(t.appConfig);for(;e.registrationStatus===1;)await O0(100),e=await Rg(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await yp(t);return i||n}return e}function Rg(t){return wc(t,e=>{if(!e)throw br.create("installation-not-found");return j0(e)})}function j0(t){return Gk(t)?{fid:t.fid,registrationStatus:0}:t}function Gk(t){return t.registrationStatus===1&&t.registrationTime+P0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qk({appConfig:t,heartbeatServiceProvider:e},n){const i=Kk(t,n),o=Rk(t,n),a=e.getImmediate({optional:!0});if(a){const f=await a.getHeartbeatsHeader();f&&o.append("x-firebase-client",f)}const l={installation:{sdkVersion:I0,appId:t.appId}},c={method:"POST",headers:o,body:JSON.stringify(l)},h=await A0(()=>fetch(i,c));if(h.ok){const f=await h.json();return N0(f)}else throw await b0("Generate Auth Token",h)}function Kk(t,{fid:e}){return`${R0(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wp(t,e=!1){let n;const i=await wc(t.appConfig,a=>{if(!U0(a))throw br.create("not-registered");const l=a.authToken;if(!e&&Xk(l))return a;if(l.requestStatus===1)return n=Yk(t,e),a;{if(!navigator.onLine)throw br.create("app-offline");const c=eL(a);return n=Qk(t,c),c}});return n?await n:i.authToken}async function Yk(t,e){let n=await Ng(t.appConfig);for(;n.authToken.requestStatus===1;)await O0(100),n=await Ng(t.appConfig);const i=n.authToken;return i.requestStatus===0?wp(t,e):i}function Ng(t){return wc(t,e=>{if(!U0(e))throw br.create("not-registered");const n=e.authToken;return tL(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Qk(t,e){try{const n=await qk(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return await ku(t.appConfig,i),n}catch(n){if(L0(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await B0(t.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ku(t.appConfig,i)}throw n}}function U0(t){return t!==void 0&&t.registrationStatus===2}function Xk(t){return t.requestStatus===2&&!Jk(t)}function Jk(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Pk}function eL(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function tL(t){return t.requestStatus===1&&t.requestTime+P0<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nL(t){const e=t,{installationEntry:n,registrationPromise:i}=await yp(e);return i?i.catch(console.error):wp(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iL(t,e=!1){const n=t;return await rL(n),(await wp(n,e)).token}async function rL(t){const{registrationPromise:e}=await yp(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(t){if(!t||!t.options)throw jh("App Configuration");if(!t.name)throw jh("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw jh(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function jh(t){return br.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="installations",sL="installations-internal",aL=t=>{const e=t.getProvider("app").getImmediate(),n=oL(e),i=Aa(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},lL=t=>{const e=t.getProvider("app").getImmediate(),n=Aa(e,H0).getImmediate();return{getId:()=>nL(n),getToken:o=>iL(n,o)}};function uL(){$i(new li(H0,aL,"PUBLIC")),$i(new li(sL,lL,"PRIVATE"))}uL();Zn(T0,gp);Zn(T0,gp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu="analytics",cL="firebase_id",hL="origin",dL=60*1e3,fL="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ep="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt=new mp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Jt=new gc("analytics","Analytics",pL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(t){if(!t.startsWith(Ep)){const e=Jt.create("invalid-gtag-resource",{gtagURL:t});return Zt.warn(e.message),""}return t}function W0(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function _L(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function gL(t,e){const n=_L("firebase-js-sdk-policy",{createScriptURL:mL}),i=document.createElement("script"),o=`${Ep}?l=${t}&id=${e}`;i.src=n?n==null?void 0:n.createScriptURL(o):o,i.async=!0,document.head.appendChild(i)}function vL(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function yL(t,e,n,i,o,a){const l=i[o];try{if(l)await e[l];else{const h=(await W0(n)).find(f=>f.measurementId===o);h&&await e[h.appId]}}catch(c){Zt.error(c)}t("config",o,a)}async function wL(t,e,n,i,o){try{let a=[];if(o&&o.send_to){let l=o.send_to;Array.isArray(l)||(l=[l]);const c=await W0(n);for(const h of l){const f=c.find(m=>m.measurementId===h),g=f&&e[f.appId];if(g)a.push(g);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",i,o||{})}catch(a){Zt.error(a)}}function EL(t,e,n,i){async function o(a,...l){try{if(a==="event"){const[c,h]=l;await wL(t,e,n,c,h)}else if(a==="config"){const[c,h]=l;await yL(t,e,n,i,c,h)}else if(a==="consent"){const[c,h]=l;t("consent",c,h)}else if(a==="get"){const[c,h,f]=l;t("get",c,h,f)}else if(a==="set"){const[c]=l;t("set",c)}else t(a,...l)}catch(c){Zt.error(c)}}return o}function CL(t,e,n,i,o){let a=function(...l){window[i].push(arguments)};return window[o]&&typeof window[o]=="function"&&(a=window[o]),window[o]=EL(a,t,e,n),{gtagCore:a,wrappedGtag:window[o]}}function SL(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Ep)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL=30,TL=1e3;class PL{constructor(e={},n=TL){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const V0=new PL;function IL(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function kL(t){var e;const{appId:n,apiKey:i}=t,o={method:"GET",headers:IL(i)},a=fL.replace("{app-id}",n),l=await fetch(a,o);if(l.status!==200&&l.status!==304){let c="";try{const h=await l.json();!((e=h.error)===null||e===void 0)&&e.message&&(c=h.error.message)}catch{}throw Jt.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function LL(t,e=V0,n){const{appId:i,apiKey:o,measurementId:a}=t.options;if(!i)throw Jt.create("no-app-id");if(!o){if(a)return{measurementId:a,appId:i};throw Jt.create("no-api-key")}const l=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new bL;return setTimeout(async()=>{c.abort()},dL),Z0({appId:i,apiKey:o,measurementId:a},l,c,e)}async function Z0(t,{throttleEndTimeMillis:e,backoffCount:n},i,o=V0){var a;const{appId:l,measurementId:c}=t;try{await RL(i,e)}catch(h){if(c)return Zt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:l,measurementId:c};throw h}try{const h=await kL(t);return o.deleteThrottleMetadata(l),h}catch(h){const f=h;if(!NL(f)){if(o.deleteThrottleMetadata(l),c)return Zt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:l,measurementId:c};throw h}const g=Number((a=f==null?void 0:f.customData)===null||a===void 0?void 0:a.httpStatus)===503?Eg(n,o.intervalMillis,xL):Eg(n,o.intervalMillis),m={throttleEndTimeMillis:Date.now()+g,backoffCount:n+1};return o.setThrottleMetadata(l,m),Zt.debug(`Calling attemptFetch again in ${g} millis`),Z0(t,m,i,o)}}function RL(t,e){return new Promise((n,i)=>{const o=Math.max(e-Date.now(),0),a=setTimeout(n,o);t.addEventListener(()=>{clearTimeout(a),i(Jt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function NL(t){if(!(t instanceof jr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class bL{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function ML(t,e,n,i,o){if(o&&o.global){t("event",n,i);return}else{const a=await e,l=Object.assign(Object.assign({},i),{send_to:a});t("event",n,l)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AL(){if(m0())try{await _0()}catch(t){return Zt.warn(Jt.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Zt.warn(Jt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function OL(t,e,n,i,o,a,l){var c;const h=LL(t);h.then(E=>{n[E.measurementId]=E.appId,t.options.measurementId&&E.measurementId!==t.options.measurementId&&Zt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>Zt.error(E)),e.push(h);const f=AL().then(E=>{if(E)return i.getId()}),[g,m]=await Promise.all([h,f]);SL(a)||gL(a,g.measurementId),o("js",new Date);const _=(c=l==null?void 0:l.config)!==null&&c!==void 0?c:{};return _[hL]="firebase",_.update=!0,m!=null&&(_[cL]=m),o("config",g.measurementId,_),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e){this.app=e}_delete(){return delete Ws[this.app.options.appId],Promise.resolve()}}let Ws={},bg=[];const Mg={};let Uh="dataLayer",zL="gtag",Ag,$0,Og=!1;function FL(){const t=[];if(nI()&&t.push("This is a browser extension environment."),rI()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,o)=>`(${o+1}) ${i}`).join(" "),n=Jt.create("invalid-analytics-context",{errorInfo:e});Zt.warn(n.message)}}function BL(t,e,n){FL();const i=t.options.appId;if(!i)throw Jt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Zt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Jt.create("no-api-key");if(Ws[i]!=null)throw Jt.create("already-exists",{id:i});if(!Og){vL(Uh);const{wrappedGtag:a,gtagCore:l}=CL(Ws,bg,Mg,Uh,zL);$0=a,Ag=l,Og=!0}return Ws[i]=OL(t,bg,Mg,e,Ag,Uh,n),new DL(t)}function jL(t=C0()){t=fi(t);const e=Aa(t,Lu);return e.isInitialized()?e.getImmediate():UL(t)}function UL(t,e={}){const n=Aa(t,Lu);if(n.isInitialized()){const o=n.getImmediate();if(Pu(e,n.getOptions()))return o;throw Jt.create("already-initialized")}return n.initialize({options:e})}function HL(t,e,n,i){t=fi(t),ML($0,Ws[t.app.options.appId],e,n,i).catch(o=>Zt.error(o))}const Dg="@firebase/analytics",zg="0.10.5";function WL(){$i(new li(Lu,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return BL(i,o,n)},"PUBLIC")),$i(new li("analytics-internal",t,"PRIVATE")),Zn(Dg,zg),Zn(Dg,zg,"esm2017");function t(e){try{const n=e.getProvider(Lu).getImmediate();return{logEvent:(i,o,a)=>HL(n,i,o,a)}}catch(n){throw Jt.create("interop-component-reg-failed",{reason:n})}}}WL();var Fg={};const Bg="@firebase/database",jg="1.0.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let G0="";function VL(t){G0=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),dt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ma(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return di(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new ZL(e)}}catch{}return new $L},Cr=q0("localStorage"),GL=q0("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=new mp("@firebase/database"),qL=function(){let t=1;return function(){return t++}}(),K0=function(t){const e=dI(t),n=new hI;n.update(e);const i=n.digest();return fp.encodeByteArray(i)},Oa=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Oa.apply(null,i):typeof i=="object"?e+=dt(i):e+=i,e+=" "}return e};let Vs=null,Ug=!0;const KL=function(t,e){W(!e,"Can't turn on custom loggers persistently."),To.logLevel=Fe.VERBOSE,Vs=To.log.bind(To)},Lt=function(...t){if(Ug===!0&&(Ug=!1,Vs===null&&GL.get("logging_enabled")===!0&&KL()),Vs){const e=Oa.apply(null,t);Vs(e)}},Da=function(t){return function(...e){Lt(t,...e)}},tf=function(...t){const e="FIREBASE INTERNAL ERROR: "+Oa(...t);To.error(e)},ui=function(...t){const e=`FIREBASE FATAL ERROR: ${Oa(...t)}`;throw To.error(e),new Error(e)},$t=function(...t){const e="FIREBASE WARNING: "+Oa(...t);To.warn(e)},YL=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&$t("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Y0=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},QL=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Do="[MIN_NAME]",Ar="[MAX_NAME]",Zo=function(t,e){if(t===e)return 0;if(t===Do||e===Ar)return-1;if(e===Do||t===Ar)return 1;{const n=Hg(t),i=Hg(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},XL=function(t,e){return t===e?0:t<e?-1:1},xs=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+dt(e))},Cp=function(t){if(typeof t!="object"||t===null)return dt(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=dt(e[i]),n+=":",n+=Cp(t[e[i]]);return n+="}",n},Q0=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let o=0;o<n;o+=e)o+e>n?i.push(t.substring(o,n)):i.push(t.substring(o,o+e));return i};function Gt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const X0=function(t){W(!Y0(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let o,a,l,c,h;t===0?(a=0,l=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),i),a=c+i,l=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(a=0,l=Math.round(t/Math.pow(2,1-i-n))));const f=[];for(h=n;h;h-=1)f.push(l%2?1:0),l=Math.floor(l/2);for(h=e;h;h-=1)f.push(a%2?1:0),a=Math.floor(a/2);f.push(o?1:0),f.reverse();const g=f.join("");let m="";for(h=0;h<64;h+=8){let _=parseInt(g.substr(h,8),2).toString(16);_.length===1&&(_="0"+_),m=m+_}return m.toLowerCase()},JL=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},eR=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function tR(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const nR=new RegExp("^-?(0*)\\d{1,10}$"),iR=-2147483648,rR=2147483647,Hg=function(t){if(nR.test(t)){const e=Number(t);if(e>=iR&&e<=rR)return e}return null},$o=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw $t("Exception was thrown by user callback.",n),e},Math.floor(0))}},oR=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Zs=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){$t(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Lt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',$t(e)}}class Kl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Kl.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp="5",J0="v",eE="s",tE="r",nE="f",iE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,rE="ls",oE="p",nf="ac",sE="websocket",aE="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,n,i,o,a=!1,l="",c=!1,h=!1){this.secure=n,this.namespace=i,this.webSocketOnly=o,this.nodeAdmin=a,this.persistenceKey=l,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Cr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Cr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function lR(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function uE(t,e,n){W(typeof e=="string","typeof type must == string"),W(typeof n=="object","typeof params must == object");let i;if(e===sE)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===aE)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);lR(t)&&(n.ns=t.namespace);const o=[];return Gt(n,(a,l)=>{o.push(a+"="+l)}),i+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(){this.counters_={}}incrementCounter(e,n=1){di(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return $P(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh={},Wh={};function xp(t){const e=t.toString();return Hh[e]||(Hh[e]=new uR),Hh[e]}function cR(t,e){const n=t.toString();return Wh[n]||(Wh[n]=e()),Wh[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<i.length;++o)i[o]&&$o(()=>{this.onMessage_(i[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg="start",dR="close",fR="pLPCommand",pR="pRTLPCB",cE="id",hE="pw",dE="ser",mR="cb",_R="seg",gR="ts",vR="d",yR="dframe",fE=1870,pE=30,wR=fE-pE,ER=25e3,CR=3e4;class vo{constructor(e,n,i,o,a,l,c){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=o,this.authToken=a,this.transportSessionId=l,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Da(e),this.stats_=xp(n),this.urlFn=h=>(this.appCheckToken&&(h[nf]=this.appCheckToken),uE(n,aE,h))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new hR(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(CR)),QL(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Tp((...a)=>{const[l,c,h,f,g]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===Wg)this.id=c,this.password=h;else if(l===dR)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...a)=>{const[l,c]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(l,c)},()=>{this.onClosed_()},this.urlFn);const i={};i[Wg]="t",i[dE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[mR]=this.scriptTagHolder.uniqueCallbackIdentifier),i[J0]=Sp,this.transportSessionId&&(i[eE]=this.transportSessionId),this.lastSessionId&&(i[rE]=this.lastSessionId),this.applicationId&&(i[oE]=this.applicationId),this.appCheckToken&&(i[nf]=this.appCheckToken),typeof location<"u"&&location.hostname&&iE.test(location.hostname)&&(i[tE]=nE);const o=this.urlFn(i);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){vo.forceAllow_=!0}static forceDisallow(){vo.forceDisallow_=!0}static isAvailable(){return vo.forceAllow_?!0:!vo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!JL()&&!eR()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=dt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=u0(n),o=Q0(i,wR);for(let a=0;a<o.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[a]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[yR]="t",i[cE]=e,i[hE]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=dt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Tp{constructor(e,n,i,o){this.onDisconnect=i,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=qL(),window[fR+this.uniqueCallbackIdentifier]=e,window[pR+this.uniqueCallbackIdentifier]=n,this.myIFrame=Tp.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){Lt("frame writing exception"),c.stack&&Lt(c.stack),Lt(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Lt("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[cE]=this.myID,e[hE]=this.myPW,e[dE]=this.currentSerial;let n=this.urlFn(e),i="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+pE+i.length<=fE;){const l=this.pendingSegs.shift();i=i+"&"+_R+o+"="+l.seg+"&"+gR+o+"="+l.ts+"&"+vR+o+"="+l.d,o++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},o=setTimeout(i,Math.floor(ER)),a=()=>{clearTimeout(o),i()};this.addTag(e,a)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const o=i.readyState;(!o||o==="loaded"||o==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Lt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=16384,xR=45e3;let Ru=null;typeof MozWebSocket<"u"?Ru=MozWebSocket:typeof WebSocket<"u"&&(Ru=WebSocket);class Pn{constructor(e,n,i,o,a,l,c){this.connId=e,this.applicationId=i,this.appCheckToken=o,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Da(this.connId),this.stats_=xp(n),this.connURL=Pn.connectionURL_(n,l,c,o,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,o,a){const l={};return l[J0]=Sp,typeof location<"u"&&location.hostname&&iE.test(location.hostname)&&(l[tE]=nE),n&&(l[eE]=n),i&&(l[rE]=i),o&&(l[nf]=o),a&&(l[oE]=a),uE(e,sE,l)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Cr.set("previous_websocket_failure",!0);try{let i;p0(),this.mySock=new Ru(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){Pn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Ru!==null&&!Pn.forceDisallow_}static previouslyFailed(){return Cr.isInMemoryStorage||Cr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Cr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=ma(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(W(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=dt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Q0(n,SR);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(xR))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Pn.responsesRequiredToBeHealthy=2;Pn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[vo,Pn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Pn&&Pn.isAvailable();let i=n&&!Pn.previouslyFailed();if(e.webSocketOnly&&(n||$t("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Pn];else{const o=this.transports_=[];for(const a of ga.ALL_TRANSPORTS)a&&a.isAvailable()&&o.push(a);ga.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ga.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=6e4,PR=5e3,IR=10*1024,kR=100*1024,Vh="t",Vg="d",LR="s",Zg="r",RR="e",$g="o",Gg="a",qg="n",Kg="p",NR="h";class bR{constructor(e,n,i,o,a,l,c,h,f,g){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=o,this.authToken_=a,this.onMessage_=l,this.onReady_=c,this.onDisconnect_=h,this.onKill_=f,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Da("c:"+this.id+":"),this.transportManager_=new ga(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Zs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>kR?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>IR?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Vh in e){const n=e[Vh];n===Gg?this.upgradeIfSecondaryHealthy_():n===Zg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===$g&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=xs("t",e),i=xs("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Kg,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Gg,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:qg,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=xs("t",e),i=xs("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=xs(Vh,e);if(Vg in e){const i=e[Vg];if(n===NR){const o=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(n===qg){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===LR?this.onConnectionShutdown_(i):n===Zg?this.onReset_(i):n===RR?tf("Server Error: "+i):n===$g?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):tf("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Sp!==i&&$t("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Zs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(TR))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Zs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(PR))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Kg,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Cr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{put(e,n,i,o){}merge(e,n,i,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e){this.allowedEvents_=e,this.listeners_={},W(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let o=0;o<i.length;o++)i[o].callback.apply(i[o].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const o=this.getInitialEvent(e);o&&n.apply(i,o)}off(e,n,i){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let a=0;a<o.length;a++)if(o[a].callback===n&&(!i||i===o[a].context)){o.splice(a,1);return}}validateEventType_(e){W(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends _E{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!f0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Nu}getInitialEvent(e){return W(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg=32,Qg=768;class De{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[i]=this.pieces_[o],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Re(){return new De("")}function Ce(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Gi(t){return t.pieces_.length-t.pieceNum_}function je(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new De(t.pieces_,e)}function gE(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function MR(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function vE(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function yE(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new De(e,0)}function ft(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof De)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let o=0;o<i.length;o++)i[o].length>0&&n.push(i[o])}return new De(n,0)}function we(t){return t.pieceNum_>=t.pieces_.length}function At(t,e){const n=Ce(t),i=Ce(e);if(n===null)return e;if(n===i)return At(je(t),je(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function wE(t,e){if(Gi(t)!==Gi(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function In(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Gi(t)>Gi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class AR{constructor(e,n){this.errorPrefix_=n,this.parts_=vE(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=vc(this.parts_[i]);EE(this)}}function OR(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=vc(e),EE(t)}function DR(t){const e=t.parts_.pop();t.byteLength_-=vc(e),t.parts_.length>0&&(t.byteLength_-=1)}function EE(t){if(t.byteLength_>Qg)throw new Error(t.errorPrefix_+"has a key path longer than "+Qg+" bytes ("+t.byteLength_+").");if(t.parts_.length>Yg)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Yg+") or object contains a cycle "+pr(t))}function pr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp extends _E{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new Pp}getInitialEvent(e){return W(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=1e3,zR=60*5*1e3,Xg=30*1e3,FR=1.3,BR=3e4,jR="server_kill",Jg=3;class ii extends mE{constructor(e,n,i,o,a,l,c,h){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=a,this.authTokenProvider_=l,this.appCheckTokenProvider_=c,this.authOverride_=h,this.id=ii.nextPersistentConnectionId_++,this.log_=Da("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ts,this.maxReconnectDelay_=zR,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h&&!p0())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Pp.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Nu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const o=++this.requestNumber_,a={r:o,a:e,b:n};this.log_(dt(a)),W(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[o]=i)}get(e){this.initConnection_();const n=new _c,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const c=l.d;l.s==="ok"?n.resolve(c):n.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),n.promise}listen(e,n,i,o){this.initConnection_();const a=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+a),this.listens.has(l)||this.listens.set(l,new Map),W(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),W(!this.listens.get(l).has(a),"listen() called twice for same path/queryId.");const c={onComplete:o,hashFn:n,query:e,tag:i};this.listens.get(l).set(a,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+i+" for "+o);const a={p:i},l="q";e.tag&&(a.q=n._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest(l,a,c=>{const h=c.d,f=c.s;ii.warnOnListenWarnings_(h,n),(this.listens.get(i)&&this.listens.get(i).get(o))===e&&(this.log_("listen response",c),f!=="ok"&&this.removeListen_(i,o),e.onComplete&&e.onComplete(f,h))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&di(e,"w")){const i=Oo(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',a=n._path.toString();$t(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||uI(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Xg)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=lI(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,o=>{const a=o.s,l=o.d||"error";this.authToken_===e&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),W(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,e._queryObject,n)}sendUnlisten_(e,n,i,o){this.log_("Unlisten on "+e+" for "+n);const a={p:e},l="n";o&&(a.q=i,a.t=o),this.sendRequest(l,a)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,o){const a={p:n,d:i};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,l=>{o&&setTimeout(()=>{o(l.s,l.d)},Math.floor(0))})}put(e,n,i,o){this.putInternal("p",e,n,i,o)}merge(e,n,i,o){this.putInternal("m",e,n,i,o)}putInternal(e,n,i,o,a){this.initConnection_();const l={p:n,d:i};a!==void 0&&(l.h=a),this.outstandingPuts_.push({action:e,request:l,onComplete:o}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,a=>{this.log_(n+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(a.s,a.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const a=i.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+dt(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):tf("Unrecognized action received from server: "+dt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){W(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ts,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ts,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>BR&&(this.reconnectDelay_=Ts),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*FR)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+ii.nextConnectionId_++,a=this.lastSessionId;let l=!1,c=null;const h=function(){c?c.close():(l=!0,i())},f=function(m){W(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(m)};this.realtime_={close:h,sendRequest:f};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[m,_]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);l?Lt("getToken() completed but was canceled"):(Lt("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=_&&_.token,c=new bR(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,E=>{$t(E+" ("+this.repoInfo_.toString()+")"),this.interrupt(jR)},a))}catch(m){this.log_("Failed to get token: "+m),l||(this.repoInfo_.nodeAdmin&&$t(m),h())}}}interrupt(e){Lt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Lt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],yg(this.interruptReasons_)&&(this.reconnectDelay_=Ts,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(a=>Cp(a)).join("$"):i="default";const o=this.removeListen_(e,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,n){const i=new De(e).toString();let o;if(this.listens.has(i)){const a=this.listens.get(i);o=a.get(n),a.delete(n),a.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(e,n){Lt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Jg&&(this.reconnectDelay_=Xg,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Lt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Jg&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+G0.replace(/\./g,"-")]=1,f0()?e["framework.cordova"]=1:iI()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Nu.getInstance().currentlyOnline();return yg(this.interruptReasons_)&&e}}ii.nextPersistentConnectionId_=0;ii.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ye(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new ye(Do,e),o=new ye(Do,n);return this.compare(i,o)!==0}minPost(){return ye.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ml;class CE extends Ec{static get __EMPTY_NODE(){return Ml}static set __EMPTY_NODE(e){Ml=e}compare(e,n){return Zo(e.name,n.name)}isDefinedOn(e){throw Vo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ye.MIN}maxPost(){return new ye(Ar,Ml)}makePost(e,n){return W(typeof e=="string","KeyIndex indexValue must always be a string."),new ye(e,Ml)}toString(){return".key"}}const Po=new CE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n,i,o,a=null){this.isReverse_=o,this.resultGenerator_=a,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=n?i(e.key,n):1,o&&(l*=-1),l<0)this.isReverse_?e=e.left:e=e.right;else if(l===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class vt{constructor(e,n,i,o,a){this.key=e,this.value=n,this.color=i??vt.RED,this.left=o??Ut.EMPTY_NODE,this.right=a??Ut.EMPTY_NODE}copy(e,n,i,o,a){return new vt(e??this.key,n??this.value,i??this.color,o??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const a=i(e,o.key);return a<0?o=o.copy(null,null,null,o.left.insert(e,n,i),null):a===0?o=o.copy(null,n,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ut.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,o;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Ut.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}vt.RED=!0;vt.BLACK=!1;class UR{copy(e,n,i,o,a){return this}insert(e,n,i){return new vt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ut{constructor(e,n=Ut.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ut(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,vt.BLACK,null,null))}remove(e){return new Ut(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,vt.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,o=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return o?o.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(o=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Al(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Al(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Al(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Al(this.root_,null,this.comparator_,!0,e)}}Ut.EMPTY_NODE=new UR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(t,e){return Zo(t.name,e.name)}function Ip(t,e){return Zo(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rf;function WR(t){rf=t}const SE=function(t){return typeof t=="number"?"number:"+X0(t):"string:"+t},xE=function(t){if(t.isLeafNode()){const e=t.val();W(typeof e=="string"||typeof e=="number"||typeof e=="object"&&di(e,".sv"),"Priority must be a string or number.")}else W(t===rf||t.isEmpty(),"priority of unexpected type.");W(t===rf||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ev;class _t{constructor(e,n=_t.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,W(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),xE(this.priorityNode_)}static set __childrenNodeConstructor(e){ev=e}static get __childrenNodeConstructor(){return ev}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new _t(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:_t.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return we(e)?this:Ce(e)===".priority"?this.priorityNode_:_t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:_t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=Ce(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(W(i!==".priority"||Gi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,_t.__childrenNodeConstructor.EMPTY_NODE.updateChild(je(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+SE(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=X0(this.value_):e+=this.value_,this.lazyHash_=K0(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===_t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof _t.__childrenNodeConstructor?-1:(W(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,o=_t.VALUE_TYPE_ORDER.indexOf(n),a=_t.VALUE_TYPE_ORDER.indexOf(i);return W(o>=0,"Unknown leaf type: "+n),W(a>=0,"Unknown leaf type: "+i),o===a?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}_t.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TE,PE;function VR(t){TE=t}function ZR(t){PE=t}class $R extends Ec{compare(e,n){const i=e.node.getPriority(),o=n.node.getPriority(),a=i.compareTo(o);return a===0?Zo(e.name,n.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ye.MIN}maxPost(){return new ye(Ar,new _t("[PRIORITY-POST]",PE))}makePost(e,n){const i=TE(e);return new ye(n,new _t("[PRIORITY-POST]",i))}toString(){return".priority"}}const tt=new $R;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=Math.log(2);class qR{constructor(e){const n=a=>parseInt(Math.log(a)/GR,10),i=a=>parseInt(Array(a+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const o=i(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const bu=function(t,e,n,i){t.sort(e);const o=function(h,f){const g=f-h;let m,_;if(g===0)return null;if(g===1)return m=t[h],_=n?n(m):m,new vt(_,m.node,vt.BLACK,null,null);{const E=parseInt(g/2,10)+h,T=o(h,E),P=o(E+1,f);return m=t[E],_=n?n(m):m,new vt(_,m.node,vt.BLACK,T,P)}},a=function(h){let f=null,g=null,m=t.length;const _=function(T,P){const z=m-T,C=m;m-=T;const y=o(z+1,C),S=t[z],O=n?n(S):S;E(new vt(O,S.node,P,null,y))},E=function(T){f?(f.left=T,f=T):(g=T,f=T)};for(let T=0;T<h.count;++T){const P=h.nextBitIsOne(),z=Math.pow(2,h.count-(T+1));P?_(z,vt.BLACK):(_(z,vt.BLACK),_(z,vt.RED))}return g},l=new qR(t.length),c=a(l);return new Ut(i||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh;const ro={};class ti{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return W(ro&&tt,"ChildrenNode.ts has not been loaded"),Zh=Zh||new ti({".priority":ro},{".priority":tt}),Zh}get(e){const n=Oo(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ut?n:null}hasIndex(e){return di(this.indexSet_,e.toString())}addIndex(e,n){W(e!==Po,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let o=!1;const a=n.getIterator(ye.Wrap);let l=a.getNext();for(;l;)o=o||e.isDefinedOn(l.node),i.push(l),l=a.getNext();let c;o?c=bu(i,e.getCompare()):c=ro;const h=e.toString(),f=Object.assign({},this.indexSet_);f[h]=e;const g=Object.assign({},this.indexes_);return g[h]=c,new ti(g,f)}addToIndexes(e,n){const i=Tu(this.indexes_,(o,a)=>{const l=Oo(this.indexSet_,a);if(W(l,"Missing index implementation for "+a),o===ro)if(l.isDefinedOn(e.node)){const c=[],h=n.getIterator(ye.Wrap);let f=h.getNext();for(;f;)f.name!==e.name&&c.push(f),f=h.getNext();return c.push(e),bu(c,l.getCompare())}else return ro;else{const c=n.get(e.name);let h=o;return c&&(h=h.remove(new ye(e.name,c))),h.insert(e,e.node)}});return new ti(i,this.indexSet_)}removeFromIndexes(e,n){const i=Tu(this.indexes_,o=>{if(o===ro)return o;{const a=n.get(e.name);return a?o.remove(new ye(e.name,a)):o}});return new ti(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ps;class ue{constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&xE(this.priorityNode_),this.children_.isEmpty()&&W(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ps||(Ps=new ue(new Ut(Ip),null,ti.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ps}updatePriority(e){return this.children_.isEmpty()?this:new ue(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ps:n}}getChild(e){const n=Ce(e);return n===null?this:this.getImmediateChild(n).getChild(je(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(W(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new ye(e,n);let o,a;n.isEmpty()?(o=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(i,this.children_));const l=o.isEmpty()?Ps:this.priorityNode_;return new ue(o,l,a)}}updateChild(e,n){const i=Ce(e);if(i===null)return n;{W(Ce(e)!==".priority"||Gi(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(je(e),n);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,o=0,a=!0;if(this.forEachChild(tt,(l,c)=>{n[l]=c.val(e),i++,a&&ue.INTEGER_REGEXP_.test(l)?o=Math.max(o,Number(l)):a=!1}),!e&&a&&o<2*i){const l=[];for(const c in n)l[c]=n[c];return l}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+SE(this.getPriority().val())+":"),this.forEachChild(tt,(n,i)=>{const o=i.hash();o!==""&&(e+=":"+n+":"+o)}),this.lazyHash_=e===""?"":K0(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const o=this.resolveIndex_(i);if(o){const a=o.getPredecessorKey(new ye(e,n));return a?a.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ye(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ye(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,ye.Wrap);let a=o.peek();for(;a!=null&&n.compare(a,e)<0;)o.getNext(),a=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,ye.Wrap);let a=o.peek();for(;a!=null&&n.compare(a,e)>0;)o.getNext(),a=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===za?-1:0}withIndex(e){if(e===Po||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ue(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Po||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(tt),o=n.getIterator(tt);let a=i.getNext(),l=o.getNext();for(;a&&l;){if(a.name!==l.name||!a.node.equals(l.node))return!1;a=i.getNext(),l=o.getNext()}return a===null&&l===null}else return!1;else return!1}}resolveIndex_(e){return e===Po?null:this.indexMap_.get(e.toString())}}ue.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class KR extends ue{constructor(){super(new Ut(Ip),ue.EMPTY_NODE,ti.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ue.EMPTY_NODE}isEmpty(){return!1}}const za=new KR;Object.defineProperties(ye,{MIN:{value:new ye(Do,ue.EMPTY_NODE)},MAX:{value:new ye(Ar,za)}});CE.__EMPTY_NODE=ue.EMPTY_NODE;_t.__childrenNodeConstructor=ue;WR(za);ZR(za);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=!0;function yt(t,e=null){if(t===null)return ue.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),W(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new _t(n,yt(e))}if(!(t instanceof Array)&&YR){const n=[];let i=!1;if(Gt(t,(l,c)=>{if(l.substring(0,1)!=="."){const h=yt(c);h.isEmpty()||(i=i||!h.getPriority().isEmpty(),n.push(new ye(l,h)))}}),n.length===0)return ue.EMPTY_NODE;const a=bu(n,HR,l=>l.name,Ip);if(i){const l=bu(n,tt.getCompare());return new ue(a,yt(e),new ti({".priority":l},{".priority":tt}))}else return new ue(a,yt(e),ti.Default)}else{let n=ue.EMPTY_NODE;return Gt(t,(i,o)=>{if(di(t,i)&&i.substring(0,1)!=="."){const a=yt(o);(a.isLeafNode()||!a.isEmpty())&&(n=n.updateImmediateChild(i,a))}}),n.updatePriority(yt(e))}}VR(yt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR extends Ec{constructor(e){super(),this.indexPath_=e,W(!we(e)&&Ce(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),o=this.extractChild(n.node),a=i.compareTo(o);return a===0?Zo(e.name,n.name):a}makePost(e,n){const i=yt(e),o=ue.EMPTY_NODE.updateChild(this.indexPath_,i);return new ye(n,o)}maxPost(){const e=ue.EMPTY_NODE.updateChild(this.indexPath_,za);return new ye(Ar,e)}toString(){return vE(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR extends Ec{compare(e,n){const i=e.node.compareTo(n.node);return i===0?Zo(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ye.MIN}maxPost(){return ye.MAX}makePost(e,n){const i=yt(e);return new ye(n,i)}toString(){return".value"}}const JR=new XR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(t){return{type:"value",snapshotNode:t}}function zo(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function va(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ya(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function eN(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e){this.index_=e}updateChild(e,n,i,o,a,l){W(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(n);return c.getChild(o).equals(i.getChild(o))&&c.isEmpty()===i.isEmpty()||(l!=null&&(i.isEmpty()?e.hasChild(n)?l.trackChildChange(va(n,c)):W(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?l.trackChildChange(zo(n,i)):l.trackChildChange(ya(n,i,c))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(tt,(o,a)=>{n.hasChild(o)||i.trackChildChange(va(o,a))}),n.isLeafNode()||n.forEachChild(tt,(o,a)=>{if(e.hasChild(o)){const l=e.getImmediateChild(o);l.equals(a)||i.trackChildChange(ya(o,a,l))}else i.trackChildChange(zo(o,a))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ue.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this.indexedFilter_=new kp(e.getIndex()),this.index_=e.getIndex(),this.startPost_=wa.getStartPost_(e),this.endPost_=wa.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,o,a,l){return this.matches(new ye(n,i))||(i=ue.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,o,a,l)}updateFullNode(e,n,i){n.isLeafNode()&&(n=ue.EMPTY_NODE);let o=n.withIndex(this.index_);o=o.updatePriority(ue.EMPTY_NODE);const a=this;return n.forEachChild(tt,(l,c)=>{a.matches(new ye(l,c))||(o=o.updateImmediateChild(l,ue.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new wa(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,o,a,l){return this.rangedFilter_.matches(new ye(n,i))||(i=ue.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,o,a,l):this.fullLimitUpdateChild_(e,n,i,a,l)}updateFullNode(e,n,i){let o;if(n.isLeafNode()||n.isEmpty())o=ue.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){o=ue.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;a.hasNext()&&l<this.limit_;){const c=a.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))o=o.updateImmediateChild(c.name,c.node),l++;else break;else continue}}else{o=n.withIndex(this.index_),o=o.updatePriority(ue.EMPTY_NODE);let a;this.reverse_?a=o.getReverseIterator(this.index_):a=o.getIterator(this.index_);let l=0;for(;a.hasNext();){const c=a.getNext();l<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?l++:o=o.updateImmediateChild(c.name,ue.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,o,a){let l;if(this.reverse_){const m=this.index_.getCompare();l=(_,E)=>m(E,_)}else l=this.index_.getCompare();const c=e;W(c.numChildren()===this.limit_,"");const h=new ye(n,i),f=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),g=this.rangedFilter_.matches(h);if(c.hasChild(n)){const m=c.getImmediateChild(n);let _=o.getChildAfterChild(this.index_,f,this.reverse_);for(;_!=null&&(_.name===n||c.hasChild(_.name));)_=o.getChildAfterChild(this.index_,_,this.reverse_);const E=_==null?1:l(_,h);if(g&&!i.isEmpty()&&E>=0)return a!=null&&a.trackChildChange(ya(n,i,m)),c.updateImmediateChild(n,i);{a!=null&&a.trackChildChange(va(n,m));const P=c.updateImmediateChild(n,ue.EMPTY_NODE);return _!=null&&this.rangedFilter_.matches(_)?(a!=null&&a.trackChildChange(zo(_.name,_.node)),P.updateImmediateChild(_.name,_.node)):P}}else return i.isEmpty()?e:g&&l(f,h)>=0?(a!=null&&(a.trackChildChange(va(f.name,f.node)),a.trackChildChange(zo(n,i))),c.updateImmediateChild(n,i).updateImmediateChild(f.name,ue.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=tt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return W(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return W(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Do}hasEnd(){return this.endSet_}getIndexEndValue(){return W(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return W(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ar}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return W(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===tt}copy(){const e=new Lp;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function nN(t){return t.loadsAllData()?new kp(t.getIndex()):t.hasLimit()?new tN(t):new wa(t)}function tv(t){const e={};if(t.isDefault())return e;let n;if(t.index_===tt?n="$priority":t.index_===JR?n="$value":t.index_===Po?n="$key":(W(t.index_ instanceof QR,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=dt(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=dt(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+dt(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=dt(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+dt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function nv(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==tt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends mE{constructor(e,n,i,o){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=o,this.log_=Da("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(W(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,o){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const l=Mu.getListenId_(e,i),c={};this.listens_[l]=c;const h=tv(e._queryParams);this.restRequest_(a+".json",h,(f,g)=>{let m=g;if(f===404&&(m=null,f=null),f===null&&this.onDataUpdate_(a,m,!1,i),Oo(this.listens_,l)===c){let _;f?f===401?_="permission_denied":_="rest_error:"+f:_="ok",o(_,null)}})}unlisten(e,n){const i=Mu.getListenId_(e,n);delete this.listens_[i]}get(e){const n=tv(e._queryParams),i=e._path.toString(),o=new _c;return this.restRequest_(i+".json",n,(a,l)=>{let c=l;a===404&&(c=null,a=null),a===null?(this.onDataUpdate_(i,c,!1,null),o.resolve(c)):o.reject(new Error(c))}),o.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,a])=>{o&&o.accessToken&&(n.auth=o.accessToken),a&&a.token&&(n.ac=a.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+cI(n);this.log_("Sending REST request for "+l);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(i&&c.readyState===4){this.log_("REST Response for "+l+" received. status:",c.status,"response:",c.responseText);let h=null;if(c.status>=200&&c.status<300){try{h=ma(c.responseText)}catch{$t("Failed to parse JSON response for "+l+": "+c.responseText)}i(null,h)}else c.status!==401&&c.status!==404&&$t("Got unsuccessful REST response for "+l+" Status: "+c.status),i(c.status);i=null}},c.open("GET",l,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(){this.rootNode_=ue.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(){return{value:null,children:new Map}}function kE(t,e,n){if(we(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=Ce(e);t.children.has(i)||t.children.set(i,Au());const o=t.children.get(i);e=je(e),kE(o,e,n)}}function of(t,e,n){t.value!==null?n(e,t.value):rN(t,(i,o)=>{const a=new De(e.toString()+"/"+i);of(o,a,n)})}function rN(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Gt(this.last_,(i,o)=>{n[i]=n[i]-o}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=10*1e3,sN=30*1e3,aN=5*60*1e3;class lN{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new oN(e);const i=iv+(sN-iv)*Math.random();Zs(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;Gt(e,(o,a)=>{a>0&&di(this.statsToReport_,o)&&(n[o]=a,i=!0)}),i&&this.server_.reportStats(n),Zs(this.reportStats_.bind(this),Math.floor(Math.random()*2*aN))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(kn||(kn={}));function LE(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Rp(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Np(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=kn.ACK_USER_WRITE,this.source=LE()}operationForChild(e){if(we(this.path)){if(this.affectedTree.value!=null)return W(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new De(e));return new Ou(Re(),n,this.revert)}}else return W(Ce(this.path)===e,"operationForChild called for unrelated child."),new Ou(je(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n){this.source=e,this.path=n,this.type=kn.LISTEN_COMPLETE}operationForChild(e){return we(this.path)?new Ea(this.source,Re()):new Ea(this.source,je(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=kn.OVERWRITE}operationForChild(e){return we(this.path)?new Or(this.source,Re(),this.snap.getImmediateChild(e)):new Or(this.source,je(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=kn.MERGE}operationForChild(e){if(we(this.path)){const n=this.children.subtree(new De(e));return n.isEmpty()?null:n.value?new Or(this.source,Re(),n.value):new Ca(this.source,Re(),n)}else return W(Ce(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ca(this.source,je(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(we(e))return this.isFullyInitialized()&&!this.filtered_;const n=Ce(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function cN(t,e,n,i){const o=[],a=[];return e.forEach(l=>{l.type==="child_changed"&&t.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&a.push(eN(l.childName,l.snapshotNode))}),Is(t,o,"child_removed",e,i,n),Is(t,o,"child_added",e,i,n),Is(t,o,"child_moved",a,i,n),Is(t,o,"child_changed",e,i,n),Is(t,o,"value",e,i,n),o}function Is(t,e,n,i,o,a){const l=i.filter(c=>c.type===n);l.sort((c,h)=>dN(t,c,h)),l.forEach(c=>{const h=hN(t,c,a);o.forEach(f=>{f.respondsTo(c.type)&&e.push(f.createEvent(h,t.query_))})})}function hN(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function dN(t,e,n){if(e.childName==null||n.childName==null)throw Vo("Should only compare child_ events.");const i=new ye(e.childName,e.snapshotNode),o=new ye(n.childName,n.snapshotNode);return t.index_.compare(i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(t,e){return{eventCache:t,serverCache:e}}function $s(t,e,n,i){return Cc(new qi(e,n,i),t.serverCache)}function RE(t,e,n,i){return Cc(t.eventCache,new qi(e,n,i))}function Du(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Dr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $h;const fN=()=>($h||($h=new Ut(XL)),$h);class Ze{constructor(e,n=fN()){this.value=e,this.children=n}static fromObject(e){let n=new Ze(null);return Gt(e,(i,o)=>{n=n.set(new De(i),o)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Re(),value:this.value};if(we(e))return null;{const i=Ce(e),o=this.children.get(i);if(o!==null){const a=o.findRootMostMatchingPathAndValue(je(e),n);return a!=null?{path:ft(new De(i),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(we(e))return this;{const n=Ce(e),i=this.children.get(n);return i!==null?i.subtree(je(e)):new Ze(null)}}set(e,n){if(we(e))return new Ze(n,this.children);{const i=Ce(e),a=(this.children.get(i)||new Ze(null)).set(je(e),n),l=this.children.insert(i,a);return new Ze(this.value,l)}}remove(e){if(we(e))return this.children.isEmpty()?new Ze(null):new Ze(null,this.children);{const n=Ce(e),i=this.children.get(n);if(i){const o=i.remove(je(e));let a;return o.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,o),this.value===null&&a.isEmpty()?new Ze(null):new Ze(this.value,a)}else return this}}get(e){if(we(e))return this.value;{const n=Ce(e),i=this.children.get(n);return i?i.get(je(e)):null}}setTree(e,n){if(we(e))return n;{const i=Ce(e),a=(this.children.get(i)||new Ze(null)).setTree(je(e),n);let l;return a.isEmpty()?l=this.children.remove(i):l=this.children.insert(i,a),new Ze(this.value,l)}}fold(e){return this.fold_(Re(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((o,a)=>{i[o]=a.fold_(ft(e,o),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,Re(),n)}findOnPath_(e,n,i){const o=this.value?i(n,this.value):!1;if(o)return o;if(we(e))return null;{const a=Ce(e),l=this.children.get(a);return l?l.findOnPath_(je(e),ft(n,a),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Re(),n)}foreachOnPath_(e,n,i){if(we(e))return this;{this.value&&i(n,this.value);const o=Ce(e),a=this.children.get(o);return a?a.foreachOnPath_(je(e),ft(n,o),i):new Ze(null)}}foreach(e){this.foreach_(Re(),e)}foreach_(e,n){this.children.inorderTraversal((i,o)=>{o.foreach_(ft(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.writeTree_=e}static empty(){return new Nn(new Ze(null))}}function Gs(t,e,n){if(we(e))return new Nn(new Ze(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const o=i.path;let a=i.value;const l=At(o,e);return a=a.updateChild(l,n),new Nn(t.writeTree_.set(o,a))}else{const o=new Ze(n),a=t.writeTree_.setTree(e,o);return new Nn(a)}}}function rv(t,e,n){let i=t;return Gt(n,(o,a)=>{i=Gs(i,ft(e,o),a)}),i}function ov(t,e){if(we(e))return Nn.empty();{const n=t.writeTree_.setTree(e,new Ze(null));return new Nn(n)}}function sf(t,e){return Ur(t,e)!=null}function Ur(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(At(n.path,e)):null}function sv(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(tt,(i,o)=>{e.push(new ye(i,o))}):t.writeTree_.children.inorderTraversal((i,o)=>{o.value!=null&&e.push(new ye(i,o.value))}),e}function Hi(t,e){if(we(e))return t;{const n=Ur(t,e);return n!=null?new Nn(new Ze(n)):new Nn(t.writeTree_.subtree(e))}}function af(t){return t.writeTree_.isEmpty()}function Fo(t,e){return NE(Re(),t.writeTree_,e)}function NE(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((o,a)=>{o===".priority"?(W(a.value!==null,"Priority writes must always be leaf nodes"),i=a.value):n=NE(ft(t,o),a,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(ft(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(t,e){return OE(e,t)}function pN(t,e,n,i,o){W(i>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:o}),o&&(t.visibleWrites=Gs(t.visibleWrites,e,n)),t.lastWriteId=i}function mN(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function _N(t,e){const n=t.allWrites.findIndex(c=>c.writeId===e);W(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let o=i.visible,a=!1,l=t.allWrites.length-1;for(;o&&l>=0;){const c=t.allWrites[l];c.visible&&(l>=n&&gN(c,i.path)?o=!1:In(i.path,c.path)&&(a=!0)),l--}if(o){if(a)return vN(t),!0;if(i.snap)t.visibleWrites=ov(t.visibleWrites,i.path);else{const c=i.children;Gt(c,h=>{t.visibleWrites=ov(t.visibleWrites,ft(i.path,h))})}return!0}else return!1}function gN(t,e){if(t.snap)return In(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&In(ft(t.path,n),e))return!0;return!1}function vN(t){t.visibleWrites=bE(t.allWrites,yN,Re()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function yN(t){return t.visible}function bE(t,e,n){let i=Nn.empty();for(let o=0;o<t.length;++o){const a=t[o];if(e(a)){const l=a.path;let c;if(a.snap)In(n,l)?(c=At(n,l),i=Gs(i,c,a.snap)):In(l,n)&&(c=At(l,n),i=Gs(i,Re(),a.snap.getChild(c)));else if(a.children){if(In(n,l))c=At(n,l),i=rv(i,c,a.children);else if(In(l,n))if(c=At(l,n),we(c))i=rv(i,Re(),a.children);else{const h=Oo(a.children,Ce(c));if(h){const f=h.getChild(je(c));i=Gs(i,Re(),f)}}}else throw Vo("WriteRecord should have .snap or .children")}}return i}function ME(t,e,n,i,o){if(!i&&!o){const a=Ur(t.visibleWrites,e);if(a!=null)return a;{const l=Hi(t.visibleWrites,e);if(af(l))return n;if(n==null&&!sf(l,Re()))return null;{const c=n||ue.EMPTY_NODE;return Fo(l,c)}}}else{const a=Hi(t.visibleWrites,e);if(!o&&af(a))return n;if(!o&&n==null&&!sf(a,Re()))return null;{const l=function(f){return(f.visible||o)&&(!i||!~i.indexOf(f.writeId))&&(In(f.path,e)||In(e,f.path))},c=bE(t.allWrites,l,e),h=n||ue.EMPTY_NODE;return Fo(c,h)}}}function wN(t,e,n){let i=ue.EMPTY_NODE;const o=Ur(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(tt,(a,l)=>{i=i.updateImmediateChild(a,l)}),i;if(n){const a=Hi(t.visibleWrites,e);return n.forEachChild(tt,(l,c)=>{const h=Fo(Hi(a,new De(l)),c);i=i.updateImmediateChild(l,h)}),sv(a).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}else{const a=Hi(t.visibleWrites,e);return sv(a).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}}function EN(t,e,n,i,o){W(i||o,"Either existingEventSnap or existingServerSnap must exist");const a=ft(e,n);if(sf(t.visibleWrites,a))return null;{const l=Hi(t.visibleWrites,a);return af(l)?o.getChild(n):Fo(l,o.getChild(n))}}function CN(t,e,n,i){const o=ft(e,n),a=Ur(t.visibleWrites,o);if(a!=null)return a;if(i.isCompleteForChild(n)){const l=Hi(t.visibleWrites,o);return Fo(l,i.getNode().getImmediateChild(n))}else return null}function SN(t,e){return Ur(t.visibleWrites,e)}function xN(t,e,n,i,o,a,l){let c;const h=Hi(t.visibleWrites,e),f=Ur(h,Re());if(f!=null)c=f;else if(n!=null)c=Fo(h,n);else return[];if(c=c.withIndex(l),!c.isEmpty()&&!c.isLeafNode()){const g=[],m=l.getCompare(),_=a?c.getReverseIteratorFrom(i,l):c.getIteratorFrom(i,l);let E=_.getNext();for(;E&&g.length<o;)m(E,i)!==0&&g.push(E),E=_.getNext();return g}else return[]}function TN(){return{visibleWrites:Nn.empty(),allWrites:[],lastWriteId:-1}}function zu(t,e,n,i){return ME(t.writeTree,t.treePath,e,n,i)}function bp(t,e){return wN(t.writeTree,t.treePath,e)}function av(t,e,n,i){return EN(t.writeTree,t.treePath,e,n,i)}function Fu(t,e){return SN(t.writeTree,ft(t.treePath,e))}function PN(t,e,n,i,o,a){return xN(t.writeTree,t.treePath,e,n,i,o,a)}function Mp(t,e,n){return CN(t.writeTree,t.treePath,e,n)}function AE(t,e){return OE(ft(t.treePath,e),t.writeTree)}function OE(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;W(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),W(i!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(i);if(o){const a=o.type;if(n==="child_added"&&a==="child_removed")this.changeMap.set(i,ya(i,e.snapshotNode,o.snapshotNode));else if(n==="child_removed"&&a==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&a==="child_changed")this.changeMap.set(i,va(i,o.oldSnap));else if(n==="child_changed"&&a==="child_added")this.changeMap.set(i,zo(i,e.snapshotNode));else if(n==="child_changed"&&a==="child_changed")this.changeMap.set(i,ya(i,e.snapshotNode,o.oldSnap));else throw Vo("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const DE=new kN;class Ap{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new qi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Mp(this.writes_,e,i)}}getChildAfterChild(e,n,i){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Dr(this.viewCache_),a=PN(this.writes_,o,n,1,i,e);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(t){return{filter:t}}function RN(t,e){W(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),W(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function NN(t,e,n,i,o){const a=new IN;let l,c;if(n.type===kn.OVERWRITE){const f=n;f.source.fromUser?l=lf(t,e,f.path,f.snap,i,o,a):(W(f.source.fromServer,"Unknown source."),c=f.source.tagged||e.serverCache.isFiltered()&&!we(f.path),l=Bu(t,e,f.path,f.snap,i,o,c,a))}else if(n.type===kn.MERGE){const f=n;f.source.fromUser?l=MN(t,e,f.path,f.children,i,o,a):(W(f.source.fromServer,"Unknown source."),c=f.source.tagged||e.serverCache.isFiltered(),l=uf(t,e,f.path,f.children,i,o,c,a))}else if(n.type===kn.ACK_USER_WRITE){const f=n;f.revert?l=DN(t,e,f.path,i,o,a):l=AN(t,e,f.path,f.affectedTree,i,o,a)}else if(n.type===kn.LISTEN_COMPLETE)l=ON(t,e,n.path,i,a);else throw Vo("Unknown operation type: "+n.type);const h=a.getChanges();return bN(e,l,h),{viewCache:l,changes:h}}function bN(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const o=i.getNode().isLeafNode()||i.getNode().isEmpty(),a=Du(t);(n.length>0||!t.eventCache.isFullyInitialized()||o&&!i.getNode().equals(a)||!i.getNode().getPriority().equals(a.getPriority()))&&n.push(IE(Du(e)))}}function zE(t,e,n,i,o,a){const l=e.eventCache;if(Fu(i,n)!=null)return e;{let c,h;if(we(n))if(W(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const f=Dr(e),g=f instanceof ue?f:ue.EMPTY_NODE,m=bp(i,g);c=t.filter.updateFullNode(e.eventCache.getNode(),m,a)}else{const f=zu(i,Dr(e));c=t.filter.updateFullNode(e.eventCache.getNode(),f,a)}else{const f=Ce(n);if(f===".priority"){W(Gi(n)===1,"Can't have a priority with additional path components");const g=l.getNode();h=e.serverCache.getNode();const m=av(i,n,g,h);m!=null?c=t.filter.updatePriority(g,m):c=l.getNode()}else{const g=je(n);let m;if(l.isCompleteForChild(f)){h=e.serverCache.getNode();const _=av(i,n,l.getNode(),h);_!=null?m=l.getNode().getImmediateChild(f).updateChild(g,_):m=l.getNode().getImmediateChild(f)}else m=Mp(i,f,e.serverCache);m!=null?c=t.filter.updateChild(l.getNode(),f,m,g,o,a):c=l.getNode()}}return $s(e,c,l.isFullyInitialized()||we(n),t.filter.filtersNodes())}}function Bu(t,e,n,i,o,a,l,c){const h=e.serverCache;let f;const g=l?t.filter:t.filter.getIndexedFilter();if(we(n))f=g.updateFullNode(h.getNode(),i,null);else if(g.filtersNodes()&&!h.isFiltered()){const E=h.getNode().updateChild(n,i);f=g.updateFullNode(h.getNode(),E,null)}else{const E=Ce(n);if(!h.isCompleteForPath(n)&&Gi(n)>1)return e;const T=je(n),z=h.getNode().getImmediateChild(E).updateChild(T,i);E===".priority"?f=g.updatePriority(h.getNode(),z):f=g.updateChild(h.getNode(),E,z,T,DE,null)}const m=RE(e,f,h.isFullyInitialized()||we(n),g.filtersNodes()),_=new Ap(o,m,a);return zE(t,m,n,o,_,c)}function lf(t,e,n,i,o,a,l){const c=e.eventCache;let h,f;const g=new Ap(o,e,a);if(we(n))f=t.filter.updateFullNode(e.eventCache.getNode(),i,l),h=$s(e,f,!0,t.filter.filtersNodes());else{const m=Ce(n);if(m===".priority")f=t.filter.updatePriority(e.eventCache.getNode(),i),h=$s(e,f,c.isFullyInitialized(),c.isFiltered());else{const _=je(n),E=c.getNode().getImmediateChild(m);let T;if(we(_))T=i;else{const P=g.getCompleteChild(m);P!=null?gE(_)===".priority"&&P.getChild(yE(_)).isEmpty()?T=P:T=P.updateChild(_,i):T=ue.EMPTY_NODE}if(E.equals(T))h=e;else{const P=t.filter.updateChild(c.getNode(),m,T,_,g,l);h=$s(e,P,c.isFullyInitialized(),t.filter.filtersNodes())}}}return h}function lv(t,e){return t.eventCache.isCompleteForChild(e)}function MN(t,e,n,i,o,a,l){let c=e;return i.foreach((h,f)=>{const g=ft(n,h);lv(e,Ce(g))&&(c=lf(t,c,g,f,o,a,l))}),i.foreach((h,f)=>{const g=ft(n,h);lv(e,Ce(g))||(c=lf(t,c,g,f,o,a,l))}),c}function uv(t,e,n){return n.foreach((i,o)=>{e=e.updateChild(i,o)}),e}function uf(t,e,n,i,o,a,l,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h=e,f;we(n)?f=i:f=new Ze(null).setTree(n,i);const g=e.serverCache.getNode();return f.children.inorderTraversal((m,_)=>{if(g.hasChild(m)){const E=e.serverCache.getNode().getImmediateChild(m),T=uv(t,E,_);h=Bu(t,h,new De(m),T,o,a,l,c)}}),f.children.inorderTraversal((m,_)=>{const E=!e.serverCache.isCompleteForChild(m)&&_.value===null;if(!g.hasChild(m)&&!E){const T=e.serverCache.getNode().getImmediateChild(m),P=uv(t,T,_);h=Bu(t,h,new De(m),P,o,a,l,c)}}),h}function AN(t,e,n,i,o,a,l){if(Fu(o,n)!=null)return e;const c=e.serverCache.isFiltered(),h=e.serverCache;if(i.value!=null){if(we(n)&&h.isFullyInitialized()||h.isCompleteForPath(n))return Bu(t,e,n,h.getNode().getChild(n),o,a,c,l);if(we(n)){let f=new Ze(null);return h.getNode().forEachChild(Po,(g,m)=>{f=f.set(new De(g),m)}),uf(t,e,n,f,o,a,c,l)}else return e}else{let f=new Ze(null);return i.foreach((g,m)=>{const _=ft(n,g);h.isCompleteForPath(_)&&(f=f.set(g,h.getNode().getChild(_)))}),uf(t,e,n,f,o,a,c,l)}}function ON(t,e,n,i,o){const a=e.serverCache,l=RE(e,a.getNode(),a.isFullyInitialized()||we(n),a.isFiltered());return zE(t,l,n,i,DE,o)}function DN(t,e,n,i,o,a){let l;if(Fu(i,n)!=null)return e;{const c=new Ap(i,e,o),h=e.eventCache.getNode();let f;if(we(n)||Ce(n)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=zu(i,Dr(e));else{const m=e.serverCache.getNode();W(m instanceof ue,"serverChildren would be complete if leaf node"),g=bp(i,m)}g=g,f=t.filter.updateFullNode(h,g,a)}else{const g=Ce(n);let m=Mp(i,g,e.serverCache);m==null&&e.serverCache.isCompleteForChild(g)&&(m=h.getImmediateChild(g)),m!=null?f=t.filter.updateChild(h,g,m,je(n),c,a):e.eventCache.getNode().hasChild(g)?f=t.filter.updateChild(h,g,ue.EMPTY_NODE,je(n),c,a):f=h,f.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=zu(i,Dr(e)),l.isLeafNode()&&(f=t.filter.updateFullNode(f,l,a)))}return l=e.serverCache.isFullyInitialized()||Fu(i,Re())!=null,$s(e,f,l,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,o=new kp(i.getIndex()),a=nN(i);this.processor_=LN(a);const l=n.serverCache,c=n.eventCache,h=o.updateFullNode(ue.EMPTY_NODE,l.getNode(),null),f=a.updateFullNode(ue.EMPTY_NODE,c.getNode(),null),g=new qi(h,l.isFullyInitialized(),o.filtersNodes()),m=new qi(f,c.isFullyInitialized(),a.filtersNodes());this.viewCache_=Cc(m,g),this.eventGenerator_=new uN(this.query_)}get query(){return this.query_}}function FN(t){return t.viewCache_.serverCache.getNode()}function BN(t){return Du(t.viewCache_)}function jN(t,e){const n=Dr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!we(e)&&!n.getImmediateChild(Ce(e)).isEmpty())?n.getChild(e):null}function cv(t){return t.eventRegistrations_.length===0}function UN(t,e){t.eventRegistrations_.push(e)}function hv(t,e,n){const i=[];if(n){W(e==null,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(a=>{const l=a.createCancelEvent(n,o);l&&i.push(l)})}if(e){let o=[];for(let a=0;a<t.eventRegistrations_.length;++a){const l=t.eventRegistrations_[a];if(!l.matches(e))o.push(l);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(a+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return i}function dv(t,e,n,i){e.type===kn.MERGE&&e.source.queryId!==null&&(W(Dr(t.viewCache_),"We should always have a full cache before handling merges"),W(Du(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,a=NN(t.processor_,o,e,n,i);return RN(t.processor_,a.viewCache),W(a.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=a.viewCache,FE(t,a.changes,a.viewCache.eventCache.getNode(),null)}function HN(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(tt,(a,l)=>{i.push(zo(a,l))}),n.isFullyInitialized()&&i.push(IE(n.getNode())),FE(t,i,n.getNode(),e)}function FE(t,e,n,i){const o=i?[i]:t.eventRegistrations_;return cN(t.eventGenerator_,e,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju;class BE{constructor(){this.views=new Map}}function WN(t){W(!ju,"__referenceConstructor has already been defined"),ju=t}function VN(){return W(ju,"Reference.ts has not been loaded"),ju}function ZN(t){return t.views.size===0}function Op(t,e,n,i){const o=e.source.queryId;if(o!==null){const a=t.views.get(o);return W(a!=null,"SyncTree gave us an op for an invalid query."),dv(a,e,n,i)}else{let a=[];for(const l of t.views.values())a=a.concat(dv(l,e,n,i));return a}}function jE(t,e,n,i,o){const a=e._queryIdentifier,l=t.views.get(a);if(!l){let c=zu(n,o?i:null),h=!1;c?h=!0:i instanceof ue?(c=bp(n,i),h=!1):(c=ue.EMPTY_NODE,h=!1);const f=Cc(new qi(c,h,!1),new qi(i,o,!1));return new zN(e,f)}return l}function $N(t,e,n,i,o,a){const l=jE(t,e,i,o,a);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,l),UN(l,n),HN(l,n)}function GN(t,e,n,i){const o=e._queryIdentifier,a=[];let l=[];const c=Ki(t);if(o==="default")for(const[h,f]of t.views.entries())l=l.concat(hv(f,n,i)),cv(f)&&(t.views.delete(h),f.query._queryParams.loadsAllData()||a.push(f.query));else{const h=t.views.get(o);h&&(l=l.concat(hv(h,n,i)),cv(h)&&(t.views.delete(o),h.query._queryParams.loadsAllData()||a.push(h.query)))}return c&&!Ki(t)&&a.push(new(VN())(e._repo,e._path)),{removed:a,events:l}}function UE(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Wi(t,e){let n=null;for(const i of t.views.values())n=n||jN(i,e);return n}function HE(t,e){if(e._queryParams.loadsAllData())return xc(t);{const i=e._queryIdentifier;return t.views.get(i)}}function WE(t,e){return HE(t,e)!=null}function Ki(t){return xc(t)!=null}function xc(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uu;function qN(t){W(!Uu,"__referenceConstructor has already been defined"),Uu=t}function KN(){return W(Uu,"Reference.ts has not been loaded"),Uu}let YN=1;class fv{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ze(null),this.pendingWriteTree_=TN(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function VE(t,e,n,i,o){return pN(t.pendingWriteTree_,e,n,i,o),o?Ba(t,new Or(LE(),e,n)):[]}function Sr(t,e,n=!1){const i=mN(t.pendingWriteTree_,e);if(_N(t.pendingWriteTree_,e)){let a=new Ze(null);return i.snap!=null?a=a.set(Re(),!0):Gt(i.children,l=>{a=a.set(new De(l),!0)}),Ba(t,new Ou(i.path,a,n))}else return[]}function Fa(t,e,n){return Ba(t,new Or(Rp(),e,n))}function QN(t,e,n){const i=Ze.fromObject(n);return Ba(t,new Ca(Rp(),e,i))}function XN(t,e){return Ba(t,new Ea(Rp(),e))}function JN(t,e,n){const i=zp(t,n);if(i){const o=Fp(i),a=o.path,l=o.queryId,c=At(a,e),h=new Ea(Np(l),c);return Bp(t,a,h)}else return[]}function ZE(t,e,n,i,o=!1){const a=e._path,l=t.syncPointTree_.get(a);let c=[];if(l&&(e._queryIdentifier==="default"||WE(l,e))){const h=GN(l,e,n,i);ZN(l)&&(t.syncPointTree_=t.syncPointTree_.remove(a));const f=h.removed;if(c=h.events,!o){const g=f.findIndex(_=>_._queryParams.loadsAllData())!==-1,m=t.syncPointTree_.findOnPath(a,(_,E)=>Ki(E));if(g&&!m){const _=t.syncPointTree_.subtree(a);if(!_.isEmpty()){const E=ib(_);for(let T=0;T<E.length;++T){const P=E[T],z=P.query,C=KE(t,P);t.listenProvider_.startListening(qs(z),Sa(t,z),C.hashFn,C.onComplete)}}}!m&&f.length>0&&!i&&(g?t.listenProvider_.stopListening(qs(e),null):f.forEach(_=>{const E=t.queryToTagMap.get(Tc(_));t.listenProvider_.stopListening(qs(_),E)}))}rb(t,f)}return c}function $E(t,e,n,i){const o=zp(t,i);if(o!=null){const a=Fp(o),l=a.path,c=a.queryId,h=At(l,e),f=new Or(Np(c),h,n);return Bp(t,l,f)}else return[]}function eb(t,e,n,i){const o=zp(t,i);if(o){const a=Fp(o),l=a.path,c=a.queryId,h=At(l,e),f=Ze.fromObject(n),g=new Ca(Np(c),h,f);return Bp(t,l,g)}else return[]}function tb(t,e,n,i=!1){const o=e._path;let a=null,l=!1;t.syncPointTree_.foreachOnPath(o,(_,E)=>{const T=At(_,o);a=a||Wi(E,T),l=l||Ki(E)});let c=t.syncPointTree_.get(o);c?(l=l||Ki(c),a=a||Wi(c,Re())):(c=new BE,t.syncPointTree_=t.syncPointTree_.set(o,c));let h;a!=null?h=!0:(h=!1,a=ue.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((E,T)=>{const P=Wi(T,Re());P&&(a=a.updateImmediateChild(E,P))}));const f=WE(c,e);if(!f&&!e._queryParams.loadsAllData()){const _=Tc(e);W(!t.queryToTagMap.has(_),"View does not exist, but we have a tag");const E=ob();t.queryToTagMap.set(_,E),t.tagToQueryMap.set(E,_)}const g=Sc(t.pendingWriteTree_,o);let m=$N(c,e,n,g,a,h);if(!f&&!l&&!i){const _=HE(c,e);m=m.concat(sb(t,e,_))}return m}function Dp(t,e,n){const o=t.pendingWriteTree_,a=t.syncPointTree_.findOnPath(e,(l,c)=>{const h=At(l,e),f=Wi(c,h);if(f)return f});return ME(o,e,a,n,!0)}function nb(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(f,g)=>{const m=At(f,n);i=i||Wi(g,m)});let o=t.syncPointTree_.get(n);o?i=i||Wi(o,Re()):(o=new BE,t.syncPointTree_=t.syncPointTree_.set(n,o));const a=i!=null,l=a?new qi(i,!0,!1):null,c=Sc(t.pendingWriteTree_,e._path),h=jE(o,e,c,a?l.getNode():ue.EMPTY_NODE,a);return BN(h)}function Ba(t,e){return GE(e,t.syncPointTree_,null,Sc(t.pendingWriteTree_,Re()))}function GE(t,e,n,i){if(we(t.path))return qE(t,e,n,i);{const o=e.get(Re());n==null&&o!=null&&(n=Wi(o,Re()));let a=[];const l=Ce(t.path),c=t.operationForChild(l),h=e.children.get(l);if(h&&c){const f=n?n.getImmediateChild(l):null,g=AE(i,l);a=a.concat(GE(c,h,f,g))}return o&&(a=a.concat(Op(o,t,i,n))),a}}function qE(t,e,n,i){const o=e.get(Re());n==null&&o!=null&&(n=Wi(o,Re()));let a=[];return e.children.inorderTraversal((l,c)=>{const h=n?n.getImmediateChild(l):null,f=AE(i,l),g=t.operationForChild(l);g&&(a=a.concat(qE(g,c,h,f)))}),o&&(a=a.concat(Op(o,t,i,n))),a}function KE(t,e){const n=e.query,i=Sa(t,n);return{hashFn:()=>(FN(e)||ue.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return i?JN(t,n._path,i):XN(t,n._path);{const a=tR(o,n);return ZE(t,n,null,a)}}}}function Sa(t,e){const n=Tc(e);return t.queryToTagMap.get(n)}function Tc(t){return t._path.toString()+"$"+t._queryIdentifier}function zp(t,e){return t.tagToQueryMap.get(e)}function Fp(t){const e=t.indexOf("$");return W(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new De(t.substr(0,e))}}function Bp(t,e,n){const i=t.syncPointTree_.get(e);W(i,"Missing sync point for query tag that we're tracking");const o=Sc(t.pendingWriteTree_,e);return Op(i,n,o,null)}function ib(t){return t.fold((e,n,i)=>{if(n&&Ki(n))return[xc(n)];{let o=[];return n&&(o=UE(n)),Gt(i,(a,l)=>{o=o.concat(l)}),o}})}function qs(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(KN())(t._repo,t._path):t}function rb(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const o=Tc(i),a=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(a)}}}function ob(){return YN++}function sb(t,e,n){const i=e._path,o=Sa(t,e),a=KE(t,n),l=t.listenProvider_.startListening(qs(e),o,a.hashFn,a.onComplete),c=t.syncPointTree_.subtree(i);if(o)W(!Ki(c.value),"If we're adding a query, it shouldn't be shadowed");else{const h=c.fold((f,g,m)=>{if(!we(f)&&g&&Ki(g))return[xc(g).query];{let _=[];return g&&(_=_.concat(UE(g).map(E=>E.query))),Gt(m,(E,T)=>{_=_.concat(T)}),_}});for(let f=0;f<h.length;++f){const g=h[f];t.listenProvider_.stopListening(qs(g),Sa(t,g))}}return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new jp(n)}node(){return this.node_}}class Up{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ft(this.path_,e);return new Up(this.syncTree_,n)}node(){return Dp(this.syncTree_,this.path_)}}const ab=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},pv=function(t,e,n){if(!t||typeof t!="object")return t;if(W(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return lb(t[".sv"],e,n);if(typeof t[".sv"]=="object")return ub(t[".sv"],e);W(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},lb=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:W(!1,"Unexpected server value: "+t)}},ub=function(t,e,n){t.hasOwnProperty("increment")||W(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&W(!1,"Unexpected increment value: "+i);const o=e.node();if(W(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return i;const l=o.getValue();return typeof l!="number"?i:l+i},cb=function(t,e,n,i){return Hp(e,new Up(n,t),i)},YE=function(t,e,n){return Hp(t,new jp(e),n)};function Hp(t,e,n){const i=t.getPriority().val(),o=pv(i,e.getImmediateChild(".priority"),n);let a;if(t.isLeafNode()){const l=t,c=pv(l.getValue(),e,n);return c!==l.getValue()||o!==l.getPriority().val()?new _t(c,yt(o)):t}else{const l=t;return a=l,o!==l.getPriority().val()&&(a=a.updatePriority(new _t(o))),l.forEachChild(tt,(c,h)=>{const f=Hp(h,e.getImmediateChild(c),n);f!==h&&(a=a.updateImmediateChild(c,f))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function Vp(t,e){let n=e instanceof De?e:new De(e),i=t,o=Ce(n);for(;o!==null;){const a=Oo(i.node.children,o)||{children:{},childCount:0};i=new Wp(o,i,a),n=je(n),o=Ce(n)}return i}function Go(t){return t.node.value}function QE(t,e){t.node.value=e,cf(t)}function XE(t){return t.node.childCount>0}function hb(t){return Go(t)===void 0&&!XE(t)}function Pc(t,e){Gt(t.node.children,(n,i)=>{e(new Wp(n,t,i))})}function JE(t,e,n,i){n&&!i&&e(t),Pc(t,o=>{JE(o,e,!0,i)}),n&&i&&e(t)}function db(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function ja(t){return new De(t.parent===null?t.name:ja(t.parent)+"/"+t.name)}function cf(t){t.parent!==null&&fb(t.parent,t.name,t)}function fb(t,e,n){const i=hb(n),o=di(t.node.children,e);i&&o?(delete t.node.children[e],t.node.childCount--,cf(t)):!i&&!o&&(t.node.children[e]=n.node,t.node.childCount++,cf(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=/[\[\].#$\/\u0000-\u001F\u007F]/,mb=/[\[\].#$\u0000-\u001F\u007F]/,Gh=10*1024*1024,eC=function(t){return typeof t=="string"&&t.length!==0&&!pb.test(t)},tC=function(t){return typeof t=="string"&&t.length!==0&&!mb.test(t)},_b=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),tC(t)},nC=function(t,e,n,i){i&&e===void 0||Zp(pp(t,"value"),e,n)},Zp=function(t,e,n){const i=n instanceof De?new AR(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+pr(i));if(typeof e=="function")throw new Error(t+"contains a function "+pr(i)+" with contents = "+e.toString());if(Y0(e))throw new Error(t+"contains "+e.toString()+" "+pr(i));if(typeof e=="string"&&e.length>Gh/3&&vc(e)>Gh)throw new Error(t+"contains a string greater than "+Gh+" utf8 bytes "+pr(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,a=!1;if(Gt(e,(l,c)=>{if(l===".value")o=!0;else if(l!==".priority"&&l!==".sv"&&(a=!0,!eC(l)))throw new Error(t+" contains an invalid key ("+l+") "+pr(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);OR(i,l),Zp(t,c,i),DR(i)}),o&&a)throw new Error(t+' contains ".value" child '+pr(i)+" in addition to actual children.")}},iC=function(t,e,n,i){if(!tC(n))throw new Error(pp(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},gb=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),iC(t,e,n)},rC=function(t,e){if(Ce(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},vb=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!eC(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!_b(n))throw new Error(pp(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function oC(t,e){let n=null;for(let i=0;i<e.length;i++){const o=e[i],a=o.getPath();n!==null&&!wE(a,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:a}),n.events.push(o)}n&&t.eventLists_.push(n)}function $n(t,e,n){oC(t,n),wb(t,i=>In(i,e)||In(e,i))}function wb(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const o=t.eventLists_[i];if(o){const a=o.path;e(a)?(Eb(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Eb(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();Vs&&Lt("event: "+n.toString()),$o(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="repo_interrupt",Sb=25;class xb{constructor(e,n,i,o){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new yb,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Au(),this.transactionQueueTree_=new Wp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Tb(t,e,n){if(t.stats_=xp(t.repoInfo_),t.forceRestClient_||oR())t.server_=new Mu(t.repoInfo_,(i,o,a,l)=>{mv(t,i,o,a,l)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>_v(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{dt(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new ii(t.repoInfo_,e,(i,o,a,l)=>{mv(t,i,o,a,l)},i=>{_v(t,i)},i=>{Pb(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=cR(t.repoInfo_,()=>new lN(t.stats_,t.server_)),t.infoData_=new iN,t.infoSyncTree_=new fv({startListening:(i,o,a,l)=>{let c=[];const h=t.infoData_.getNode(i._path);return h.isEmpty()||(c=Fa(t.infoSyncTree_,i._path,h),setTimeout(()=>{l("ok")},0)),c},stopListening:()=>{}}),Gp(t,"connected",!1),t.serverSyncTree_=new fv({startListening:(i,o,a,l)=>(t.server_.listen(i,a,o,(c,h)=>{const f=l(c,h);$n(t.eventQueue_,i._path,f)}),[]),stopListening:(i,o)=>{t.server_.unlisten(i,o)}})}function sC(t){const n=t.infoData_.getNode(new De(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function $p(t){return ab({timestamp:sC(t)})}function mv(t,e,n,i,o){t.dataUpdateCount++;const a=new De(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let l=[];if(o)if(i){const h=Tu(n,f=>yt(f));l=eb(t.serverSyncTree_,a,h,o)}else{const h=yt(n);l=$E(t.serverSyncTree_,a,h,o)}else if(i){const h=Tu(n,f=>yt(f));l=QN(t.serverSyncTree_,a,h)}else{const h=yt(n);l=Fa(t.serverSyncTree_,a,h)}let c=a;l.length>0&&(c=kc(t,a)),$n(t.eventQueue_,c,l)}function _v(t,e){Gp(t,"connected",e),e===!1&&Lb(t)}function Pb(t,e){Gt(e,(n,i)=>{Gp(t,n,i)})}function Gp(t,e,n){const i=new De("/.info/"+e),o=yt(n);t.infoData_.updateSnapshot(i,o);const a=Fa(t.infoSyncTree_,i,o);$n(t.eventQueue_,i,a)}function aC(t){return t.nextWriteId_++}function Ib(t,e,n){const i=nb(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(o=>{const a=yt(o).withIndex(e._queryParams.getIndex());tb(t.serverSyncTree_,e,n,!0);let l;if(e._queryParams.loadsAllData())l=Fa(t.serverSyncTree_,e._path,a);else{const c=Sa(t.serverSyncTree_,e);l=$E(t.serverSyncTree_,e._path,a,c)}return $n(t.eventQueue_,e._path,l),ZE(t.serverSyncTree_,e,n,null,!0),a},o=>(Ic(t,"get for query "+dt(e)+" failed: "+o),Promise.reject(new Error(o))))}function kb(t,e,n,i,o){Ic(t,"set",{path:e.toString(),value:n,priority:i});const a=$p(t),l=yt(n,i),c=Dp(t.serverSyncTree_,e),h=YE(l,c,a),f=aC(t),g=VE(t.serverSyncTree_,e,h,f,!0);oC(t.eventQueue_,g),t.server_.put(e.toString(),l.val(!0),(_,E)=>{const T=_==="ok";T||$t("set at "+e+" failed: "+_);const P=Sr(t.serverSyncTree_,f,!T);$n(t.eventQueue_,e,P),Nb(t,o,_,E)});const m=dC(t,e);kc(t,m),$n(t.eventQueue_,m,[])}function Lb(t){Ic(t,"onDisconnectEvents");const e=$p(t),n=Au();of(t.onDisconnect_,Re(),(o,a)=>{const l=cb(o,a,t.serverSyncTree_,e);kE(n,o,l)});let i=[];of(n,Re(),(o,a)=>{i=i.concat(Fa(t.serverSyncTree_,o,a));const l=dC(t,o);kc(t,l)}),t.onDisconnect_=Au(),$n(t.eventQueue_,Re(),i)}function Rb(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Cb)}function Ic(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Lt(n,...e)}function Nb(t,e,n,i){e&&$o(()=>{if(n==="ok")e(null);else{const o=(n||"error").toUpperCase();let a=o;i&&(a+=": "+i);const l=new Error(a);l.code=o,e(l)}})}function lC(t,e,n){return Dp(t.serverSyncTree_,e,n)||ue.EMPTY_NODE}function qp(t,e=t.transactionQueueTree_){if(e||Lc(t,e),Go(e)){const n=cC(t,e);W(n.length>0,"Sending zero length transaction queue"),n.every(o=>o.status===0)&&bb(t,ja(e),n)}else XE(e)&&Pc(e,n=>{qp(t,n)})}function bb(t,e,n){const i=n.map(f=>f.currentWriteId),o=lC(t,e,i);let a=o;const l=o.hash();for(let f=0;f<n.length;f++){const g=n[f];W(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const m=At(e,g.path);a=a.updateChild(m,g.currentOutputSnapshotRaw)}const c=a.val(!0),h=e;t.server_.put(h.toString(),c,f=>{Ic(t,"transaction put response",{path:h.toString(),status:f});let g=[];if(f==="ok"){const m=[];for(let _=0;_<n.length;_++)n[_].status=2,g=g.concat(Sr(t.serverSyncTree_,n[_].currentWriteId)),n[_].onComplete&&m.push(()=>n[_].onComplete(null,!0,n[_].currentOutputSnapshotResolved)),n[_].unwatcher();Lc(t,Vp(t.transactionQueueTree_,e)),qp(t,t.transactionQueueTree_),$n(t.eventQueue_,e,g);for(let _=0;_<m.length;_++)$o(m[_])}else{if(f==="datastale")for(let m=0;m<n.length;m++)n[m].status===3?n[m].status=4:n[m].status=0;else{$t("transaction at "+h.toString()+" failed: "+f);for(let m=0;m<n.length;m++)n[m].status=4,n[m].abortReason=f}kc(t,e)}},l)}function kc(t,e){const n=uC(t,e),i=ja(n),o=cC(t,n);return Mb(t,o,i),i}function Mb(t,e,n){if(e.length===0)return;const i=[];let o=[];const l=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const h=e[c],f=At(n,h.path);let g=!1,m;if(W(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===4)g=!0,m=h.abortReason,o=o.concat(Sr(t.serverSyncTree_,h.currentWriteId,!0));else if(h.status===0)if(h.retryCount>=Sb)g=!0,m="maxretry",o=o.concat(Sr(t.serverSyncTree_,h.currentWriteId,!0));else{const _=lC(t,h.path,l);h.currentInputSnapshot=_;const E=e[c].update(_.val());if(E!==void 0){Zp("transaction failed: Data returned ",E,h.path);let T=yt(E);typeof E=="object"&&E!=null&&di(E,".priority")||(T=T.updatePriority(_.getPriority()));const z=h.currentWriteId,C=$p(t),y=YE(T,_,C);h.currentOutputSnapshotRaw=T,h.currentOutputSnapshotResolved=y,h.currentWriteId=aC(t),l.splice(l.indexOf(z),1),o=o.concat(VE(t.serverSyncTree_,h.path,y,h.currentWriteId,h.applyLocally)),o=o.concat(Sr(t.serverSyncTree_,z,!0))}else g=!0,m="nodata",o=o.concat(Sr(t.serverSyncTree_,h.currentWriteId,!0))}$n(t.eventQueue_,n,o),o=[],g&&(e[c].status=2,function(_){setTimeout(_,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(m==="nodata"?i.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):i.push(()=>e[c].onComplete(new Error(m),!1,null))))}Lc(t,t.transactionQueueTree_);for(let c=0;c<i.length;c++)$o(i[c]);qp(t,t.transactionQueueTree_)}function uC(t,e){let n,i=t.transactionQueueTree_;for(n=Ce(e);n!==null&&Go(i)===void 0;)i=Vp(i,n),e=je(e),n=Ce(e);return i}function cC(t,e){const n=[];return hC(t,e,n),n.sort((i,o)=>i.order-o.order),n}function hC(t,e,n){const i=Go(e);if(i)for(let o=0;o<i.length;o++)n.push(i[o]);Pc(e,o=>{hC(t,o,n)})}function Lc(t,e){const n=Go(e);if(n){let i=0;for(let o=0;o<n.length;o++)n[o].status!==2&&(n[i]=n[o],i++);n.length=i,QE(e,n.length>0?n:void 0)}Pc(e,i=>{Lc(t,i)})}function dC(t,e){const n=ja(uC(t,e)),i=Vp(t.transactionQueueTree_,e);return db(i,o=>{qh(t,o)}),qh(t,i),JE(i,o=>{qh(t,o)}),n}function qh(t,e){const n=Go(e);if(n){const i=[];let o=[],a=-1;for(let l=0;l<n.length;l++)n[l].status===3||(n[l].status===1?(W(a===l-1,"All SENT items should be at beginning of queue."),a=l,n[l].status=3,n[l].abortReason="set"):(W(n[l].status===0,"Unexpected transaction status in abort"),n[l].unwatcher(),o=o.concat(Sr(t.serverSyncTree_,n[l].currentWriteId,!0)),n[l].onComplete&&i.push(n[l].onComplete.bind(null,new Error("set"),!1,null))));a===-1?QE(e,void 0):n.length=a+1,$n(t.eventQueue_,ja(e),o);for(let l=0;l<i.length;l++)$o(i[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let o=n[i];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function Ob(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):$t(`Invalid query segment '${n}' in query '${t}'`)}return e}const gv=function(t,e){const n=Db(t),i=n.namespace;n.domain==="firebase.com"&&ui(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&ui("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||YL();const o=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new lE(n.host,n.secure,i,o,e,"",i!==n.subdomain),path:new De(n.pathString)}},Db=function(t){let e="",n="",i="",o="",a="",l=!0,c="https",h=443;if(typeof t=="string"){let f=t.indexOf("//");f>=0&&(c=t.substring(0,f-1),t=t.substring(f+2));let g=t.indexOf("/");g===-1&&(g=t.length);let m=t.indexOf("?");m===-1&&(m=t.length),e=t.substring(0,Math.min(g,m)),g<m&&(o=Ab(t.substring(g,m)));const _=Ob(t.substring(Math.min(t.length,m)));f=e.indexOf(":"),f>=0?(l=c==="https"||c==="wss",h=parseInt(e.substring(f+1),10)):f=e.length;const E=e.slice(0,f);if(E.toLowerCase()==="localhost")n="localhost";else if(E.split(".").length<=2)n=E;else{const T=e.indexOf(".");i=e.substring(0,T).toLowerCase(),n=e.substring(T+1),a=i}"ns"in _&&(a=_.ns)}return{host:e,port:h,domain:n,subdomain:i,secure:l,scheme:c,pathString:o,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",zb=function(){let t=0;const e=[];return function(n){const i=n===t;t=n;let o;const a=new Array(8);for(o=7;o>=0;o--)a[o]=vv.charAt(n%64),n=Math.floor(n/64);W(n===0,"Cannot push at time == 0");let l=a.join("");if(i){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)l+=vv.charAt(e[o]);return W(l.length===20,"nextPushId: Length should be 20."),l}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(e,n,i,o){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+dt(this.snapshot.exportVal())}}class Bb{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return W(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,n,i,o){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=o}get key(){return we(this._path)?null:gE(this._path)}get ref(){return new pi(this._repo,this._path)}get _queryIdentifier(){const e=nv(this._queryParams),n=Cp(e);return n==="{}"?"default":n}get _queryObject(){return nv(this._queryParams)}isEqual(e){if(e=fi(e),!(e instanceof Kp))return!1;const n=this._repo===e._repo,i=wE(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return n&&i&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+MR(this._path)}}class pi extends Kp{constructor(e,n){super(e,n,new Lp,!1)}get parent(){const e=yE(this._path);return e===null?null:new pi(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class xa{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new De(e),i=Ta(this.ref,e);return new xa(this._node.getChild(n),i,tt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,o)=>e(new xa(o,Ta(this.ref,i),tt)))}hasChild(e){const n=new De(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function fC(t,e){return t=fi(t),t._checkNotDeleted("ref"),e!==void 0?Ta(t._root,e):t._root}function Ta(t,e){return t=fi(t),Ce(t._path)===null?gb("child","path",e):iC("child","path",e),new pi(t._repo,ft(t._path,e))}function Ub(t,e){t=fi(t),rC("push",t._path),nC("push",e,t._path,!0);const n=sC(t._repo),i=zb(n),o=Ta(t,i),a=Ta(t,i);let l;return e!=null?l=Hb(a,e).then(()=>a):l=Promise.resolve(a),o.then=l.then.bind(l),o.catch=l.then.bind(l,void 0),o}function Hb(t,e){t=fi(t),rC("set",t._path),nC("set",e,t._path,!1);const n=new _c;return kb(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Wb(t){t=fi(t);const e=new jb(()=>{}),n=new Yp(e);return Ib(t._repo,t,n).then(i=>new xa(i,new pi(t._repo,t._path),t._queryParams.getIndex()))}class Yp{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new Fb("value",this,new xa(e.snapshotNode,new pi(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Bb(this,e,n):null}matches(e){return e instanceof Yp?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}WN(pi);qN(pi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="FIREBASE_DATABASE_EMULATOR_HOST",hf={};let Zb=!1;function $b(t,e,n,i){t.repoInfo_=new lE(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function Gb(t,e,n,i,o){let a=i||t.options.databaseURL;a===void 0&&(t.options.projectId||ui("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Lt("Using default host for project ",t.options.projectId),a=`${t.options.projectId}-default-rtdb.firebaseio.com`);let l=gv(a,o),c=l.repoInfo,h;typeof process<"u"&&Fg&&(h=Fg[Vb]),h?(a=`http://${h}?ns=${c.namespace}`,l=gv(a,o),c=l.repoInfo):l.repoInfo.secure;const f=new aR(t.name,t.options,e);vb("Invalid Firebase Database URL",l),we(l.path)||ui("Database URL must point to the root of a Firebase Database (not including a child path).");const g=Kb(c,t,f,new sR(t.name,n));return new Yb(g,t)}function qb(t,e){const n=hf[e];(!n||n[t.key]!==t)&&ui(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Rb(t),delete n[t.key]}function Kb(t,e,n,i){let o=hf[e.name];o||(o={},hf[e.name]=o);let a=o[t.toURLString()];return a&&ui("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new xb(t,Zb,n,i),o[t.toURLString()]=a,a}class Yb{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Tb(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new pi(this._repo,Re())),this._rootInternal}_delete(){return this._rootInternal!==null&&(qb(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ui("Cannot call "+e+" on a deleted database.")}}function Qb(t=C0(),e){const n=Aa(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=JP("database");i&&Xb(n,...i)}return n}function Xb(t,e,n,i={}){t=fi(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&ui("Cannot call useEmulator() after instance has already been initialized.");const o=t._repoInternal;let a;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&ui('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Kl(Kl.OWNER);else if(i.mockUserToken){const l=typeof i.mockUserToken=="string"?i.mockUserToken:eI(i.mockUserToken,t.app.options.projectId);a=new Kl(l)}$b(o,e,n,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(t){VL(fk),$i(new li("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return Gb(i,o,a,n)},"PUBLIC").setMultipleInstances(!0)),Zn(Bg,jg,t),Zn(Bg,jg,"esm2017")}ii.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ii.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Jb();const eM={apiKey:"AIzaSyAmVORjNB0yqi82u9gm4dLXBTjkGMmjUkc",authDomain:"mapprototype-7dd8a.firebaseapp.com",databaseURL:"https://mapprototype-7dd8a-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"mapprototype-7dd8a",storageBucket:"mapprototype-7dd8a.appspot.com",messagingSenderId:"680118634581",appId:"1:680118634581:web:c58627120ec26d6011ecdc",measurementId:"G-D0GP58K9ST"},pC=E0(eM);jL(pC);const mC=Qb(pC),_C=()=>{const[t,e]=A.useState({latitude:null,longitude:null}),n=dp()<=768,i=a=>{e({latitude:a[0],longitude:a[1]})},o=async()=>{const a=new Date().toISOString();try{await Ub(fC(mC,"Map"),{latitude:t.latitude,longitude:t.longitude,timestamp:a}).then(()=>{alert("Data captured successfully")})}catch(l){console.log(l)}};return $.jsx($.Fragment,{children:$.jsxs("div",{className:`flex flex-col items-center h-screen w-full bg-gray-700 text-white py-10 ${n?"px-5":"px-10"}`,children:[$.jsx("h1",{className:"text-2xl font-bold font-montserrat",children:"Map"}),$.jsx("div",{className:`${n?"w-full my-5":"w-5/6 my-10"}`,children:$.jsx(s0,{onLocationFound:i})}),$.jsxs("div",{className:`flex ${n?"flex-col":""}`,children:[$.jsx("p",{children:"Capture Coordinate here :"}),$.jsxs("p",{children:["[latitude: ",t.latitude,", longitude: ",t.longitude,"]"]})]}),$.jsx("button",{className:"bg-gray-700 hover:bg-blue-500 border border-2 border-blue-500 text-white font-bold py-2 px-4 rounded mt-4",onClick:()=>o(),children:"Simpan"})]})})};var gC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},yv=dn.createContext&&dn.createContext(gC),tM=["attr","size","title"];function nM(t,e){if(t==null)return{};var n=iM(t,e),i,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(o=0;o<a.length;o++)i=a[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function iM(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function Hu(){return Hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Hu.apply(this,arguments)}function wv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function Wu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wv(Object(n),!0).forEach(function(i){rM(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wv(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function rM(t,e,n){return e=oM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oM(t){var e=sM(t,"string");return typeof e=="symbol"?e:e+""}function sM(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vC(t){return t&&t.map((e,n)=>dn.createElement(e.tag,Wu({key:n},e.attr),vC(e.child)))}function yC(t){return e=>dn.createElement(aM,Hu({attr:Wu({},t.attr)},e),vC(t.child))}function aM(t){var e=n=>{var{attr:i,size:o,title:a}=t,l=nM(t,tM),c=o||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),dn.createElement("svg",Hu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,l,{className:h,style:Wu(Wu({color:t.color||n.color},n.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&dn.createElement("title",null,a),t.children)};return yv!==void 0?dn.createElement(yv.Consumer,null,n=>e(n)):e(gC)}function lM(t){return yC({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M171.3 96H224v96H111.3l30.4-75.9C146.5 104 158.2 96 171.3 96zM272 192V96h81.2c9.7 0 18.9 4.4 25 12l67.2 84H272zm256.2 1L428.2 68c-18.2-22.8-45.8-36-75-36H171.3c-39.3 0-74.6 23.9-89.1 60.3L40.6 196.4C16.8 205.8 0 228.9 0 256V368c0 17.7 14.3 32 32 32H65.3c7.6 45.4 47.1 80 94.7 80s87.1-34.6 94.7-80H385.3c7.6 45.4 47.1 80 94.7 80s87.1-34.6 94.7-80H608c17.7 0 32-14.3 32-32V320c0-65.2-48.8-119-111.8-127zM434.7 368a48 48 0 1 1 90.5 32 48 48 0 1 1 -90.5-32zM160 336a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"},child:[]}]})(t)}function uM(t){return yC({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M280 32c-13.3 0-24 10.7-24 24s10.7 24 24 24h57.7l16.4 30.3L256 192l-45.3-45.3c-12-12-28.3-18.7-45.3-18.7H64c-17.7 0-32 14.3-32 32v32h96c88.4 0 160 71.6 160 160c0 11-1.1 21.7-3.2 32h70.4c-2.1-10.3-3.2-21-3.2-32c0-52.2 25-98.6 63.7-127.8l15.4 28.6C402.4 276.3 384 312 384 352c0 70.7 57.3 128 128 128s128-57.3 128-128s-57.3-128-128-128c-13.5 0-26.5 2.1-38.7 6L418.2 128H480c17.7 0 32-14.3 32-32V64c0-17.7-14.3-32-32-32H459.6c-7.5 0-14.7 2.6-20.5 7.4L391.7 78.9l-14-26c-7-12.9-20.5-21-35.2-21H280zM462.7 311.2l28.2 52.2c6.3 11.7 20.9 16 32.5 9.7s16-20.9 9.7-32.5l-28.2-52.2c2.3-.3 4.7-.4 7.1-.4c35.3 0 64 28.7 64 64s-28.7 64-64 64s-64-28.7-64-64c0-15.5 5.5-29.7 14.7-40.8zM187.3 376c-9.5 23.5-32.5 40-59.3 40c-35.3 0-64-28.7-64-64s28.7-64 64-64c26.9 0 49.9 16.5 59.3 40h66.4C242.5 268.8 190.5 224 128 224C57.3 224 0 281.3 0 352s57.3 128 128 128c62.5 0 114.5-44.8 125.8-104H187.3zM128 384a32 32 0 1 0 0-64 32 32 0 1 0 0 64z"},child:[]}]})(t)}const wC=()=>{const[t,e]=A.useState({latitude:null,longitude:null}),[n,i]=A.useState({latitude:null,longitude:null}),[o,a]=A.useState("car"),[l,c]=A.useState([]),h=dp()<=767,f=_=>{e({latitude:_[0],longitude:_[1]})},g=_=>{i({latitude:_[0],longitude:_[1]})},m=async()=>{try{const _=await Wb(fC(mC,"Map"));_.exists()&&(c(Object.values(_.val())),Object.values(_.val()).length>0&&i({latitude:Object.values(_.val())[0].latitude,longitude:Object.values(_.val())[0].longitude}))}catch(_){console.log(_)}};return A.useEffect(()=>{m()},[]),$.jsx($.Fragment,{children:$.jsxs("div",{className:`flex flex-col items-center w-full bg-gray-700 text-white py-10 ${h?"px-5":"px-10"}`,children:[$.jsx("h1",{className:"text-2xl font-bold font-montserrat",children:"Result"}),$.jsxs("div",{className:`flex ${h?"flex-col-reverse":""} w-full`,children:[$.jsxs("div",{className:`${h?"w-full my-5":"w-5/6 my-10"}`,children:[$.jsx(s0,{onLocationFound:f,Destination:n,type:o}),$.jsxs("div",{className:"flex py-4 space-x-5",children:[$.jsx("div",{className:`w-full border border-2 border-white rounded cursor-pointer
                                hover:bg-gray-600 ${o==="car"?"bg-gray-600":""}`,onClick:()=>a("car"),children:$.jsx(lM,{className:"mx-auto my-5",size:50})}),$.jsx("div",{className:`w-full border border-2 border-white rounded cursor-pointer
                                hover:bg-gray-600 ${o==="motorcycle"?"bg-gray-600":""}`,onClick:()=>a("motorcycle"),children:$.jsx(uM,{className:"mx-auto my-5",size:50})})]})]}),$.jsx("div",{className:`${h?"overflow-x-auto":"overflow-y-auto"} text-white my-7 px-3 h-[80%]`,children:$.jsx("ul",{children:l.map((_,E)=>$.jsxs("li",{className:"text-center p-1 rounded bg-gray-800 cursor-pointer my-2",onClick:()=>g([_.latitude,_.longitude]),children:[$.jsxs("p",{children:["Latitude: ",_.latitude," "]}),$.jsxs("p",{children:["Longitude: ",_.longitude]}),$.jsxs("p",{children:["Timestamp: ",_.timestamp]})]},E))})})]})]})})},cM=()=>{const t=Kw(),e=cp(),[n,i]=A.useState(!1);return A.useEffect(()=>{const{pathname:o}=e;Hd("/MapPrototype",o)?i(!0):i(!1)},[e]),$.jsxs("div",{className:"flex items-center h-20 bg-gray-700 text-white",style:{display:n?"none":"flex",borderBottom:"1px solid black"},children:[$.jsx("div",{onClick:()=>t("Map",{replace:!0}),className:"flex cursor-pointer hover:bg-blue-500 w-full h-full",children:$.jsx("h1",{className:"text-3xl font-bold font-montserrat mx-auto my-auto",children:"Map"})}),$.jsx("div",{onClick:()=>t("Result",{replace:!0}),className:"flex cursor-pointer hover:bg-blue-500 w-full h-full",children:$.jsx("h1",{className:"text-3xl font-bold font-montserrat mx-auto my-auto",children:"Result"})})]})};function hM(){return $.jsxs($.Fragment,{children:[$.jsx(cM,{}),$.jsxs(nP,{children:[$.jsx(ql,{path:"/",element:$.jsx(_P,{})}),$.jsx(ql,{path:"/Map",element:$.jsx(_C,{})}),$.jsx(ql,{path:"/Result",element:$.jsx(wC,{})})]})]})}const dM=oP([{path:"/MapPrototype/",element:$.jsx(hM,{}),children:[{path:"/MapPrototype/Map",element:$.jsx(_C,{})},{path:"/MapPrototype/Result",element:$.jsx(wC,{})}]}]);Kh.createRoot(document.getElementById("root")).render($.jsx(dn.StrictMode,{children:$.jsx(pP,{router:dM})}))});export default fM();
